import{_ as a,V as e,W as r,$ as o,Y as l,F as n}from"./framework-b1bd8911.js";const t="/tutorial/imgs/column/llm/19-1.webp",h={},d=l('<p>即使你设计了完美的 Chunk，检索依然可能失败。</p><ul><li>用户的问题涉及 “尚未录入知识库的新政策”</li><li>问题表述模糊（比如 “那个蓝色的产品多少钱”，但知识库中没有 “蓝色产品” 的明确对应）</li><li>文档本身存在信息缺失</li></ul><p>这时，一个新的技术决策问题出现了：</p><blockquote><p><strong>系统是否应该“硬着头皮回答”？</strong></p></blockquote><hr><h3 id="_13-1-一个危险但常见的默认行为" tabindex="-1"><a class="header-anchor" href="#_13-1-一个危险但常见的默认行为" aria-hidden="true">#</a> 13.1 一个危险但常见的默认行为</h3><p>在没有检索到合适内容时，如果系统什么都不做（即直接把空的知识上下文传给模型）：</p><ul><li>LLM 会继续生成</li><li>幻觉会自然出现</li></ul><p>这是企业知识库助手中<strong>最危险的失效路径</strong>。</p><ul><li>对用户：得到错误信息（比如错误的报销流程、过期的产品价格），可能导致实际损失。</li><li>对系统：失去用户信任（“这个助手说的都不可信”）。</li></ul><p>举个例子：用户问 “2025 年新入职员工的社保缴纳基数”，但知识库中只有 2024 年的政策。如果检索失败后系统硬答，可能会把 2024 年的基数当作 2025 年的返回，导致用户按错误标准准备材料，最终影响社保缴纳。</p><hr><h3 id="_13-2-工程化的失败处理策略" tabindex="-1"><a class="header-anchor" href="#_13-2-工程化的失败处理策略" aria-hidden="true">#</a> 13.2 工程化的失败处理策略</h3><p>在企业场景中，更合理的选择是：明确告知用户 “没有找到相关信息”，并提供替代方案。具体实现需要三个环节：</p><h4 id="_1-显式判断检索是否成功" tabindex="-1"><a class="header-anchor" href="#_1-显式判断检索是否成功" aria-hidden="true">#</a> 1. 显式判断检索是否成功</h4><p>设定 “检索成功阈值”：</p><ul><li>向量检索：当最高相似度分数低于设定值（比如 0.7）时，判定为失败；</li><li>关键词检索：当匹配到的文档数量为 0，或匹配字段的覆盖率低于 30% 时，判定为失败；</li><li>混合判断：用小模型（如 GPT-3.5）快速扫描检索结果，判断是否与问题相关（成本稍高但更精准）。</li></ul><h4 id="_2-将-检索失败-作为一种状态传入上下文" tabindex="-1"><a class="header-anchor" href="#_2-将-检索失败-作为一种状态传入上下文" aria-hidden="true">#</a> 2. 将 “检索失败” 作为一种状态传入上下文</h4><p>在构建上下文时，明确告知模型：“本次检索未找到相关信息，请回复‘暂无相关知识’，并建议用户联系 XX 部门获取帮助”。</p><h4 id="_3-提供具体的替代方案" tabindex="-1"><a class="header-anchor" href="#_3-提供具体的替代方案" aria-hidden="true">#</a> 3. 提供具体的替代方案</h4><p>避免简单回复 “不知道”，而是给出行动指引，比如：</p><ul><li>“抱歉，我暂时没有 2024 年社保缴纳基数的信息。你可以联系人力资源部（hr@company.com）获取最新政策。”</li><li>“关于‘蓝色产品定价’，我没有找到明确信息。你可以补充产品型号（如 A100、B200），我会尽力为你查询。”</li></ul><figure><img src="'+t+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',23),u=l('<hr><h3 id="_13-3-本章小结-rag-的边界意识" tabindex="-1"><a class="header-anchor" href="#_13-3-本章小结-rag-的边界意识" aria-hidden="true">#</a> 13.3 本章小结：RAG 的边界意识</h3><ul><li>RAG 扩展了知识边界（让系统能回答超出自身训练数据的问题）</li><li>但并没有消除不确定性（总有检索不到的信息）</li></ul><p>一个成熟系统的标志，不是“总能回答”，而是：</p><blockquote><p><strong>知道什么时候不该回答,以及不该回答时该做什么。</strong></p></blockquote><p>这种 “边界意识” 能极大提升系统的可靠性 —— 用户会更信任一个 “只说确定信息” 的助手，而不是一个 “什么都敢说” 的助手。</p><hr><h2 id="第四部分总结-知识注入让系统第一次-接地气" tabindex="-1"><a class="header-anchor" href="#第四部分总结-知识注入让系统第一次-接地气" aria-hidden="true">#</a> 第四部分总结：知识注入让系统第一次“接地气”</h2><p>通过这一部分，你已经完成了一次关键升级：</p><ul><li>从“依赖模型知识”（局限于训练数据截止前的公开信息）</li><li>到“按需注入外部事实”（可以回答企业内部的、实时的、专属的知识）</li></ul><p>但你也应该已经意识到：</p><ul><li>即使有了 RAG，系统仍然是被动的</li></ul><p>它只能：</p><ul><li>在被问到时检索（无法主动推送知识）</li><li>在给定的检索结果中生成回答（无法自主判断 “是否需要进一步找更多信息”）</li></ul><p>这自然引出了下一部分的问题：</p><blockquote><p><strong>如果系统需要主动规划、多步决策，甚至自己决定“下一步该做什么”，该怎么办？</strong></p></blockquote><p>下一部分，我们将进入：</p><blockquote><p><strong>Function Calling 与 Agent 的世界。</strong></p></blockquote>',18);function p(c,s){const i=n("Mermaid");return e(),r("div",null,[d,o(i,{id:"mermaid-122",code:"eJylVV9P21YUf++nuFLVvVBY7DQjs6pOK3TTpHbSuk2qFO3Bsa/BrWdHjrPCxiR3XUlCs44VBl1JGsLfvGDU0YqQuPBdIt9r85R+hF7b2CEm0H++L/de3/P7nd+555w7prKZcfDD6DlAvgsXAF7eRebfyHhq7RU75lNcKqKZqnP/FSpM289bHbOEzCYqLZAlnt9GpSaZeKacxGazo1AAopzJad8qPASCKEnMeUgJCQFezGqqcgcy52N0MslTR8vBuyKvjTN0ZuKiquRkHvIMFSMLQZG1waz4K2SoeGaiF59TVHgMXuDgJciF8BxNJRPpXngC0Qf+LhTHxjUmrUj8mXy3c/xYD6EgxGEsJBQSw1wsWB7Tw4vsz4rMM5qagyF74i3aJGVM5FwuKiCLw4SQCMk+5+jhdB+y04JH/oFTGOhQDkzD7vXwcVqghY9hUHJaJAGSQgImQ4Z4MgnjwYV9SALIitZzH6w7Qvg0744Anmez46yqspNMHMRDiuQJDee66d9AB/fxy3t2/SFJf2d/Dj1Yb08/xqu6/WKFTI4Sv7CGF7Y8oy9T9nwdF3YPF43DlSeX0+qnV37MQhV8l4Pq5E8Mw3QLYnDwCria8qFwvYYqi97xm1BTRfgLK4EbCp+ToLfZMQv2UsMyTdTccIyabSwSd6xX/yFzI9zvmEWXIKgIz52rHsvIbz6L3ZrDz8odsxohugmzOUn74ndiHeZ3GANfIuVWf7kYIHS9aRfXY0PDhJtEA+CdOgmQXV13tqcH7OYGrlQ9mBHXjal2+QE4G2MKjKZ8DKsxYzUe4oW85+oIuR44oYFv5NuQ00RF9nZ9HruYx8ZLMACcWslqNH3WIGiHZR0v5wkkrqzj5uyA/f8+yk+jpWf21vxRvLpVFpFMu5IXl0+6ezkq2D3laybIaO2vk8orJXAW1BS49h66Qzoi+jghWeKlA6u1ihf2cK0QxKCtl4kF3vk3kF1CraZjGOhx3dleuXWrrVeioaC7FfA8j/WWPV/FhVlvbxR8Aq55WfVV6vr1G8D/5UN7jO7m11CGKqtBN7MyipyFLnq3FUTra6fubK6SaNt/7OEnj/zoH+otZ/8fq7WLdNM77hZ66nV1jkTSs/IP+I/SUXoHUUUzdazfiwSU6LZrhnVQ8X31MwHrm1bjEZotOJt/krnrZtBQgvoZIlLdvdBp29hCay/8l5HQn/ICSqJ853ttUoIgBoJu9Bnljt5mRw2RZyBiQYUW/d6TfhZ0aNHvUfAsTjbBGIhFYOIhTL/O/84wl0KYfu29n/+Jd7B4AwRJ1L4="}),u])}const f=a(h,[["render",p],["__file","19.检索失败时如何表现.html.vue"]]);export{f as default};
