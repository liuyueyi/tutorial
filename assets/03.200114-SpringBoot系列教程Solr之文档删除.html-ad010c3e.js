import{_ as o,V as e,W as c,X as l,Y as n,Z as s,$ as t,a1 as p,F as u}from"./framework-094145d2.js";const r={},i=n("p",null,"之前的搜索教程开了个头就没有继续了，现在重新捡回来，至少也把CURD的基本操作姿势补全了；本篇主要介绍如何删除数据",-1),k=n("h2",{id:"i-配置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#i-配置","aria-hidden":"true"},"#"),s(" I. 配置")],-1),d=n("p",null,"在介绍demo之前，需要先安装solr环境，搭建SpringBoot项目工程，具体的环境搭建过程不细说，推荐参考文档",-1),m={href:"http://spring.hhui.top/spring-blog/2019/05/10/190510-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2%E4%B9%8BSolr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8E%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95/",target:"_blank",rel:"noopener noreferrer"},v=p(`<p>在<code>application.yml</code> 配置文件中红，指定solr的域名</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">solr</span><span class="token punctuation">:</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>8983/solr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),b={href:"http://spring.hhui.top/spring-blog/2019/05/26/190526-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2Solr%E4%B9%8B%E6%96%87%E6%A1%A3%E6%96%B0%E5%A2%9E%E4%B8%8E%E4%BF%AE%E6%94%B9%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/",target:"_blank",rel:"noopener noreferrer"},q=p(`<div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content_id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;一灰灰blog&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;这是一灰灰blog的内容&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publish_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_version_&quot;</span><span class="token operator">:</span><span class="token number">1655609540674060288</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content_id&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;一灰灰&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;这是一灰灰的内容&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publish_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_version_&quot;</span><span class="token operator">:</span><span class="token number">1655609550229733376</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content_id&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;solrTemplate 修改之后!!!&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publish_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_version_&quot;</span><span class="token operator">:</span><span class="token number">1655609304941592576</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content_id&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_at&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publish_at&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_version_&quot;</span><span class="token operator">:</span><span class="token number">1655609305022332928</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content_id&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;addBatchByBean - 1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;新增一个测试文档&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publish_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_version_&quot;</span><span class="token operator">:</span><span class="token number">1655609304836734976</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content_id&quot;</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;addBatchByBean - 2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;新增又一个测试文档&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;publish_at&quot;</span><span class="token operator">:</span><span class="token number">1578912072</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_version_&quot;</span><span class="token operator">:</span><span class="token number">1655684018701598720</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ii-删除" tabindex="-1"><a class="header-anchor" href="#ii-删除" aria-hidden="true">#</a> II. 删除</h2><p>我们依然是使用<code>SolrTemplate</code>来操作solr的正删改查，它整合了solr的各种基本操作</p><h3 id="_1-根据主键删除" tabindex="-1"><a class="header-anchor" href="#_1-根据主键删除" aria-hidden="true">#</a> 1. 根据主键删除</h3><p>请注意，这种case是根据主键id进行删除的，支持批量删除，需要<code>solrTemplate.commit(&quot;yhh&quot;);</code>这一行来提交修改</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    solrTemplate<span class="token punctuation">.</span><span class="token function">deleteByIds</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    solrTemplate<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-查询删除" tabindex="-1"><a class="header-anchor" href="#_2-查询删除" aria-hidden="true">#</a> 2. 查询删除</h3><p>上面根据主键删除适合精准的删除操作，但是适用性有限；下面介绍查询删除的方式，将满足查询条件的数据都删除掉</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">deleteByQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SolrDataQuery</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    query<span class="token punctuation">.</span><span class="token function">addCriteria</span><span class="token punctuation">(</span><span class="token class-name">Criteria</span><span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;新增&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    solrTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">,</span> query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    solrTemplate<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面提供了一个简单的查询条件，删除content内容以<code>新增</code>开头的文档，至于查询语句的使用姿势在下一篇介绍Solr的查询姿势时详细说明</p><h3 id="_3-测试" tabindex="-1"><a class="header-anchor" href="#_3-测试" aria-hidden="true">#</a> 3. 测试</h3><p>接下来测试一下上面的两种case</p><p>首先我们提供一个输出所有文档的方法，用于对比删除前后的数据变化</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">printAll</span><span class="token punctuation">(</span><span class="token class-name">String</span> tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\n---------&gt; query all &quot;</span> <span class="token operator">+</span> tag <span class="token operator">+</span> <span class="token string">&quot; start &lt;------------\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DocDO</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> solrTemplate<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SimpleQuery</span><span class="token punctuation">(</span><span class="token string">&quot;*:*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addSort</span><span class="token punctuation">(</span><span class="token class-name">Sort</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">&quot;content_id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ascending</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">DocDO</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\n---------&gt; query all &quot;</span> <span class="token operator">+</span> tag <span class="token operator">+</span> <span class="token string">&quot; over &lt;------------\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来是方法调用</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">SolrTemplate</span> solrTemplate<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printAll</span><span class="token punctuation">(</span><span class="token string">&quot;init&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteByQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printAll</span><span class="token punctuation">(</span><span class="token string">&quot;afterDelete&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果如下，id为4,5,6的都被删除了</p><div class="language-log line-numbers-mode" data-ext="log"><pre class="language-log"><code><span class="token separator comment">---------</span><span class="token operator">&gt;</span> query all init start <span class="token operator">&lt;</span><span class="token separator comment">------------</span>

DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">=</span>一灰灰blog<span class="token punctuation">,</span> content<span class="token operator">=</span>这是一灰灰blog的内容<span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> title<span class="token operator">=</span>一灰灰<span class="token punctuation">,</span> content<span class="token operator">=</span>这是一灰灰的内容<span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> title<span class="token operator">=</span>solrTemplate 修改之后<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">,</span> content<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">,</span> content<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">0</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> title<span class="token operator">=</span>addBatchByBean <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> content<span class="token operator">=</span>新增一个测试文档<span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> title<span class="token operator">=</span>addBatchByBean <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> content<span class="token operator">=</span>新增又一个测试文档<span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token operator">)</span>

<span class="token separator comment">---------</span><span class="token operator">&gt;</span> query all init over <span class="token operator">&lt;</span><span class="token separator comment">------------</span>


<span class="token separator comment">---------</span><span class="token operator">&gt;</span> query all afterDelete start <span class="token operator">&lt;</span><span class="token separator comment">------------</span>

DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">=</span>一灰灰blog<span class="token punctuation">,</span> content<span class="token operator">=</span>这是一灰灰blog的内容<span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> title<span class="token operator">=</span>一灰灰<span class="token punctuation">,</span> content<span class="token operator">=</span>这是一灰灰的内容<span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578912072</span><span class="token operator">)</span>
DocDO<span class="token operator">(</span>id<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> contentId<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> title<span class="token operator">=</span>solrTemplate 修改之后<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">,</span> content<span class="token operator">=</span><span class="token boolean">null</span><span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> createAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token punctuation">,</span> publishAt<span class="token operator">=</span><span class="token number">1578988256</span><span class="token operator">)</span>

<span class="token separator comment">---------</span><span class="token operator">&gt;</span> query all afterDelete over <span class="token operator">&lt;</span><span class="token separator comment">------------</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ii-其他" tabindex="-1"><a class="header-anchor" href="#ii-其他" aria-hidden="true">#</a> II. 其他</h2><h3 id="_0-系列博文-项目源码" tabindex="-1"><a class="header-anchor" href="#_0-系列博文-项目源码" aria-hidden="true">#</a> 0. 系列博文&amp;项目源码</h3><p><strong>系列博文</strong></p>`,21),h={href:"http://spring.hhui.top/spring-blog/2019/05/26/190526-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2Solr%E4%B9%8B%E6%96%87%E6%A1%A3%E6%96%B0%E5%A2%9E%E4%B8%8E%E4%BF%AE%E6%94%B9%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/",target:"_blank",rel:"noopener noreferrer"},g={href:"http://spring.hhui.top/spring-blog/2019/05/10/190510-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2%E4%B9%8BSolr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8E%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95/",target:"_blank",rel:"noopener noreferrer"},y=n("p",null,[n("strong",null,"项目源码")],-1),_={href:"https://github.com/liuyueyi/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},E={href:"https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-boot/140-search-solr",target:"_blank",rel:"noopener noreferrer"};function B(A,f){const a=u("ExternalLinkIcon");return e(),c("div",null,[i,l(" more "),k,d,n("ul",null,[n("li",null,[n("a",m,[s("190510-SpringBoot高级篇搜索之Solr环境搭建与简单测试"),t(a)])])]),v,n("p",null,[s("然后在solr中，写入一些数据，供我们删除使用，可以通过控制台的方式写入，也可以通过"),n("a",b,[s("190526-SpringBoot高级篇搜索Solr之文档新增与修改使用姿势"),t(a)]),s(" 这篇文档的case添加")]),q,n("ul",null,[n("li",null,[n("a",h,[s("190526-SpringBoot高级篇搜索Solr之文档新增与修改使用姿势"),t(a)])]),n("li",null,[n("a",g,[s("190510-SpringBoot高级篇搜索之Solr环境搭建与简单测试"),t(a)])])]),y,n("ul",null,[n("li",null,[s("工程："),n("a",_,[s("https://github.com/liuyueyi/spring-boot-demo"),t(a)])]),n("li",null,[s("源码: "),n("a",E,[s("https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-boot/140-search-solr"),t(a)])])])])}const D=o(r,[["render",B],["__file","03.200114-SpringBoot系列教程Solr之文档删除.html.vue"]]);export{D as default};
