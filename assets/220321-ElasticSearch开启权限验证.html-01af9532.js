import{_ as t,V as l,W as i,X as o,Z as e,a1 as a,$ as n,Y as c,F as r}from"./framework-b1bd8911.js";const d={},p=e("p",null,"为了保证es的安全性，一般来讲我们会对es集群开启权限验证，下面将简单记录一下如何开启Basic Auth验证",-1),u=c(`<p>修改配置文件 <code>config/elasticsearch.yml</code>，添加下面的配置</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">xpack.security.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">xpack.security.authc.accept_default_password</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动es服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>bin/elasticsearch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>生成密码</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 执行完毕之后输入密码， 比如测试的密码都是 test123 (生产环境不要这么干)</span>
bin/elasticsearch-setup-passwords interactive
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>es的交互，主要使用 <code>Basic Auth</code> 方式进行身份校验，简单来讲，就是在请求头中，添加</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Authorization: Basic ZWxhc3RpYzp0ZXN0MTIz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="一灰灰的联系方式" tabindex="-1"><a class="header-anchor" href="#一灰灰的联系方式" aria-hidden="true">#</a> 一灰灰的联系方式</h2><p>尽信书则不如无书，以上内容，纯属一家之言，因个人能力有限，难免有疏漏和错误之处，如发现bug或者有更好的建议，欢迎批评指正，不吝感激</p>`,10),h={href:"https://blog.hhui.top",target:"_blank",rel:"noopener noreferrer"},m={href:"https://weibo.com/p/1005052169825577/home",target:"_blank",rel:"noopener noreferrer"},_=e("li",null,"QQ： 一灰灰/3302797840",-1),b=e("li",null,[a("微信公众号："),e("strong",null,"一灰灰blog")],-1),g=e("figure",null,[e("img",{src:"https://spring.hhui.top/spring-blog/imgs/info/info.png",alt:"QrCode",tabindex:"0",loading:"lazy"}),e("figcaption",null,"QrCode")],-1);function v(f,k){const s=r("ExternalLinkIcon");return l(),i("div",null,[p,o(" more "),u,e("ul",null,[e("li",null,[a("个人站点："),e("a",h,[a("https://blog.hhui.top"),n(s)])]),e("li",null,[a("微博地址: "),e("a",m,[a("小灰灰Blog"),n(s)])]),_,b]),g])}const y=t(d,[["render",v],["__file","220321-ElasticSearch开启权限验证.html.vue"]]);export{y as default};
