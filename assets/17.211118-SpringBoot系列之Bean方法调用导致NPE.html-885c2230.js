import{_ as e,V as p,W as o,a1 as c,Y as n,a0 as s,Z as t,X as i,F as l}from"./framework-ad59245f.js";const u="/tutorial/imgs/211118/00.jpg",d="/tutorial/imgs/211118/01.jpg",r="/tutorial/imgs/211118/02.jpg",k={},v=n("p",null,"åœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿è·å–Springå®¹å™¨ä¸­çš„Beanå¯¹è±¡ï¼Œä¸€ä¸ªå¸¸è§çš„caseå°±æ˜¯åˆ›å»ºä¸€ä¸ªSpringUtilç±»ï¼Œå†…éƒ¨æŒæœ‰SpringContextä¸Šä¸‹æ–‡ï¼Œç„¶åæä¾›ä¸€ä¸ªé™æ€çš„æ–¹å¼è·å–beanå¯¹è±¡ï¼Œç„¶è€Œè¿™ç§ä½¿ç”¨å§¿åŠ¿ï¼Œä¸€ä¸ªä¸å°å¿ƒå¯èƒ½å¯¼è‡´npe",-1),m=n("p",null,"ä»Šå¤©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªåœºæ™¯",-1),b=i(`<h2 id="åœºæ™¯å¤ç°" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯å¤ç°" aria-hidden="true">#</a> åœºæ™¯å¤ç°</h2><h3 id="_1-åŸºç¡€å·¥ç¨‹æ­å»º" tabindex="-1"><a class="header-anchor" href="#_1-åŸºç¡€å·¥ç¨‹æ­å»º" aria-hidden="true">#</a> 1. åŸºç¡€å·¥ç¨‹æ­å»º</h3><p>æ­å»ºä¸€ä¸ªåŸºç¡€çš„SpringBooté¡¹ç›®ï¼Œå…·ä½“çš„è¿‡ç¨‹è¿™é‡Œçœç•¥ï¼Œä¸‹é¢æ ‡æ³¨å…³é”®çš„ä¿¡æ¯</p><p>æœ¬é¡¹ç›®å€ŸåŠ©<code>SpringBoot 2.2.1.RELEASE</code> + <code>maven 3.5.3</code> + <code>IDEA</code>è¿›è¡Œå¼€å‘</p><p>å¼€ä¸€ä¸ªwebæœåŠ¡ç”¨äºæµ‹è¯•</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- é‚®ä»¶å‘é€çš„æ ¸å¿ƒä¾èµ– --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-springutil" tabindex="-1"><a class="header-anchor" href="#_2-springutil" aria-hidden="true">#</a> 2. SpringUtil</h3><p>æ„å»ºä¸€ä¸ªåŸºç¡€çš„SpringUtilå·¥å…·ç±»ï¼Œå€ŸåŠ©SpringContextAwareæ¥æŒæœ‰ä¸Šä¸‹æ–‡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringUtil</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationContextAware</span><span class="token punctuation">,</span> <span class="token class-name">EnvironmentAware</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Environment</span> environment<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringUtil</span><span class="token punctuation">.</span>applicationContext <span class="token operator">=</span> applicationContext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEnvironment</span><span class="token punctuation">(</span><span class="token class-name">Environment</span> environment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringUtil</span><span class="token punctuation">.</span>environment <span class="token operator">=</span> environment<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>clz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-ä½¿ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_3-ä½¿ç”¨å®ä¾‹" aria-hidden="true">#</a> 3. ä½¿ç”¨å®ä¾‹</h3><p>é¦–å…ˆæ„å»ºä¸€ä¸ªç®€å•çš„beanå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">showCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test-&quot;</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€æ˜¯å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œä¾èµ–ä¸Šé¢è¿™ä¸ªå¯¹è±¡ï¼Œå¯¹å¤–æä¾›çš„ä¸»è¦æ¥å£æ˜¯ <code>process</code>ï¼Œå…¶å†…éƒ¨å®ç°æ˜¯æ ¹æ®æšä¸¾ç±»ï¼Œæ¥åšçš„ä¸€ä¸ªç­–ç•¥é€‰æ‹©ï¼›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BasicDemo</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">TestDemo</span> testDemo<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Data</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> testDemo<span class="token punctuation">.</span><span class="token function">showCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> testDemo<span class="token punctuation">.</span><span class="token function">testCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Data</span> <span class="token punctuation">{</span>
        <span class="token function">SHOW</span><span class="token punctuation">(</span><span class="token string">&quot;show&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token class-name">String</span> <span class="token function">doProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token class-name">SpringUtil</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BasicDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">CASE</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token class-name">String</span> <span class="token function">doProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token class-name">SpringUtil</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BasicDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token class-name">String</span> data<span class="token punctuation">;</span>

        <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">doProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Data</span> d<span class="token operator">:</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> d<span class="token punctuation">.</span><span class="token function">doProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹å…³æ³¨ä¸Šé¢å®ç°ä¸­çš„æšä¸¾ç±»ï¼Œåœ¨æšä¸¾ç±»ä¸­ï¼Œæ ¹æ®SpringUtilè·å–åˆ°<code>BasicDemo</code>å¯¹è±¡ï¼Œç„¶åæ‰§è¡Œå®ƒçš„ç§æœ‰æ–¹æ³•<code>show()</code>åŠåŒ…å†…æ–¹æ³•<code>test()</code></p><p>è¿™ç§ç”¨æ³•ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ä¹ˆï¼Ÿ</p><h3 id="_4-æµ‹è¯•case" tabindex="-1"><a class="header-anchor" href="#_4-æµ‹è¯•case" aria-hidden="true">#</a> 4. æµ‹è¯•case</h3><p>æ¥ä¸‹æ¥å†™ä¸ªç®€å•æ¥å£æµ‹è¯•ä¸€ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BasicDemo</span> basicDemo<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;show&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> basicDemo<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥è®¿é—®çœ‹çœ‹ä¼šæ˜¯æ€æ ·</p><figure><img src="`+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>what? ä¸æ˜¯è¯´ä¼šnpeä¹ˆï¼Ÿè¿™ä¸æ˜¯å¾ˆæ­£å¸¸çš„è¿”å›äº†ä¹ˆï¼ï¼ï¼</p><p>æ¥ä¸‹æ¥å°±æ˜¯è§è¯bugçš„æ—¶åˆ»äº†ï¼ŒåŒæ ·æ˜¯ä¸Šé¢çš„ä»£ç ï¼Œå°±è®©å®ƒå‡ºç°npe</p><h3 id="_5-bugå¤ç°" tabindex="-1"><a class="header-anchor" href="#_5-bugå¤ç°" aria-hidden="true">#</a> 5. bugå¤ç°</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªåˆ‡é¢ï¼Œç›®çš„å°±æ˜¯è®©é€šè¿‡<code>SpringUtil.getBean</code>è·å–åˆ°çš„å¯¹è±¡æ˜¯ä»£ç†ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ³¨æ„åœ¨è¿™ä¸ªæ–¹æ³•æ‰€åœ¨ç±»ä¸Šï¼Œæ·»åŠ æ³¨è§£ @Aspect</span>
<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(public * com.git.hui.boot.web.interceptor.server.BasicDemo.*(..))&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå†é‡æ–°è¯·æ±‚ä¸€ä¸‹ä¸Šé¢çš„è®¿é—®</p><figure><img src="`+d+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>åœ¨è®¿é—®ç§æœ‰æ–¹æ³• <code>show()</code>è¿™é‡ŒæŠ›äº†å¼‚å¸¸ï¼Œä»æœåŠ¡ç«¯çš„å †æ ˆå¯ä»¥çœ‹åˆ°å¼‚å¸¸ç±»å‹ä¸ºNPEï¼Œä¸»è¦åŸå› å°±æ˜¯ <code>testDemo</code> ä¸ºnull</p><p>ç®€å•æ¥è®²å°±æ˜¯è®¿é—®ä»£ç†ç±»çš„ç§æœ‰æ–¹æ³•æ—¶ï¼Œå†…éƒ¨è‹¥æœ‰æ³¨å…¥beanå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æ‹¿åˆ°çš„æ˜¯null</p><p>è¿™ä¸ªå°±æœ‰ç‚¹ç¥å¥‡äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†å˜ä¸€ä¸‹ï¼Œç§æœ‰æ–¹æ³•å†…éƒ¨ä¸ç›´æ¥ä½¿ç”¨æ³¨å…¥çš„beanå¯¹è±¡ï¼Œæ”¹è°ƒç”¨ä¸€ä¸ªbeanå¯¹è±¡çš„å…±æœ‰æ–¹æ³•ï¼Œä¼šæ€æ ·</p><p><strong>å°†ä¸Šé¢çš„show()æ–¹æ³•é‡å†™ä¸€ä¸‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> testDemo<span class="token punctuation">.</span><span class="token function">showCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†æ¬¡æµ‹è¯•ï¼Œè¾“å‡ºå¦‚</p><figure><img src="`+r+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å±…ç„¶æ²¡æœ‰é—®é¢˜ï¼ï¼ï¼</p><p>å°±è¿™ä¹ˆç¥å¥‡æœ‰æœ¨æœ‰ï¼Œé‚£ä¹ˆæ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ</p><ul><li>å…³é”®çŸ¥è¯†ç‚¹ï¼šSpringä»£ç†ç±»çš„ç”Ÿæˆé€»è¾‘</li></ul><h3 id="_6-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_6-å°ç»“" aria-hidden="true">#</a> 6. å°ç»“</h3><p>å¥½åƒåˆšè¿›å…¥ä¸»ä½“ï¼Œç»“æœåˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼ŒçœŸæ˜¯è¿‡åˆ†ğŸ˜¡ï¼Œè¿™é‡Œå…ˆå°ç»“ä¸€ä¸‹è¿™ä¸ªé—®é¢˜å‡ºç°çš„åœºæ™¯ï¼Œè‡³äºå…·ä½“åŸå› æœ‰å¾…ä¸‹ç‰‡åšæ–‡ä»‹ç»</p><p>å½“æˆ‘ä»¬é€šè¿‡SpringContextè·å–åˆ°çš„beanå¯¹è±¡æ—¶ï¼Œä¸è¦ç›´æ¥è®¿é—®å®ƒçš„ç§æœ‰æ–¹æ³•ï¼Œå¯èƒ½å¯¼è‡´npe</p><p><strong>100%å¿…å…ˆçš„åœºæ™¯</strong></p><ul><li>è¿™ä¸ªbeanå¯¹è±¡æœ‰ä»£ç†ç±»ï¼ˆå¦‚æœ‰åˆ‡é¢æ‹¦æˆªäº†å®ƒï¼Œå¦‚ç±»å†…éƒ¨æœ‰ä¸€äº›ç‰¹å®šæ³¨è§£ï¼‰</li><li>ç§æœ‰æ–¹æ³•å†…ä½¿ç”¨äº†æ³¨å…¥å¯¹è±¡</li></ul><p>çœ‹åˆ°ä¸Šé¢å°±ä¼šæœ‰ä¸ªç–‘é—®ï¼Œè°ä¼šå»è®¿é—®ç§æœ‰æ–¹æ³•å‘¢ï¼Ÿæˆ‘è„‘å­åˆæ²¡å‘ğŸ˜’ï¼Œä½•å†µç§æœ‰æ–¹æ³•åœ¨å¤–é¢ä¹Ÿè®¿é—®ä¸äº†å•Š</p><p>è¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ªç›¸å½“å¸¸è§çš„åœºæ™¯äº†ï¼Œç±»å†…éƒ¨æ–¹æ³•Aè°ƒç”¨å¸Œæœ›åˆ‡é¢æ‹¦æˆªçš„æ–¹æ³•Bï¼Œè¿™æ—¶æˆ‘ä»¬å¸¸è¿™ä¹ˆåš</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>public class A {
    @Autowired
    private A a;

    public void test() {
        a.testB();
    }
    
    @Point
    public String testB() {
        return &quot;hello&quot;;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„testæ–¹æ³•ï¼Œè®¿é—®testBæ–¹æ³•å°±å¯ä»¥èµ°åˆ‡é¢é€»è¾‘ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªç±»ä¸­ï¼Œå°±æœ‰å¯èƒ½å‡ºç°ç›´æ¥æ˜¯ç”¨<code>a.privetMethod()</code>çš„åœºæ™¯äº†</p><p>æ­¤å¤–å°±æ˜¯åå°„æ‰§è¡ŒæŸäº›é€»è¾‘çš„æ—¶å€™ä¹Ÿæœ‰å¯èƒ½å‡ºç°è®¿é—®ç§æœ‰æ–¹æ³•äº†ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼›</p><p>æ¬¢è¿æœ‰å…´è¶£çš„å°ä¼™ä¼´å›å¤äº’åŠ¨ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>ä¸€ç°ç°blog</strong></p><h2 id="iii-ä¸èƒ½é”™è¿‡çš„æºç å’Œç›¸å…³çŸ¥è¯†ç‚¹" tabindex="-1"><a class="header-anchor" href="#iii-ä¸èƒ½é”™è¿‡çš„æºç å’Œç›¸å…³çŸ¥è¯†ç‚¹" aria-hidden="true">#</a> III. ä¸èƒ½é”™è¿‡çš„æºç å’Œç›¸å…³çŸ¥è¯†ç‚¹</h2><h3 id="_0-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_0-é¡¹ç›®" aria-hidden="true">#</a> 0. é¡¹ç›®</h3>`,51),g={href:"https://github.com/liuyueyi/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},h={href:"https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-boot/",target:"_blank",rel:"noopener noreferrer"},w=n("h3",{id:"_1-å¾®ä¿¡å…¬ä¼—å·-ä¸€ç°ç°blog",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-å¾®ä¿¡å…¬ä¼—å·-ä¸€ç°ç°blog","aria-hidden":"true"},"#"),s(" 1. å¾®ä¿¡å…¬ä¼—å·: ä¸€ç°ç°Blog")],-1),f=n("p",null,"å°½ä¿¡ä¹¦åˆ™ä¸å¦‚ï¼Œä»¥ä¸Šå†…å®¹ï¼Œçº¯å±ä¸€å®¶ä¹‹è¨€ï¼Œå› ä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œéš¾å…æœ‰ç–æ¼å’Œé”™è¯¯ä¹‹å¤„ï¼Œå¦‚å‘ç°bugæˆ–è€…æœ‰æ›´å¥½çš„å»ºè®®ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ï¼Œä¸åæ„Ÿæ¿€",-1),y=n("p",null,"ä¸‹é¢ä¸€ç°ç°çš„ä¸ªäººåšå®¢ï¼Œè®°å½•æ‰€æœ‰å­¦ä¹ å’Œå·¥ä½œä¸­çš„åšæ–‡ï¼Œæ¬¢è¿å¤§å®¶å‰å»é€›é€›",-1),_={href:"https://blog.hhui.top",target:"_blank",rel:"noopener noreferrer"},x={href:"http://spring.hhui.top",target:"_blank",rel:"noopener noreferrer"},S=n("figure",null,[n("img",{src:"https://spring.hhui.top/spring-blog/imgs/info/info.png",alt:"ä¸€ç°ç°blog",tabindex:"0",loading:"lazy"}),n("figcaption",null,"ä¸€ç°ç°blog")],-1);function B(C,j){const a=l("ExternalLinkIcon");return p(),o("div",null,[v,m,c(" more "),b,n("ul",null,[n("li",null,[s("å·¥ç¨‹ï¼š"),n("a",g,[s("https://github.com/liuyueyi/spring-boot-demo"),t(a)])]),n("li",null,[s("æºç ï¼š"),n("a",h,[s("https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-boot/"),t(a)])])]),w,f,y,n("ul",null,[n("li",null,[s("ä¸€ç°ç°Blogä¸ªäººåšå®¢ "),n("a",_,[s("https://blog.hhui.top"),t(a)])]),n("li",null,[s("ä¸€ç°ç°Blog-Springä¸“é¢˜åšå®¢ "),n("a",x,[s("http://spring.hhui.top"),t(a)])])]),S])}const D=e(k,[["render",B],["__file","17.211118-SpringBootç³»åˆ—ä¹‹Beanæ–¹æ³•è°ƒç”¨å¯¼è‡´NPE.html.vue"]]);export{D as default};
