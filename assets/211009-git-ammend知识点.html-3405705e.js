import{_ as i,V as n,W as s,X as t,Y as a,Z as e,a1 as o}from"./framework-094145d2.js";const r="/tutorial/hexblog/imgs/211009/00.jpg",l="/tutorial/hexblog/imgs/211009/01.jpg",c="/tutorial/hexblog/imgs/211009/02.jpg",d="/tutorial/hexblog/imgs/211009/03.jpg",p="/tutorial/hexblog/imgs/211009/04.jpg",m="/tutorial/hexblog/imgs/211009/05.jpg",g="/tutorial/hexblog/imgs/211009/06.jpg",u="/tutorial/hexblog/imgs/211009/07.jpg",b={},h=a("p",null,"在实际使用git的过程中，难免会存在手误的场景，比如 git commit之后，发现提交的描述信息不太合适，想调整一下；或者发现本地有多个零碎未提交的commit，想合并成一个提交...",-1),f=a("p",null,[e("当我们出现这些需求场景的时候，可以考虑使用"),a("code",null,"git commit --amend"),e("来实现")],-1),v=o('<h3 id="_1-修改提交文案" tabindex="-1"><a class="header-anchor" href="#_1-修改提交文案" aria-hidden="true">#</a> 1. 修改提交文案</h3><figure><img src="'+r+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>比如上面截图中，如果我希望修改上一次的提交内容，可以如下操作</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> commit <span class="token parameter variable">--amend</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>注意上面这个只能修改最后一次提交，如果我现在想修改的不是最后一次，则可以如下操作</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> rebase <span class="token parameter variable">-i</span> origin/master
<span class="token function">git</span> commit <span class="token parameter variable">--amend</span>
<span class="token function">git</span> rebase <span class="token parameter variable">--continue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+m+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-修改提交name-email" tabindex="-1"><a class="header-anchor" href="#_2-修改提交name-email" aria-hidden="true">#</a> 2. 修改提交Name/Email</h3><p>通常使用<code>git commit --amend</code>来修改提交文案的场景更多，但是某些场景下可能需要修改Author信息，比如不小心在自己的github项目中使用了公司的邮箱，这个时候如果我们需要修改，同样可以使用上面这个命令来做</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> commit <span class="token parameter variable">--amend</span> <span class="token parameter variable">--author</span><span class="token operator">=</span><span class="token string">&#39;一灰灰 &lt;yihuihuiyi@gmail.com&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+g+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>同样当我们需要修改非最近一次提交的用户信息时，操作姿势和上面差不多</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> rebase <span class="token parameter variable">-i</span> origin/master
<span class="token function">git</span> commit <span class="token parameter variable">--amend</span> <span class="token parameter variable">--author</span><span class="token operator">=</span><span class="token string">&#39;一灰灰 &lt;yihuihuiyi@gmail.com&#39;</span>
<span class="token function">git</span> commit <span class="token parameter variable">--continue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-多个commit合并" tabindex="-1"><a class="header-anchor" href="#_3-多个commit合并" aria-hidden="true">#</a> 3. 多个commit合并</h3><p>这个的思路主要是先回退到最开始的提交，然后借助<code>git commit --amend</code>来合并为一个提交</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> reset <span class="token parameter variable">--soft</span> 5c02534b24d393f9f7a4114758e4363a128b532b
<span class="token function">git</span> commit <span class="token parameter variable">--amend</span>
<span class="token function">git</span> log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',21);function _(k,x){return n(),s("div",null,[h,f,t(" more "),v])}const j=i(b,[["render",_],["__file","211009-git-ammend知识点.html.vue"]]);export{j as default};
