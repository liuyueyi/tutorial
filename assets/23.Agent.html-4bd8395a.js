import{_ as n,V as o,W as i,$ as r,Y as t,F as l}from"./framework-b1bd8911.js";const a="/tutorial/imgs/column/llm/23-1.webp",g={},s=t('<p>当系统需要处理的任务涉及：</p><ul><li>多个工具（比如既需要查文档，又需要调用审批系统）</li><li>多个步骤（比如先确认规则，再填写表单，最后验证结果）</li><li>动态调整（比如提交失败后，需要根据错误提示修改内容）</li></ul><p>单次的 Function Calling 就会力不从心。这时候，我们需要一种能 “持续决策、反复行动” 的机制 —— 这就是 Agent。</p><hr><h3 id="_16-1-一个常见误解-agent-更复杂的-prompt" tabindex="-1"><a class="header-anchor" href="#_16-1-一个常见误解-agent-更复杂的-prompt" aria-hidden="true">#</a> 16.1 一个常见误解：Agent = 更复杂的 Prompt</h3><p>很多人尝试实现 <code>Agent</code> 时，会陷入一个误区：认为只要写一个 “更详细的 Prompt”，让模型 “自己规划步骤”，就能实现 Agent 能力。</p><p>比如在 Prompt 里写 “你需要先查文档，再调用系统，最后整理结果”。</p><blockquote><p><strong>它们仍然在用“一次生成”的思维方式。</strong></p></blockquote><p>没有真正的 “步骤执行与反馈”。实际使用中会出现各种问题：</p><ul><li>模型可能 “忘记” 中间步骤（比如查了文档后，没调用审批系统就直接返回结果）；</li><li>无法处理意外情况（比如调用系统失败时，不知道该重试还是放弃）；</li><li>步骤不可控（比如本来 3 步能完成的任务，模型规划了 10 步，导致效率极低）。</li></ul><p>这就是为什么很多 <code>Agent</code> 实现会失败：</p><blockquote><p><strong>它们把 “循环执行” 的逻辑交给了模型的 “一次性思考”，而没有在系统层面实现真正的闭环。</strong></p></blockquote><hr><h3 id="_16-2-agent-的最小正确抽象" tabindex="-1"><a class="header-anchor" href="#_16-2-agent-的最小正确抽象" aria-hidden="true">#</a> 16.2 Agent 的最小正确抽象</h3><p>从系统视角看，一个能正常工作的 Agent 必须包含四个核心环节，形成闭环：</p><ol><li><strong>思考（Planning）</strong>：拆解任务，决定下一步要做什么（比如 “先查报销流程，再判断是否需要调用提交接口”）；</li><li><strong>行动（Execution）</strong>：调用对应的工具 / 函数执行计划（比如调用search_document获取流程，调用submit_reimbursement提交申请）；</li><li><strong>反馈（Observation）</strong>：获取行动结果（比如文档内容、接口返回的 “提交成功” 或 “缺少发票” 提示）；</li><li><strong>再规划（Replan）</strong>：基于反馈调整下一步计划（比如如果提示 “缺少发票”，就规划 “提醒用户上传发票”）。</li></ol><figure><img src="'+a+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',17),p=t('<hr><h3 id="_16-3-企业知识库助手中的-agent-化形态" tabindex="-1"><a class="header-anchor" href="#_16-3-企业知识库助手中的-agent-化形态" aria-hidden="true">#</a> 16.3 企业知识库助手中的 Agent 化形态</h3><p>在我们的示例中，Agent 可以：</p><ul><li><strong>规划阶段</strong>：用户问 “帮我处理这笔海外差旅报销”，Agent 拆解为 “1. 确认报销流程；2. 检查用户提供的信息是否完整；3. 调用提交接口；4. 通知主管”；</li><li><strong>执行阶段</strong>：先调用search_document获取流程，再调用check_info验证用户提供的发票、行程单等；</li><li><strong>反馈阶段</strong>：发现用户 “缺少电子行程单”，接口返回错误；</li><li><strong>再规划阶段</strong>：调整计划为 “先提醒用户补充电子行程单，再重新提交”。</li></ul><p>这些决策逻辑不是写死在 Prompt 里的，而是 Agent 基于实时反馈动态生成的</p><p>—— 这才是 “智能决策” 的核心：不是预设路径，而是根据实际情况灵活调整。</p><p>但这里有一个关键问题：如果 Agent 可以无限循环、自由决策，在企业场景中会带来巨大风险（比如反复调用付费接口导致成本失控，或执行未授权操作）。</p><p>因此，如何 “控制 Agent 的自由度”，成为下一章的核心话题。</p>',8);function c(d,u){const e=l("Mermaid");return o(),i("div",null,[s,r(e,{id:"mermaid-98",code:"eJytU8tO20AU3fMVlhAriJoEqlK3QgLaXdVW7TLqwo9JYmHZkW0KVCxCeCUhAZVHhGjagChNhJSAKI+kNvAvyDN2VukndDyThJpWVRfYm3ndc849996YxiXizIs3PQz++voYtHsBrTVY27EbmZa145glu55Eu3V4PY/O5pzKSnMx72ZOWlYOWj9grgCvDp3VI7RQIgCCzOn6MxBlBFUDL1URMFFJltneqACGgDCgG5o6AdheIRwafsi3t4EpSTTibDgxPaCpk4oIRDYUxJuoqhiBKSDF4gbLq7JID3TpA2BDQ4lpP5+iGj4+zvu7fLzo/R0+kdPjnKZxM+wgM9jlHO5QUgYsp+fWEy99mqmbTTmpBnbGLS/A9PrN0jrKlN29HF645RQ8KnmL66pt7pPo0chrmVMUSYk95bUHIzSouX2OamfkoGWlbdOE2T20suSW9/udasHZOoDpc1yBlpV5x7Js18pAYIQZizyfBsKkIakKiafkfkCYrdiXRXrTDy8O4OKFezzvbFbuABKBYwR2PPKK14H2nusC02T8wI65gb4U4Vq++S3d72TPUXIOfTpFheO/AY97wLNt04ghtrWNG2b2N0986d2xG32vYEO8Fkw10PYqMxoDitG+ayZN9+ojee8VPvKztJHzXeEw+t5dPrTrJuWnWnDnNpM77vXyTbJIyxGgVgXa9Ut+Rrk5x6xSubQ6NHNPbqfRumKJTPsy71zWMCvavILFCmWy6yuogFslZ9fzsHGCMsdYCh0iEq0bMzIgCTAJVZc861mO11V50gBPbu1walX49ZTOJWbwjR0G21rsDJ8sKRNvCWYQY/970toHOAQIXIIlQ3AHJHQfIOEuyGMh/IgP/h/In5MaZII9vwDjqD0I"}),p])}const m=n(g,[["render",c],["__file","23.Agent.html.vue"]]);export{m as default};
