import{_ as e,V as o,W as c,a1 as l,X as n,Y as s,Z as t,a0 as p,F as i}from"./framework-23f3cf9b.js";const u="/tutorial/imgs/200330/00.jpg",k="/tutorial/imgs/200330/01.jpg",r="/tutorial/imgs/200330/02.jpg",d={},v=n("p",null,"ä¹‹å‰ä»‹ç»solrçš„æ•™ç¨‹ä¸­ï¼Œsolræ²¡æœ‰å¼€å¯æƒé™æ ¡éªŒï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— éœ€é‰´æƒï¼›å½“æ—¶æåˆ°ï¼Œå¦‚æœsolrå¼€å¯äº†æƒé™æ ¡éªŒï¼Œæ”¹ä¸€ä¸‹solrçš„hostï¼Œå¸¦ä¸Šç”¨æˆ·å/å¯†ç å³å¯ï¼Œç„¶è€ŒçœŸå®æƒ…å†µå´å¹¶ä¸å¤ªä¸€æ ·ï¼ŒæŸ¥è¯¢okï¼Œæ¶‰åŠåˆ°ä¿®æ”¹çš„æ“ä½œï¼Œåˆ™ä¼šæŠ›å¼‚å¸¸",-1),g=n("p",null,"æœ¬æ–‡å°†å¸¦ä½ äº†è§£ä¸€ä¸‹ï¼Œè¿™åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆé¬¼ç•œç°è±¡",-1),m=n("h2",{id:"i-solré…ç½®ç”¨æˆ·ç™»å½•",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#i-solré…ç½®ç”¨æˆ·ç™»å½•","aria-hidden":"true"},"#"),s(" I. Solré…ç½®ç”¨æˆ·ç™»å½•")],-1),b=n("h3",{id:"_1-å®‰è£…",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-å®‰è£…","aria-hidden":"true"},"#"),s(" 1. å®‰è£…")],-1),h=n("p",null,"ä¹‹å‰çš„solrç³»åˆ—æ•™ç¨‹ä¸­ï¼Œé€šè¿‡dockerå®‰è£…çš„solrï¼Œä¸‹é¢çš„æ­¥éª¤ä¹Ÿæ˜¯ç›´æ¥é’ˆå¯¹dockerä¸­çš„solrè¿›è¡Œé…ç½®ï¼ŒåŸºæœ¬æ­¥éª¤ä¸€æ ·",-1),f={href:"http://spring.hhui.top/spring-blog/2019/05/10/190510-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2%E4%B9%8BSolr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8E%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95/",target:"_blank",rel:"noopener noreferrer"},y=p(`<p>ä¸æƒ³çœ‹çš„åŒå­¦ï¼Œç›´æ¥ç”¨ä¸‹é¢çš„å‘½ä»¤å³å¯:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull solr
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> my-solr <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8983</span>:8983 <span class="token parameter variable">-t</span> solr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®" aria-hidden="true">#</a> 2. é…ç½®</h3>`,3),_={href:"https://blog.csdn.net/u011561335/article/details/90695860",target:"_blank",rel:"noopener noreferrer"},w=p(`<p>è¿›å…¥å®ä¾‹ï¼Œæ³¨æ„ä½¿ç”¨<code>root</code>ç”¨æˆ·ï¼Œå¦åˆ™æŸäº›æ“ä½œå¯èƒ½æ²¡æœ‰æƒé™</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span>  <span class="token parameter variable">-u</span> root <span class="token parameter variable">-it</span> my-solr /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ›å»ºé‰´æƒæ–‡ä»¶</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> server/etc/verify.properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å†…å®¹å¦‚ä¸‹ï¼Œæ ¼å¼ä¸º <code>ç”¨æˆ·å:å¯†ç ,æƒé™</code>ï¼Œ ä¸€è¡Œä¸€ä¸ªè´¦å·</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">root</span><span class="token punctuation">:</span><span class="token value attr-value">123,admin</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>é…ç½®é‰´æƒæ–‡ä»¶</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> server/contexts/solr-jetty-context.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ·»åŠ ä¸‹é¢çš„å†…å®¹æ”¾åœ¨<code>Configure</code>æ ‡ç­¾å†…</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Get</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>securityHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loginService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>New</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.eclipse.jetty.security.HashLoginService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>verifyâ€”name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span> 
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Set</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>config<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemProperty</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jetty.home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>/etc/verify.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>    
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>New</span><span class="token punctuation">&gt;</span></span>    
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Set</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Get</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¿®æ”¹web.xml</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> server/solr-webapp/webapp/WEB-INF/web.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨<code>security-constraint</code>æ ‡ç­¾ä¸‹é¢ï¼Œæ–°å¢</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login-config</span><span class="token punctuation">&gt;</span></span>     
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>auth-method</span><span class="token punctuation">&gt;</span></span>BASIC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>auth-method</span><span class="token punctuation">&gt;</span></span> 
		<span class="token comment">&lt;!-- è¯·æ³¨æ„ï¼Œè¿™ä¸ªname å’Œä¸Šé¢çš„Setæ ‡ç­¾ä¸­çš„nameä¿æŒä¸€è‡´ --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>realm-name</span><span class="token punctuation">&gt;</span></span>verify-name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>realm-name</span><span class="token punctuation">&gt;</span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>login-config</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é‡å¯solrï¼Œé…ç½®ç”Ÿæ•ˆ</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> restart my-solr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ii-åœºæ™¯å¤ç°" tabindex="-1"><a class="header-anchor" href="#ii-åœºæ™¯å¤ç°" aria-hidden="true">#</a> II. åœºæ™¯å¤ç°</h2><p>æ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬çš„ç¯å¢ƒ</p><ul><li>springboot: 2.2.1.RELEASE</li><li>solr: 8.0</li></ul><h3 id="_1-é¡¹ç›®ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_1-é¡¹ç›®ç¯å¢ƒ" aria-hidden="true">#</a> 1. é¡¹ç›®ç¯å¢ƒ</h3><p>æ­å»ºä¸€ä¸ªç®€å•çš„springbooté¡¹ç›®ï¼Œxmlä¾èµ–å¦‚ä¸‹</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-solr<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!-- è¯·æ³¨æ„ï¼Œåœ¨solrå¼€å¯ç™»å½•éªŒè¯æ—¶ï¼Œè¿™ä¸ªä¾èµ–å¿…é¡»æœ‰ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-codec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-codec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>spring-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Spring Snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://repo.spring.io/libs-snapshot-local<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>spring-milestones<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Spring Milestones<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://repo.spring.io/libs-milestone-local<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>spring-releases<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Spring Releases<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://repo.spring.io/libs-release-local<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹åº”çš„é…ç½®æ–‡ä»¶<code>application.yml</code></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">solr</span><span class="token punctuation">:</span>
      <span class="token comment"># è¯·æ³¨æ„ï¼Œç”¨æˆ·åå¯†ç ç›´æ¥å†™åœ¨äº†urlä¸­</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//root<span class="token punctuation">:</span>123@127.0.0.1<span class="token punctuation">:</span>8983/solr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-å¤ç°" tabindex="-1"><a class="header-anchor" href="#_2-å¤ç°" aria-hidden="true">#</a> 2. å¤ç°</h3><p>å…³äºsolrçš„åŸºæœ¬æ“ä½œï¼Œå¦‚æœæœ‰ç–‘é—®çš„å°ä¼™ä¼´å¯ä»¥ç¿»ä¸€ä¸‹æˆ‘ä¹‹å‰çš„æœç´¢ç³»åˆ—åšæ–‡ï¼Œæ»¡è¶³ä½ çš„æ‰«ç›²éœ€æ±‚ï¼›</p><p>æ ¸å¿ƒçš„solræ“ä½œå®ä¾‹å¦‚ä¸‹:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DocDO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">7245059137561820707L</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;content_id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> contentId<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> type<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;create_at&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> createAt<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;publish_at&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> publishAt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SolrOperater</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">SolrTemplate</span> solrTemplate<span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testAddByDoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAddByDoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SolrInputDocument</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SolrInputDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;content_id&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;testAddByDoc!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ–°å¢å“’å“’å“’&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;create_at&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;publish_at&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">UpdateResponse</span> response <span class="token operator">=</span> solrTemplate<span class="token punctuation">.</span><span class="token function">saveDocument</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">,</span> document<span class="token punctuation">,</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        solrTemplate<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;over:&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DocDO</span> ans <span class="token operator">=</span> solrTemplate<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token string">&quot;yhh&quot;</span><span class="token punctuation">,</span> <span class="token number">999999</span><span class="token punctuation">,</span> <span class="token class-name">DocDO</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;queryById: &quot;</span> <span class="token operator">+</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>SolrTemplat</code>å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchAutoConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span><span class="token class-name">SolrTemplate</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">SolrTemplate</span> <span class="token function">solrTemplate</span><span class="token punctuation">(</span><span class="token class-name">SolrClient</span> solrClient<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SolrTemplate</span><span class="token punctuation">(</span>solrClient<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼€å§‹æµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token class-name">SolrOperater</span> solrOperater<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        solrOperater<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¯·æ³¨æ„ï¼Œå¤ç°ä¸Šé¢çš„åœºæ™¯æ—¶ï¼Œä¼šå‘ç°æŸ¥è¯¢æ²¡é—®é¢˜ï¼Œä¿®æ”¹åˆ™ä¼šæŠ›å¼‚å¸¸</p><h3 id="_3-è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_3-è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 3. è§£å†³æ–¹æ¡ˆ</h3><h4 id="a-é™ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#a-é™ç‰ˆæœ¬" aria-hidden="true">#</a> a. é™ç‰ˆæœ¬</h4><p>æˆ‘ä¹‹å‰ç”¨solrçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä¸Šé¢çš„æ“ä½œæ–¹å¼ï¼Œç„¶è€Œå¹¶æ²¡æœ‰å‡ºç°è¿‡è¿™ç§é—®é¢˜ï¼Œè¿™å°±æœ‰ç‚¹è›‹ç–¼äº†ï¼›</p><p>æ‰¾ä¹‹å‰çš„é¡¹ç›®æŸ¥çœ‹ç‰ˆæœ¬ï¼Œå‘ç°ä¹‹å‰ç”¨çš„<code>solr-solrj</code>ç”¨çš„æ˜¯<code>6.6.5</code>ï¼Œæ¢ä¸ªç‰ˆæœ¬è¯•ä¸€ä¸‹ï¼ˆé»˜è®¤çš„ç‰ˆæœ¬æ˜¯<code>8.2.0</code>ï¼‰</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.solr<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>solr-solrj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>6.6.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-solr<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.solr<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>solr-solrj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è§è¯å¥‡è¿¹çš„æ—¶åˆ»åˆ°äº†ï¼Œæ‰§è¡Œæ­£å¸¸äº†ï¼Œè™½ç„¶<code>saveDocument</code>æ–¹æ³•çš„è°ƒç”¨æ ‡çº¢ï¼Œä½†æ˜¯ä¸å½±å“å…·ä½“çš„æ‰§è¡Œå“¦</p><figure><img src="`+k+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="b-systemdefaulthttpclient" tabindex="-1"><a class="header-anchor" href="#b-systemdefaulthttpclient" aria-hidden="true">#</a> b. SystemDefaultHttpClient</h4><p>é€šè¿‡ä¸€é¡¿debugï¼Œå•æ­¥æ‰§è¡Œï¼Œç»ˆäºæ‰¾åˆ°ä¸ºå•¥<code>6.6.5</code>ç‰ˆæœ¬çš„<code>solr-solrj</code>å¯ä»¥æ­£å¸¸æ“ä½œï¼Œè€Œ<code>8.2.0</code>å´ä¸è¡Œï¼ˆå¦‚æœæƒ³çŸ¥é“è¿™ä¸€æ¯ç‡¥çš„è¿‡ç¨‹ï¼Œè¯·è¯„è®ºå‘Šè¯‰æˆ‘ï¼Œå¦åˆ™æˆ‘ä¹Ÿä¸çŸ¥é“å•¥æ—¶å€™å¯ä»¥çœ‹åˆ°ğŸ˜‚ï¼‰</p><p>å…³é”®çš„é—®é¢˜å°±æ˜¯æ—§ç‰ˆæœ¬çš„ç”¨çš„æ˜¯<code>SystemDefaultHttpClient</code>æ¥å®ç°solrçš„æ²Ÿé€šï¼›æ–°ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯<code>InternalHttpClient</code></p><p>é‚£ä¹ˆä¸€ä¸ªå¯ç”¨çš„è§£å†³æ–¹æ³•å°±æ˜¯ä¸é™ç‰ˆæœ¬ï¼Œæ”¹ä¸ºæŒ‡å®šSolrçš„<code>HttpClient</code></p><p>åœ¨é…ç½®ç±»ä¸­ï¼Œå¦‚ä¸‹æ“ä½œï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">HttpSolrClient</span> <span class="token function">solrClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpClient</span> httpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SystemDefaultHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HttpSolrClient<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHttpClient</span><span class="token punctuation">(</span>httpClient<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæµ‹è¯•ï¼Œä¹Ÿæ˜¯æ­£å¸¸æ‰§è¡Œï¼Œè¾“å‡ºç»“æœå°±ä¸æˆªå›¾äº†ï¼Œå„ä½å°ä¼™ä¼´å¯ä»¥äº²è‡ªæµ‹è¯•ä¸€ä¸‹</p><h4 id="c-httpclientæ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#c-httpclientæ‹¦æˆªå™¨" aria-hidden="true">#</a> c. HttpClientæ‹¦æˆªå™¨</h4>`,49),q={href:"https://stackoverflow.com/questions/2014700/preemptive-basic-authentication-with-apache-httpclient-4/11868040#11868040",target:"_blank",rel:"noopener noreferrer"},S=p(`<p>ä¸Šé¢çš„æ–¹å¼è™½ç„¶å¯ä»¥è®©æˆ‘ä»¬æ­£ç¡®æ“ä½œsolräº†ï¼Œä½†æ˜¯<code>SystemDefaultHttpClient</code>æœ‰ä¸€ä¸ªåˆ é™¤æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å»ºè®®å†ç›´æ¥ç”¨å®ƒäº†ï¼Œé‚£å°±å€Ÿé‰´å®ƒçš„ä½¿ç”¨æ–¹å¼ï¼Œæ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥å¯ä»¥å¦‚ä¸‹æ“ä½œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${spring.data.solr.host}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">UrlDo</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> user<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> pwd<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> host<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UrlDo</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">MalformedURLException</span> <span class="token punctuation">{</span>
        <span class="token comment">// http://root:123@127.0.0.1:8983/solr</span>
        <span class="token class-name">URL</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UrlDo</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlDo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">setHost</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">setPort</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> userInfo <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> users <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span></span>StringUtils</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>users<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">setPwd</span><span class="token punctuation">(</span>users<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        out<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SolrAuthInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HttpRequestInterceptor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">HttpRequest</span> request<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">HttpContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AuthState</span> authState <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AuthState</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">HttpClientContext</span><span class="token punctuation">.</span><span class="token constant">TARGET_AUTH_STATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>authState<span class="token punctuation">.</span><span class="token function">getAuthScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">CredentialsProvider</span> credsProvider <span class="token operator">=</span>
                    <span class="token punctuation">(</span><span class="token class-name">CredentialsProvider</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">HttpClientContext</span><span class="token punctuation">.</span><span class="token constant">CREDS_PROVIDER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">HttpHost</span> targetHost <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpHost</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">HttpCoreContext</span><span class="token punctuation">.</span><span class="token constant">HTTP_TARGET_HOST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">AuthScope</span> authScope <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AuthScope</span><span class="token punctuation">(</span>targetHost<span class="token punctuation">.</span><span class="token function">getHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> targetHost<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Credentials</span> creds <span class="token operator">=</span> credsProvider<span class="token punctuation">.</span><span class="token function">getCredentials</span><span class="token punctuation">(</span>authScope<span class="token punctuation">)</span><span class="token punctuation">;</span>
            authState<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BasicScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> creds<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">HttpSolrClient</span> <span class="token function">solrClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">MalformedURLException</span> <span class="token punctuation">{</span>
    <span class="token class-name">UrlDo</span> urlDo <span class="token operator">=</span> <span class="token class-name">UrlDo</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CredentialsProvider</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BasicCredentialsProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    provider<span class="token punctuation">.</span><span class="token function">setCredentials</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AuthScope</span><span class="token punctuation">(</span>urlDo<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> urlDo<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordCredentials</span><span class="token punctuation">(</span>urlDo<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> urlDo<span class="token punctuation">.</span><span class="token function">getPwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpClientBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¯·æ³¨æ„ä¸‹é¢è¿™ä¸€è¡Œï¼ŒæŒ‡å®šæ‹¦æˆªå™¨ï¼Œç”¨äºè®¾ç½®è®¤è¯ä¿¡æ¯</span>
    builder<span class="token punctuation">.</span><span class="token function">addInterceptorFirst</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SolrAuthInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span><span class="token function">setDefaultCredentialsProvider</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CloseableHttpClient</span> httpClient <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HttpSolrClient<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHttpClient</span><span class="token punctuation">(</span>httpClient<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°æœ‰ç‚¹é•¿ï¼Œç®€å•çš„æ‹†è§£ä¸€ä¸‹</p><ul><li><code>UrlDo</code>: è§£æsolrçš„urlï¼Œå¾—åˆ°æˆ‘ä»¬éœ€è¦çš„<code>host + port + user + password</code></li><li><code>solrClient</code>: åœ¨åˆ›å»º<code>SolrClient</code> beanå®ä¾‹æ—¶ï¼ŒæŒ‡å®šç›¸åº”çš„æˆæƒä¿¡æ¯</li><li><code>SolrAuthInterceptor</code>: è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œæ›´æ–°<code>authState</code>ä¿¡æ¯</li></ul><h4 id="d-solrrequest" tabindex="-1"><a class="header-anchor" href="#d-solrrequest" aria-hidden="true">#</a> d. SolrRequest</h4><p>ä¸Šé¢çš„ä¸‰ç§æ–¹å¼ï¼Œé€‚ç”¨äºåˆ©ç”¨<code>SolrClient</code>æˆ–è€…<code>SolrTemplate</code>æ¥æ“ä½œçš„solrï¼›å½“ç„¶æˆ‘å¯ä»¥å®Œå…¨æŠ›å¼ƒæ‰å®ƒä»¬ï¼Œç›´æ¥ä½¿ç”¨<code>SolrRequest</code>æ¥æ“ä½œï¼Œå¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">SolrInputDocument</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SolrInputDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;content_id&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;testAddByDoc!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ–°å¢å“’å“’å“’&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;create_at&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">&quot;publish_at&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">UpdateRequest</span> updateRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UpdateRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
updateRequest<span class="token punctuation">.</span><span class="token function">setBasicAuthCredentials</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
updateRequest<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UpdateResponse</span> response <span class="token operator">=</span> updateRequest<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>solrClient<span class="token punctuation">,</span> <span class="token string">&quot;yhh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
updateRequest<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>solrClient<span class="token punctuation">,</span> <span class="token string">&quot;yhh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_4-å°ç»“" aria-hidden="true">#</a> 4. å°ç»“</h3><p>æœ¬ç¯‡åšæ–‡ä¸»è¦æ˜¯é’ˆå¯¹éœ€è¦ç™»å½•éªŒè¯çš„solræ›´æ–°æ“ä½œå¼‚å¸¸æ—¶ï¼Œç»™å‡ºäº†å››ç§è§£å†³æ–¹æ¡ˆ</p><ul><li>é™<code>solr-solrj</code>ç‰ˆæœ¬åˆ°<code>6.6.0</code></li><li>æŒ‡å®š<code>SolrClient</code>çš„<code>HttpClient</code>ä¸º<code>SystemDefaultHttpClient</code></li><li>HttpClientæ‹¦æˆªå™¨</li><li>SolrRequestæŒ‡å®šç”¨æˆ·åå¯†ç </li></ul><p>ä¸Šé¢è™½ç„¶ç»™å‡ºäº†è§£å†³æ–¹æ³•ï¼Œä½†æ˜¯ä¸ºå•¥æœ‰è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><p>ç›´æ¥é€šè¿‡curlæ¥æµ‹è¯•ä¸€ä¸‹æ›´æ–°solræ“ä½œï¼Œæ­£å¸¸è¿”å›ï¼Œå¹¶æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜åˆ°åº•å•¥åŸå› ï¼Œç©¶ç«Ÿæ˜¯è°çš„é”…ï¼Œè¯·æ•¬è¯·æœŸå¾…åç»­é—®é¢˜å®šä½ç›–é”…å®šè®º</p><figure><img src="`+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ii-å…¶ä»–" tabindex="-1"><a class="header-anchor" href="#ii-å…¶ä»–" aria-hidden="true">#</a> II. å…¶ä»–</h2><h3 id="_0-ç³»åˆ—åšæ–‡-å·¥ç¨‹æºç " tabindex="-1"><a class="header-anchor" href="#_0-ç³»åˆ—åšæ–‡-å·¥ç¨‹æºç " aria-hidden="true">#</a> 0. ç³»åˆ—åšæ–‡&amp;å·¥ç¨‹æºç </h3><p><strong>å‚è€ƒåšæ–‡</strong></p>',16),E={href:"https://blog.csdn.net/u011561335/article/details/90695860",target:"_blank",rel:"noopener noreferrer"},B={href:"https://stackoverflow.com/questions/2014700/preemptive-basic-authentication-with-apache-httpclient-4/11868040#11868040",target:"_blank",rel:"noopener noreferrer"},A=n("p",null,[n("strong",null,"ç³»åˆ—åšæ–‡")],-1),x={href:"http://spring.hhui.top/spring-blog/2020/01/15/200115-SpringBoot%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8BSolr%E4%B9%8B%E6%9F%A5%E8%AF%A2%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF%E5%B0%8F%E7%BB%93/",target:"_blank",rel:"noopener noreferrer"},C={href:"http://spring.hhui.top/spring-blog/2020/01/14/200114-SpringBoot%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8BSolr%E4%B9%8B%E6%96%87%E6%A1%A3%E5%88%A0%E9%99%A4/",target:"_blank",rel:"noopener noreferrer"},I={href:"http://spring.hhui.top/spring-blog/2019/05/26/190526-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2Solr%E4%B9%8B%E6%96%87%E6%A1%A3%E6%96%B0%E5%A2%9E%E4%B8%8E%E4%BF%AE%E6%94%B9%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/",target:"_blank",rel:"noopener noreferrer"},D={href:"http://spring.hhui.top/spring-blog/2019/05/10/190510-SpringBoot%E9%AB%98%E7%BA%A7%E7%AF%87%E6%90%9C%E7%B4%A2%E4%B9%8BSolr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8E%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95/",target:"_blank",rel:"noopener noreferrer"},H=n("p",null,[n("strong",null,"å·¥ç¨‹æºç ")],-1),F={href:"https://github.com/liuyueyi/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-boot/141-search-solr-auth",target:"_blank",rel:"noopener noreferrer"};function T(R,U){const a=i("ExternalLinkIcon");return o(),c("div",null,[v,g,l(" more "),m,b,h,n("p",null,[s("å…·ä½“å¯ä»¥å‚è€ƒï¼š "),n("a",f,[s("ã€æœç´¢ç³»åˆ—ã€‘Solrç¯å¢ƒæ­å»ºä¸ç®€å•æµ‹è¯•"),t(a)])]),y,n("p",null,[s("ä¸‹é¢ä¸€æ­¥ä¸€æ­¥æ•™ä½ å¦‚ä½•è®¾ç½®ç”¨æˆ·å¯†ç ï¼Œä¹Ÿå¯ä»¥å‚è€ƒåšæ–‡: "),n("a",_,[s("æ‰‹æŠŠæ‰‹æ•™ä½  å¯¹ solr8 é…ç½®ç”¨æˆ·ç™»å½•éªŒè¯"),t(a)])]),w,n("blockquote",null,[n("p",null,[s("å…³äºä¸‹é¢çš„è¿™æ®µå†™æ³•ï¼Œæ¥è‡ª: "),n("a",q,[s("Preemptive Basic authentication with Apache HttpClient 4"),t(a)])])]),S,n("ul",null,[n("li",null,[n("a",E,[s("æ‰‹æŠŠæ‰‹æ•™ä½  å¯¹ solr8 é…ç½®ç”¨æˆ·ç™»å½•éªŒè¯"),t(a)])]),n("li",null,[n("a",B,[s("Preemptive Basic authentication with Apache HttpClient 4"),t(a)])])]),A,n("ul",null,[n("li",null,[n("a",x,[s("200115-SpringBootç³»åˆ—æ•™ç¨‹Solrä¹‹æŸ¥è¯¢ä½¿ç”¨å§¿åŠ¿å°ç»“"),t(a)])]),n("li",null,[n("a",C,[s("200114-SpringBootç³»åˆ—æ•™ç¨‹Solrä¹‹æ–‡æ¡£åˆ é™¤"),t(a)])]),n("li",null,[n("a",I,[s("190526-SpringBooté«˜çº§ç¯‡æœç´¢Solrä¹‹æ–‡æ¡£æ–°å¢ä¸ä¿®æ”¹ä½¿ç”¨å§¿åŠ¿"),t(a)])]),n("li",null,[n("a",D,[s("190510-SpringBooté«˜çº§ç¯‡æœç´¢ä¹‹Solrç¯å¢ƒæ­å»ºä¸ç®€å•æµ‹è¯•"),t(a)])])]),H,n("ul",null,[n("li",null,[s("å·¥ç¨‹ï¼š"),n("a",F,[s("https://github.com/liuyueyi/spring-boot-demo"),t(a)])]),n("li",null,[s("æºç ï¼š"),n("a",j,[s("https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-boot/141-search-solr-auth"),t(a)])])])])}const L=e(d,[["render",T],["__file","05.200330-SpringBootç³»åˆ—æ•™ç¨‹ä¹‹Solrèº«ä»½è®¤è¯ä¸æˆæƒæ›´æ–°å¼‚å¸¸é—®é¢˜åˆ†æ.html.vue"]]);export{L as default};
