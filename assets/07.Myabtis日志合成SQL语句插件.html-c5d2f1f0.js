import{_ as l,V as o,W as s,Z as i,a1 as a,$ as t,Y as r,F as n}from"./framework-b1bd8911.js";const d="/tutorial/imgs/251223/00.webp",h="/tutorial/imgs/251223/00.gif",g="/tutorial/imgs/251223/01.gif",c="/tutorial/imgs/251223/02.webp",p="/tutorial/imgs/251223/03.webp",u="/tutorial/imgs/251223/04.webp",_="/tutorial/imgs/251223/05.webp",m="/tutorial/imgs/251223/06.jpg",L="/tutorial/imgs/251223/07.webp",f="/tutorial/imgs/251223/08.webp",S="/tutorial/imgs/251223/09.webp",b={},Q=r('<h1 id="开发调试与生产分析的利器-mybatis-sql日志合并插件-让复杂日志秒变可执行sql" tabindex="-1"><a class="header-anchor" href="#开发调试与生产分析的利器-mybatis-sql日志合并插件-让复杂日志秒变可执行sql" aria-hidden="true">#</a> 开发调试与生产分析的利器：MyBatis SQL日志合并插件，让复杂日志秒变可执行SQL</h1><h2 id="一、开篇" tabindex="-1"><a class="header-anchor" href="#一、开篇" aria-hidden="true">#</a> 一、开篇</h2><p>在Java开发的世界里，MyBatis作为最受欢迎的ORM框架之一，为我们提供了灵活的SQL操作能力。然而，伴随着这种灵活性，也带来了一个让人头疼的问题：当应用在开发或生产环境中遇到SQL相关问题时，如何快速定位和分析那些被参数化的SQL日志？</p><p>相信各位javaer都会有类似的经历：面对控制台中输出的MyBatis日志，看到类似&quot;Preparing: SELECT * FROM user WHERE id = ? AND status = ?&quot;和&quot;Parameters: 123(Long), active(String)&quot;这样的信息，却需要手动将参数值代入SQL模板中，才能知道这条SQL实际执行的是什么？这个过程不仅繁琐，而且容易出错，尤其是在处理复杂查询时。</p><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>下面给大家推荐一个能彻底解决这个问题的神器——MyBatis SQL Log Merger插件，它不仅能大幅提升开发调试效率，更是生产环境SQL分析的得力助手。</p><h2 id="二、场景痛点分析" tabindex="-1"><a class="header-anchor" href="#二、场景痛点分析" aria-hidden="true">#</a> 二、场景痛点分析</h2><h3 id="_1-开发阶段痛点" tabindex="-1"><a class="header-anchor" href="#_1-开发阶段痛点" aria-hidden="true">#</a> 1. 开发阶段痛点</h3><p>在开发过程中，我们经常需要验证SQL的正确性，分析查询性能，或者调试业务逻辑。传统的做法是：</p><ol><li>从日志中复制SQL模板和参数信息</li><li>手动将参数值代入SQL模板中</li><li>将完整的SQL粘贴到数据库客户端执行</li><li>分析执行结果</li></ol><p>这个过程不仅耗时，而且容易出错，特别是当SQL包含大量参数或复杂条件时。</p><h3 id="_2-生产阶段痛点" tabindex="-1"><a class="header-anchor" href="#_2-生产阶段痛点" aria-hidden="true">#</a> 2. 生产阶段痛点</h3><p>在生产环境中，这个问题更加突出。当系统出现性能问题或异常时，比如现在出现了一个慢SQL，但是面对控制台上输出的SQL模板和传参，需要快速分析MyBatis日志，但：</p><ol><li>生产环境的SQL通常更加复杂，尤其是涉及多个表关联的场景</li><li>不能直接在生产数据库中执行可能影响业务的SQL（业务重放可能加剧问题的影响面）</li><li>需要将生产日志带回安全环境进行分析</li><li>手动还原SQL既耗时又可能引入错误</li></ol><p>这些痛点严重影响了问题排查效率，延长了故障恢复时间；同时也极大的降低了程序员的幸福指数</p><h2 id="三、插件核心功能介绍" tabindex="-1"><a class="header-anchor" href="#三、插件核心功能介绍" aria-hidden="true">#</a> 三、插件核心功能介绍</h2><p>MyBatis SQL Log Merger插件正是为了解决这些痛点而生</p><h3 id="_1-一键将mybatis日志转换为可执行sql" tabindex="-1"><a class="header-anchor" href="#_1-一键将mybatis日志转换为可执行sql" aria-hidden="true">#</a> 1. 一键将MyBatis日志转换为可执行SQL</h3><p>只需将MyBatis日志复制到插件中，即可一键生成完整的、可直接执行的SQL语句。插件会自动识别SQL模板和参数信息，并将参数值正确地代入SQL中。</p><p>如在监控的网页上，开启SQL提取功能，选中sql模板和sql传参，直接生成对应的sql；更能一键导航到您配置的sql管理工具站点</p><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-独立的sql合成工具页" tabindex="-1"><a class="header-anchor" href="#_2-独立的sql合成工具页" aria-hidden="true">#</a> 2. 独立的SQL合成工具页</h3><p>除了上面的在目标网站上注入合成按钮之外，这个插件还提供了一个独立的页面，适用于从非浏览器场景获取Mybatis执行日志的场景，如 IDEA 的控制台日志：</p><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>在这个独立的SQL合成工具页中，提供了两种输入方式</p><ul><li><strong>单框模式</strong>：适用于完整的MyBatis日志，插件自动解析SQL模板和参数</li><li><strong>双框模式</strong>：分别输入SQL模板和参数信息，提供更精确的控制</li></ul><table><thead><tr><th>输入模式</th><th>示例图</th></tr></thead><tbody><tr><td>单框模式</td><td><img src="'+c+'" alt="" loading="lazy"> <br> <img src="'+p+'" alt="" loading="lazy"></td></tr><tr><td>双框模式</td><td><img src="'+u+'" alt="" loading="lazy"></td></tr></tbody></table><h3 id="_3-sql格式化与语法高亮" tabindex="-1"><a class="header-anchor" href="#_3-sql格式化与语法高亮" aria-hidden="true">#</a> 3. SQL格式化与语法高亮</h3><p>生成的SQL支持进行格式化，提高可读性，并提供语法高亮功能，方便快速识别SQL结构和潜在问题；生成的SQL可以通过一键复制到剪贴板，方便粘贴到数据库客户端或其他工具中执行。</p><figure><img src="'+_+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_4-本地处理-保障数据安全" tabindex="-1"><a class="header-anchor" href="#_4-本地处理-保障数据安全" aria-hidden="true">#</a> 4. 本地处理，保障数据安全</h3><p>所有处理都在浏览器本地进行，无需上传任何数据到服务器，确保敏感的SQL信息不会泄露，特别适合处理生产环境日志。</p><h3 id="_5-插件优势" tabindex="-1"><a class="header-anchor" href="#_5-插件优势" aria-hidden="true">#</a> 5. 插件优势</h3><ul><li>提升开发效率 <ul><li>通过自动化处理SQL日志，插件可以将原本需要几分钟的手动操作缩短到几秒钟，大幅提升开发效率。开发人员可以将更多时间专注于业务逻辑的实现，而不是繁琐的日志分析。</li></ul></li><li>支持生产环境安全分析 <ul><li>插件的本地处理特性使其非常适合分析生产环境日志。无需将敏感数据上传到任何服务器，确保数据安全，同时又能高效地进行SQL分析。</li></ul></li><li>数据本地处理，无泄漏风险 <ul><li>所有处理都在浏览器本地完成，没有任何数据传输，完全避免了敏感SQL信息泄露的风险，符合企业安全要求。</li></ul></li><li>多语言支持 <ul><li>插件支持中英文界面，满足国际化团队的需求，让不同语言背景的开发人员都能方便使用。</li></ul></li></ul><h2 id="四、使用方法详解" tabindex="-1"><a class="header-anchor" href="#四、使用方法详解" aria-hidden="true">#</a> 四、使用方法详解</h2><h3 id="_1-开发场景应用" tabindex="-1"><a class="header-anchor" href="#_1-开发场景应用" aria-hidden="true">#</a> 1. 开发场景应用</h3><p>在开发环境中使用MyBatis SQL Log Merger非常简单：</p>',37),y=i("strong",null,"安装插件",-1),x={href:"https://chromewebstore.google.com/detail/mybatis-sql-log-merger/ldlekpjpadmkfoohidfgjjcmegdbkbho",target:"_blank",rel:"noopener noreferrer"},q=i("li",null,[i("strong",null,"获取日志"),a("：从IDE控制台或日志文件中复制MyBatis的DEBUG级别日志")],-1),M=i("li",null,[i("strong",null,"粘贴处理"),a('：打开插件界面，粘贴日志内容，点击"Process SQL/处理SQL"')],-1),B=i("li",null,[i("strong",null,"验证结果"),a("：查看生成的完整SQL，如有需要可复制到数据库客户端执行")],-1),k=r('<p>这种方式可以大大加快SQL验证和调试的速度。</p><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-生产场景应用" tabindex="-1"><a class="header-anchor" href="#_2-生产场景应用" aria-hidden="true">#</a> 2. 生产场景应用</h3><p>在生产环境中分析日志时，可以这样使用(对于有网页可以直接查看服务日志的场景)</p><ol><li><strong>SQL日志查询网页</strong>：安装插件之后，建议将插件固定到外部工具栏；然后导航到目标网站</li><li><strong>激活提取SQL按钮</strong>：点击 Chrome 工具栏中的 <code>MyBatis SQL Log Merger</code> 图标，在弹出窗口中，点击非活动状态指示器旁边的&quot;注入 SQL 提取按钮&quot;切换开关</li><li><strong>复制SQL</strong>：直接复制包含SQL模板和SQL参数的两行日志</li><li><strong>提取SQL</strong>：点击右小角的提取SQL按钮，将自动得到可执行的SQL语句</li></ol><figure><img src="'+L+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+S+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这种方式既保证了生产数据的安全，又能高效地进行SQL分析。</p><h3 id="_3-不同日志格式的支持" tabindex="-1"><a class="header-anchor" href="#_3-不同日志格式的支持" aria-hidden="true">#</a> 3. 不同日志格式的支持</h3><p>插件支持多种MyBatis日志格式：</p><ul><li>标准MyBatis日志格式</li><li>带&quot;Preparing:&quot;和&quot;Parameters:&quot;前缀的日志</li><li>不同日志框架（Log4j、Logback等）的输出格式</li><li>自定义日志格式</li></ul><h2 id="五、小结" tabindex="-1"><a class="header-anchor" href="#五、小结" aria-hidden="true">#</a> 五、小结</h2><p>这个插件的优势还是比较明显的，MyBatis SQL Log Merger插件是一个真正解决开发和运维痛点的工具。它不仅在开发阶段能大幅提升调试效率，在生产环境中也能帮助快速定位和分析SQL相关问题。强烈推荐给每一个有需要的javer开发小伙伴🙂，有兴趣的小伙伴可以直接在谷歌浏览器上点进行下载体验</p>',14),z={href:"https://ai.hhui.top/mybatislog/index.html",target:"_blank",rel:"noopener noreferrer"},j={href:"https://chromewebstore.google.com/detail/mybatis-sql-log-merger/ldlekpjpadmkfoohidfgjjcmegdbkbho",target:"_blank",rel:"noopener noreferrer"},w={href:"https://github.com/liuyueyi/ai-chrome-mysql-merge",target:"_blank",rel:"noopener noreferrer"};function E(v,C){const e=n("ExternalLinkIcon");return o(),s("div",null,[Q,i("ol",null,[i("li",null,[y,a("：从Chrome应用商店安装 "),i("a",x,[a("MyBatis SQL Log Merger"),t(e)])]),q,M,B]),k,i("ul",null,[i("li",null,[a("主页："),i("a",z,[a("MyBatis SQL 日志合并工具"),t(e)])]),i("li",null,[a("谷歌插件商店："),i("a",j,[a("Chrome商店下载地址"),t(e)])]),i("li",null,[a("项目源码： "),i("a",w,[a("ai-chrome-mysql-merge"),t(e)])])])])}const P=l(b,[["render",E],["__file","07.Myabtis日志合成SQL语句插件.html.vue"]]);export{P as default};
