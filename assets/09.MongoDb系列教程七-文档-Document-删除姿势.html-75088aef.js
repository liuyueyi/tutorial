import{_ as s,V as n,W as a,X as t,Y as e,a1 as o}from"./framework-094145d2.js";const p="/tutorial/imgs/200326/06.jpg",i={},c=e("p",null,"前面一篇介绍了插入文档的使用姿势，这一篇则主要介绍删除的使用case",-1),u=o(`<h3 id="_1-基本语法" tabindex="-1"><a class="header-anchor" href="#_1-基本语法" aria-hidden="true">#</a> 1. 基本语法</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>db.collection.remove<span class="token punctuation">(</span>
   <span class="token operator">&lt;</span>query<span class="token operator">&gt;</span>,
    <span class="token punctuation">{</span>
     justOne: <span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span>,
     writeConcern: <span class="token operator">&lt;</span>document<span class="token operator">&gt;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一个为需要删除的匹配条件；第二个表示是否只删除一个，默认是false，删除所有满足条件的文档</p><p><strong>注意</strong></p><ul><li>当query为空时，表示删除所有文档，高危操作，谨慎执行</li></ul><h3 id="_2-实例演示" tabindex="-1"><a class="header-anchor" href="#_2-实例演示" aria-hidden="true">#</a> 2. 实例演示</h3><p>借用给我们上一篇插入的文档来进行演示，当前存在的文档为</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> db.doc_demo.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5e786582b0d677183afba746&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;yihui&quot;</span>, <span class="token string">&quot;age&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5e78659ab0d677183afba747&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;address&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;China&quot;</span>, <span class="token string">&quot;age&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">18.8</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5e786622b0d677183afba748&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;yihui&quot;</span>, <span class="token string">&quot;skill&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;java&quot;</span>, <span class="token string">&quot;python&quot;</span>, <span class="token string">&quot;php&quot;</span>, <span class="token string">&quot;js&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5e786680b0d677183afba749&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;yihui&quot;</span>, <span class="token string">&quot;site&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;blog&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;https://blog.hhui.top&quot;</span>, <span class="token string">&quot;spring&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;https://spring.hhui.top&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>根据id进行删除</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>db.doc_demo.remove<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5e786582b0d677183afba746&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>根据name删除第一个满足条件的记录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>db.doc_demo.remove<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;yihui&quot;</span><span class="token punctuation">}</span>, <span class="token punctuation">{</span>justOne: true<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>再次查看剩下的内容如下：</p><figure><img src="`+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',14);function l(r,d){return n(),a("div",null,[c,t(" more "),u])}const b=s(i,[["render",l],["__file","09.MongoDb系列教程七-文档-Document-删除姿势.html.vue"]]);export{b as default};
