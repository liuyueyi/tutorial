import{_ as e,V as p,W as o,X as n,Y as s,Z as t,a1 as i,a0 as c,F as l}from"./framework-23f3cf9b.js";const u={},r=n("h1",{id:"quick-task-åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ä»»åŠ¡åŠ¨æ€åŠ è½½",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#quick-task-åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ä»»åŠ¡åŠ¨æ€åŠ è½½","aria-hidden":"true"},"#"),s(" Quick-Task åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ä»»åŠ¡åŠ¨æ€åŠ è½½")],-1),k=n("p",null,"å‰é¢å‡ ç¯‡åšæ–‡åˆ†åˆ«ä»‹ç»äº†æ•´ä¸ªé¡¹ç›®çš„åŸºæœ¬æ¶æ„ï¼Œä½¿ç”¨è¯´æ˜ï¼Œä»¥åŠæ•´ä½“æ¡†æ¶çš„è®¾è®¡ä¸å®ç°åˆç¨¿ï¼Œæ¥ä¸‹æ¥åˆ™è¿›å…¥æ›´ç»†èŠ‚çš„å®ç°ç¯‡ï¼Œå°†æ•´ä¸ªå·¥ç¨‹ä¸­æ ¸å¿ƒå®ç°æå‡ºæ¥ï¼Œä»ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡åˆ°æœ€ç»ˆçš„å®ç°ç»™äºˆè¯´æ˜",-1),d=n("p",null,"ç›¸å…³ç³»åˆ—åšæ–‡ï¼š",-1),v={href:"https://liuyueyi.github.io/hexblog/2018/07/02/180702-QuickTask%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E6%94%AF%E6%8C%81%E6%A1%86%E6%9E%B6%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D%E7%AF%87/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://liuyueyi.github.io/hexblog/2018/07/19/180719-Quick-Task-%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E6%94%AF%E6%8C%81%E6%A1%86%E6%9E%B6%E4%B9%8B%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D%E7%AF%87/",target:"_blank",rel:"noopener noreferrer"},b={href:"https://liuyueyi.github.io/hexblog/2018/07/23/180723-Quick-Task-%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E6%94%AF%E6%8C%81%E6%A1%86%E6%9E%B6%E4%B9%8B%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E7%AF%87/",target:"_blank",rel:"noopener noreferrer"},m=c(`<h2 id="i-ä»»åŠ¡åŠ¨æ€åŠ è½½" tabindex="-1"><a class="header-anchor" href="#i-ä»»åŠ¡åŠ¨æ€åŠ è½½" aria-hidden="true">#</a> I. ä»»åŠ¡åŠ¨æ€åŠ è½½</h2><p>è¿™ä¸ªåŠ¨æ€è„šæœ¬è°ƒåº¦æ¡†æ¶ï¼Œæœ€å¤§çš„ä¸€ä¸ªåŠŸèƒ½ç‚¹å°±æ˜¯æ”¯æŒçƒ­åŠ è½½äº†ï¼Œä½•ä¸ºçƒ­åŠ è½½ï¼Ÿ</p><p>ç®€å•æ¥è¯´å°±æ˜¯åœ¨ç¨‹åºä¸å®•æœºçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¾€é‡Œé¢æ·»åŠ æ–°çš„ä»»åŠ¡ï¼Œåˆ é™¤æ—§çš„ä»»åŠ¡ï¼Œæ›´æ–°å·²æœ‰çš„ä»»åŠ¡ç­‰ç­‰ï¼Œå°±å¥½æ¯”é£æœºåœ¨å¤©ä¸Šé£çš„æ—¶å€™ç»™å®ƒåŠ æ²¹ï¼Œå°±è¿™ä¹ˆé«˜ç«¯çš„æ“ä½œï¼ˆğŸ˜Šï¼‰</p><p>ä¸ºäº†æ”¯æŒçƒ­åŠ è½½ï¼Œé¦–å…ˆé¢ä¸´çš„é—®é¢˜å°±æ˜¯å¦‚ä½•åˆ¤æ–­æœ‰ä»»åŠ¡çš„æ–°å¢/åˆ é™¤/ä¿®æ”¹ï¼Ÿ</p><h3 id="_1-ä»»åŠ¡ç›‘å¬çš„ä»0åˆ°1" tabindex="-1"><a class="header-anchor" href="#_1-ä»»åŠ¡ç›‘å¬çš„ä»0åˆ°1" aria-hidden="true">#</a> 1. ä»»åŠ¡ç›‘å¬çš„ä»0åˆ°1</h3><p>è¦å®ç°ä»»åŠ¡å˜æ›´çš„ç›‘å¬ï¼Œè‡ªç„¶è€Œç„¶æƒ³åˆ°çš„ä¸€ä¸ªæ–¹æ¡ˆå°±æ˜¯èµ·ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸æ–­çš„è½®è¯¢ï¼ŒåŸºæœ¬çš„é€»è¾‘æ— éæ˜¯åˆ¤æ–­æ˜¯å¦æœ‰ä»»åŠ¡çš„å˜æ›´å‘ç”Ÿè€Œå·²ï¼Œä¹Ÿå› æ­¤å…³æ³¨ç‚¹å°±è½åœ¨äº†å¦‚ä½•åˆ¤æ–­ä»»åŠ¡æ˜¯å¦æœ‰å˜æ›´äº†</p><p>æœ€ç®€å•ç²—æš´ç›´è§‚çš„æ–¹æ³•ï¼Œå°±æ˜¯è®°å½•ä¹‹å‰çš„æ‰€æœ‰çš„ä»»åŠ¡ï¼Œç„¶åæ¯æ¬¡è½®è¯¢æ—¶åˆ¤æ–­å½“å‰çš„æ‰€æœ‰ä»»åŠ¡ä¸ä¹‹å‰çš„æ‰€æœ‰ä»»åŠ¡æ˜¯å¦æœ‰åŒºåˆ«</p><p>å†è½åˆ°å…·ä½“çš„å®ç°ä¸Šï¼Œåˆ™ä¸ä»»åŠ¡çš„å…·ä½“å­˜å‚¨æœ‰å…³ç³»äº†ã€‚å¾ˆå®¹æ˜“æƒ³åˆ°äº†å‡ ç§ä»»åŠ¡å­˜å‚¨æ–¹å¼æœ‰</p><ul><li>æ–‡ä»¶</li><li>æ•°æ®åº“ ï¼ˆå¦‚mysqlï¼‰</li><li>ç¼“å­˜ ï¼ˆå¦‚redis)</li></ul><h4 id="a-æ•°æ®åº“å­˜å‚¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#a-æ•°æ®åº“å­˜å‚¨æ–¹å¼" aria-hidden="true">#</a> a. æ•°æ®åº“å­˜å‚¨æ–¹å¼</h4><p>è¿™ç§æ–¹æ³•æ¯”è¾ƒå¥½æƒ³åˆ°ï¼ŒåŒæ—¶ä¹Ÿå¥½å®ç°ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½ç›´æ¥å­˜åœ¨DBçš„æŸå¼ è¡¨ä¸­ï¼›åªéœ€è¦ä¿è¯è¡¨ä¸­åŒ…å«ä»¥ä¸‹å‡ ä¸ªå­—æ®µå³å¯</p><ul><li>task: å…·ä½“çš„ä»»åŠ¡è„šæœ¬é€»è¾‘</li><li>state: ä»»åŠ¡çš„çŠ¶æ€ï¼ˆè¡¨ç¤ºè¿è¡Œï¼Œæš‚åœç­‰ï¼‰</li><li>update: ä»»åŠ¡çš„æ›´æ–°æ—¶é—´</li></ul><p>åŸºäºä¸Šé¢çš„ä¸‰ä¸ªå±æ€§ï¼Œåˆ¤æ–­çš„é€»è¾‘å°±æ¸…æ™°äº†</p><ul><li>èµ·ä¸€ä¸ªcheckçº¿ç¨‹ï¼Œä¸æ–­çš„æ‰«è¡¨ï¼Œè·å–æ‰€æœ‰çš„ä»»åŠ¡</li><li>å°†å½“å‰è·å–çš„ä»»åŠ¡ä¸ä¸Šä¸€æ¬¡è·å–çš„ä»»åŠ¡è¿›è¡Œå¯¹æ¯”</li><li>æ ¹æ®æ¯”å¯¹çš„ç»“æœï¼Œå°è£…ä»»åŠ¡æ›´æ–°äº‹ä»¶ï¼ŒæŠ›ç»™ä¸‹æ¸¸å¤„ç†</li></ul><p>å½“ç„¶åœ¨dbçš„åœºæ™¯ä¸‹ï¼Œè¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹å¼ï¼Œå€ŸåŠ©mysqlçš„dbeventäº‹ä»¶æ¥å¤„ç†ä»»åŠ¡çš„å˜æ›´</p><ul><li>é¦–å…ˆå¼€å¯mysqlçš„dbeventäº‹ä»¶ï¼Œå³dbä¸­è®°å½•çš„æ–°å¢åˆ é™¤å˜æ›´éƒ½ä¼šæŠ›å‡ºä¸€ä¸ªæ¶ˆæ¯</li><li>ç›‘å¬dbeventï¼Œä»¥æ­¤å°è£…ä»»åŠ¡çš„æ›´æ–°äº‹ä»¶ï¼Œä¸¢ç»™ä¸‹ä¸€å±‚è¿›è¡Œå¤„ç†å³å¯</li></ul><p><strong>è¯´æ˜ï¼š</strong></p><p>ä»ä¸ªäººçš„è§’åº¦å‡ºå‘ï¼Œåœ¨å®é™…çš„åº”ç”¨åœºæ™¯ä¸­ï¼ŒåŸºäºDBçš„å­˜å‚¨æ–¹æ¡ˆæ˜¯æ¯”è¾ƒåˆé€‚çš„ï¼Œç„¶è€Œæˆ‘å¹¶æ²¡æœ‰å»åšè¿™ä¸€ä¸ªï¼Œå› ä¸ºç›¸æ¯”äºæ–‡ä»¶çš„æ–¹å¼ï¼Œæœ‰ç‚¹é‡é‡çº§äº†ï¼› è€Œæˆ‘è‡ªå·±çš„å®é™…é¡¹ç›®ä¸­ï¼Œæ–‡ä»¶æ–¹å¼å·²ç»è¶³å¤Ÿè§£å†³æˆ‘çš„éœ€æ±‚äº†</p><h4 id="b-æ–‡ä»¶å­˜å‚¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#b-æ–‡ä»¶å­˜å‚¨æ–¹å¼" aria-hidden="true">#</a> b. æ–‡ä»¶å­˜å‚¨æ–¹å¼</h4><p>è¿™ä¸ªå¯ä»¥è¯´æ˜¯æœ€å…ˆæƒ³åˆ°ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å®ç°çš„ä¸€ç§æ–¹å¼äº†ã€‚æˆ‘çš„æ‰€æœ‰ä»»åŠ¡éƒ½æ”¾åœ¨æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œç„¶åç›‘å¬è¿™ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„å˜åŠ¨å³å¯</p><p>QuickTaské¡¹ç›®ä¸­ï¼Œé»˜è®¤çš„å®ç°æ–¹å¼ï¼Œå°±æ˜¯åŸºäºæ–‡ä»¶å­˜å‚¨çš„åŠ¨æ€ä»»åŠ¡ç›‘å¬ï¼Œå¥½å¤„æ˜¯ç®€å•ï¼Œå®ç°ç®€å•ï¼Œç†è§£ç®€å•ï¼Œç”¨èµ·æ¥ä¹Ÿç®€å•</p><h4 id="c-ç¼“å­˜å­˜å‚¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#c-ç¼“å­˜å­˜å‚¨æ–¹å¼" aria-hidden="true">#</a> c. ç¼“å­˜å­˜å‚¨æ–¹å¼</h4><p>æ— éæ˜¯æ‹¿ç¼“å­˜åšdbå­˜å‚¨çš„æ€è·¯ï¼Œä¹Ÿæ²¡æœ‰å•¥å…¶ä»–çš„è®²ç©¶ï¼Œå½“ç„¶æˆ‘å¹¶æ²¡æœ‰æƒ³è¿‡çœŸçš„å»æ‹¿ç¼“å­˜æ¥å®ç°ï¼Œæ„Ÿè§‰è¿™ç§å®ç°æ–¹å¼æœ‰ç‚¹éä¸»æµï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ˜æ˜¾çš„ä¼˜åŠ¿</p><h3 id="_2-ä»»åŠ¡ç›‘å¬çš„å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-ä»»åŠ¡ç›‘å¬çš„å®ç°" aria-hidden="true">#</a> 2. ä»»åŠ¡ç›‘å¬çš„å®ç°</h3><p>ä¸Šé¢æ˜¯åŸºæœ¬ä¸ŠæŠŠæˆ‘å¦‚ä½•å®ç°åŠ¨æ€ä»»åŠ¡ç›‘å¬çš„æƒ³æ³•éƒ½å†™å‡ºæ¥äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å…·ä½“çš„å®ç°äº†ï¼Œé‡‡ç”¨æœ¬åœ°æ–‡ä»¶æ¥å­˜å‚¨å…·ä½“çš„ä»»åŠ¡è„šæœ¬ï¼Œé‚£ä¹ˆä»»åŠ¡å˜åŒ–ç›‘å¬ï¼Œå°±è½¬æ¢ä¸ºäº†ç›®å½•ä¸‹æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬äº†</p><p>åˆ°äº†è¿™ä¸€æ­¥ï¼Œå…·ä½“çš„å®ç°æ–¹æ¡ˆå°±å‡ºæ¥äº†ï¼Œè¦å®ç°æ–‡ä»¶å˜åŠ¨ç›‘å¬ï¼Œjdk7å°±æä¾›äº†<code>WatchService</code>ï¼Œå½“ç„¶è¿˜æœ‰å¤§åé¼é¼çš„ <code>commons-io</code>ï¼Œä¸¤ä¸ªéƒ½å¯ä»¥å®ç°ï¼Œä¸‹é¢è´´å‡ºcommons-ioçš„å®ç°æ–¹å¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TaskChangeWatcher</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SCRIPT_TYPE</span> <span class="token operator">=</span> <span class="token string">&quot;.groovy&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">registerWatcher</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> period <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ä½¿ç”¨commons-ioçš„æ–‡ä»¶è§‚å¯Ÿå™¨ï¼Œå®ç°æ–‡ä»¶åŠ¨æ€å˜åŠ¨çš„ç›‘å¬</span>
            <span class="token class-name">FileAlterationObserver</span> observer <span class="token operator">=</span>
                    <span class="token keyword">new</span> <span class="token class-name">FileAlterationObserver</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token class-name">FileFilterUtils</span><span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name">FileFilterUtils</span><span class="token punctuation">.</span><span class="token function">fileFileFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            observer<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TaskChangeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">FileAlterationMonitor</span> monitor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileAlterationMonitor</span><span class="token punctuation">(</span>period<span class="token punctuation">,</span> observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            monitor<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;register watcher for script task change error! file: {} e:{}&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">TaskChangeListener</span> <span class="token keyword">extends</span> <span class="token class-name">FileAlterationListenerAdaptor</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">ignore</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token constant">SCRIPT_TYPE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">addTask</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">ITask</span> script <span class="token operator">=</span> <span class="token class-name">ScriptLoadUtil</span><span class="token punctuation">.</span><span class="token function">loadScript</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>script <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// æ›´æ–°contextä¸­ç¼“å­˜ï¼Œå¹¶å¯åŠ¨ä»»åŠ¡</span>
            <span class="token class-name">ScriptTaskDecorate</span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScriptTaskDecorate</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TaskContainer</span><span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> task<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFileCreate</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ignore</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">addTask</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// åœ¨çº¿ç¨‹æ± ä¸­æ‰§è¡Œtask</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;add task : {}&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFileChange</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ignore</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">addTask</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// åœ¨çº¿ç¨‹æ± ä¸­æ‰§è¡Œtask</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;task changed : {}&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFileDelete</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ignore</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// æ–‡ä»¶åˆ é™¤ï¼Œè¡¨ç¤ºéœ€è¦å¸è½½æ—§çš„task</span>
            <span class="token class-name">TaskContainer</span><span class="token punctuation">.</span><span class="token function">removeTask</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;task delete: {}&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°ï¼Œæ ¸å¿ƒå°±æ˜¯æ³¨å†Œç›®å½•å˜åŠ¨çš„ç›‘å¬ï¼Œå½“å‡ºç°æ–‡ä»¶çš„å˜åŒ–æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºgroovyè„šæœ¬ï¼Œç„¶ååŠ è½½ä»»åŠ¡ï¼Œå¹¶ä¸¢ç»™ä»»åŠ¡å®¹å™¨è¿›è¡Œè°ƒåº¦æ‰§è¡Œ</p><p>å¯¹äºæ–‡ä»¶å˜åŠ¨çš„ç›‘å¬çš„å…·ä½“æ–¹æ¡ˆå’Œè®²è§£ï¼Œå¦‚æœ‰ç–‘é—®å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„ä¸€ç¯‡åšæ–‡:</p>`,29),E={href:"https://liuyueyi.github.io/hexblog/2018/02/08/Java%E5%8F%AF%E4%BB%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%8F%98%E5%8A%A8%E7%9A%84%E7%9B%91%E5%90%AC/",target:"_blank",rel:"noopener noreferrer"},_=n("h2",{id:"ii-å…¶ä»–",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ii-å…¶ä»–","aria-hidden":"true"},"#"),s(" II. å…¶ä»–")],-1),f=n("h3",{id:"_0-ç›¸å…³",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_0-ç›¸å…³","aria-hidden":"true"},"#"),s(" 0. ç›¸å…³")],-1),g=n("p",null,[n("strong",null,"åšæ–‡ï¼š")],-1),y={href:"https://liuyueyi.github.io/hexblog/2018/06/28/180628-%E5%8A%A8%E6%80%81%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E6%A1%86%E6%9E%B6%E6%83%B3%E6%B3%95%E7%AF%87/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://blog.hhui.top/hexblog/2018/07/02/180702-QuickTask%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E6%94%AF%E6%8C%81%E6%A1%86%E6%9E%B6%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D%E7%AF%87/",target:"_blank",rel:"noopener noreferrer"},B={href:"https://liuyueyi.github.io/hexblog/2018/07/23/180723-Quick-Task-%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E6%94%AF%E6%8C%81%E6%A1%86%E6%9E%B6%E4%B9%8B%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E7%AF%87/",target:"_blank",rel:"noopener noreferrer"},w=n("p",null,[n("strong",null,"é¡¹ç›®ï¼š")],-1),x={href:"https://github.com/liuyueyi/quick-task",target:"_blank",rel:"noopener noreferrer"},F={id:"_1-ä¸€ç°ç°blog-https-liuyueyi-github-io-hexblog",tabindex:"-1"},T=n("a",{class:"header-anchor",href:"#_1-ä¸€ç°ç°blog-https-liuyueyi-github-io-hexblog","aria-hidden":"true"},"#",-1),C={href:"https://liuyueyi.github.io/hexblog",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://liuyueyi.github.io/hexblog",target:"_blank",rel:"noopener noreferrer"},q=n("p",null,"ä¸€ç°ç°çš„ä¸ªäººåšå®¢ï¼Œè®°å½•æ‰€æœ‰å­¦ä¹ å’Œå·¥ä½œä¸­çš„åšæ–‡ï¼Œæ¬¢è¿å¤§å®¶å‰å»é€›é€›",-1),S=n("h3",{id:"_2-å£°æ˜",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-å£°æ˜","aria-hidden":"true"},"#"),s(" 2. å£°æ˜")],-1),D=n("p",null,"å°½ä¿¡ä¹¦åˆ™ä¸å¦‚ï¼Œå·²ä¸Šå†…å®¹ï¼Œçº¯å±ä¸€å®¶ä¹‹è¨€ï¼Œå› ä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œéš¾å…æœ‰ç–æ¼å’Œé”™è¯¯ä¹‹å¤„ï¼Œå¦‚å‘ç°bugæˆ–è€…æœ‰æ›´å¥½çš„å»ºè®®ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ï¼Œä¸åæ„Ÿæ¿€",-1),I={href:"https://weibo.com/p/1005052169825577/home",target:"_blank",rel:"noopener noreferrer"},N=n("li",null,"QQï¼š ä¸€ç°ç°/3302797840",-1),P=n("h3",{id:"_3-æ‰«æå…³æ³¨",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-æ‰«æå…³æ³¨","aria-hidden":"true"},"#"),s(" 3. æ‰«æå…³æ³¨")],-1),L=n("p",null,[n("strong",null,"ä¸€ç°ç°blog")],-1),V=n("figure",null,[n("img",{src:"https://raw.githubusercontent.com/liuyueyi/Source/master/img/info/blogInfoV2.png",alt:"QrCode",tabindex:"0",loading:"lazy"}),n("figcaption",null,"QrCode")],-1),O=n("p",null,[n("strong",null,"çŸ¥è¯†æ˜Ÿçƒ")],-1),j=n("figure",null,[n("img",{src:"https://raw.githubusercontent.com/liuyueyi/Source/master/img/info/goals.png",alt:"goals",tabindex:"0",loading:"lazy"}),n("figcaption",null,"goals")],-1);function W(U,M){const a=l("ExternalLinkIcon");return p(),o("div",null,[r,k,d,n("ul",null,[n("li",null,[n("a",v,[s("180702-QuickTaskåŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶æ•´ä½“ä»‹ç»ç¯‡"),t(a)])]),n("li",null,[n("a",h,[s("180719-Quick-Task åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ä½¿ç”¨ä»‹ç»ç¯‡"),t(a)])]),n("li",null,[n("a",b,[s("180723-Quick-Task åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ç»“æ„è®¾è®¡ç¯‡"),t(a)])])]),i(" more "),m,n("ul",null,[n("li",null,[n("a",E,[s("Javaå¯ä»¥å¦‚ä½•å®ç°æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬"),t(a)])])]),_,f,g,n("ul",null,[n("li",null,[n("a",y,[s("180628-åŠ¨æ€ä»»åŠ¡æ‰§è¡Œæ¡†æ¶æƒ³æ³•ç¯‡"),t(a)])]),n("li",null,[n("a",A,[s("180702-QuickTaskåŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶æ•´ä½“ä»‹ç»ç¯‡"),t(a)])]),n("li",null,[n("a",B,[s("180723-Quick-Task åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ç»“æ„è®¾è®¡ç¯‡"),t(a)])])]),w,n("ul",null,[n("li",null,[n("a",x,[s("https://github.com/liuyueyi/quick-task"),t(a)])])]),n("h3",F,[T,s(" 1. "),n("a",C,[s("ä¸€ç°ç°Blog"),t(a)]),s("ï¼š "),n("a",Q,[s("https://liuyueyi.github.io/hexblog"),t(a)])]),q,S,D,n("ul",null,[n("li",null,[s("å¾®åšåœ°å€: "),n("a",I,[s("å°ç°ç°Blog"),t(a)])]),N]),P,L,V,O,j])}const z=e(u,[["render",W],["__file","180729-Quick-Task-åŠ¨æ€è„šæœ¬æ”¯æŒæ¡†æ¶ä¹‹ä»»åŠ¡åŠ¨æ€åŠ è½½.html.vue"]]);export{z as default};
