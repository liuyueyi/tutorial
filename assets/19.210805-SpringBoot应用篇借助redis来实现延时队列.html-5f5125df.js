import{_ as p,V as e,W as o,X as c,Z as n,a1 as s,$ as t,Y as l,F as i}from"./framework-b1bd8911.js";const u="/tutorial/imgs/210805/00.jpg",k={},r=n("p",null,"å»¶æ—¶é˜Ÿåˆ—ï¼Œç›¸ä¿¡å„ä½å°ä¼™ä¼´å¹¶ä¸ä¼šé™Œç”Ÿï¼ŒjdkåŸç”Ÿæä¾›äº†å»¶æ—¶é˜Ÿåˆ—çš„ä½¿ç”¨ï¼Œå½“ç„¶æˆ‘ä»¬è¿™é‡Œä»‹ç»çš„ä¸æ˜¯è¿™ç§ï¼›åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å»¶æ—¶é˜Ÿåˆ—çš„åœºæ™¯ï¼Œå¯ä»¥æ€æ ·å»å®ç°å‘¢",-1),d=n("p",null,"ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¦‚ä¸‹å•15åˆ†é’Ÿå†…ï¼Œè‹¥æ²¡æœ‰æ”¯ä»˜ï¼Œåˆ™è‡ªåŠ¨å–æ¶ˆè®¢å•",-1),v=n("p",null,"æœ¬æ–‡å°†ä»‹ç»ä¸€ç§éå¸¸éå¸¸ç®€å•çš„å®ç°æ–¹å¼",-1),m=l(`<h2 id="i-æ–¹æ¡ˆè®¾è®¡" tabindex="-1"><a class="header-anchor" href="#i-æ–¹æ¡ˆè®¾è®¡" aria-hidden="true">#</a> I. æ–¹æ¡ˆè®¾è®¡</h2><p>è¦å®ç°15åˆ†é’Ÿåè‡ªåŠ¨å–æ¶ˆè®¢å•ï¼Œè¿™ä¸ªä¹Ÿå¤ªç®€å•äº†ï¼Œæ¥ç»™å‡ºä¸€æ®µç¥çº§ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¼‘çœ åäº”åˆ†é’Ÿï¼Œæ‰§è¡Œå–æ¶ˆè®¢å•</span>
  <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">cancelOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¥½çš„ï¼Œæœ¬æ–‡å°±æ­¤ç»“æŸï¼ˆå¼€ç©ç¬‘....ï¼‰</p><p>å¿½ç•¥ä¸Šé¢çš„æ®µå­ï¼Œæ¥ä¸‹æ¥æƒ³ä¸€æƒ³ï¼Œå¦‚æœè®©æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå»¶æ—¶é˜Ÿåˆ—ï¼Œå¯ä»¥æ€ä¹ˆæ•´ï¼Ÿ</p><ul><li>å•æœºï¼š <ul><li>DelayQueue</li><li>å®šæ—¶ä»»åŠ¡</li></ul></li><li>åˆ†å¸ƒå¼: <ul><li>Quartzå®šæ—¶ä»»åŠ¡</li><li>rabbitmqå»¶æ—¶é˜Ÿåˆ—</li><li>redis zset</li><li>redis è¿‡æœŸå›è°ƒ</li><li>æ—¶é—´è½®</li></ul></li></ul><p>é¦–å…ˆæˆ‘ä»¬è¿™é‡Œæ’é™¤æ‰å•æœºç‰ˆï¼Œè‡³äºåŸå› ï¼Œç°åœ¨å•ä½“å•å®ä¾‹åº”ç”¨å®åœ¨ä¸å¤šè§äº†ï¼Œç›´æ¥æ¥çœ‹å¤šå®ä¾‹çš„æƒ…å†µå§</p><p>åœ¨ä¸Šé¢çš„å‡ ç§æ–¹æ¡ˆä¸­ï¼Œé‡å¿ƒæ”¾åœ¨redisä¸Šï¼Œä¸¤ç§caseï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸€ä¸‹</p><h3 id="_1-redisè¿‡æœŸæ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_1-redisè¿‡æœŸæ—¶é—´" aria-hidden="true">#</a> 1. redisè¿‡æœŸæ—¶é—´</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ä½¿ç”¨redisåšç¼“å­˜æ—¶ï¼Œå¯ä»¥è®¾ç½®å¤±æ•ˆæ—¶é—´ï¼Œå€ŸåŠ©redisçš„å¤±æ•ˆäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ¥å®ç°å»¶æ—¶é˜Ÿåˆ—çš„åœºæ™¯</p><p>æ¯”å¦‚ï¼Œç°åœ¨ä¸€ä¸ªè®¢å•ï¼Œæˆ‘ä»¬åœ¨redisä¸­æ–°åŠ å…¥ä¸€ä¸ªè®¢å•idï¼Œå¤±æ•ˆæ—¶é—´è®¾ç½®ä¸º15åˆ†é’Ÿï¼›å½“æ”¯ä»˜æˆåŠŸä¹‹åï¼Œä¸»åŠ¨åˆ é™¤è¿™ä¸ªç¼“å­˜ï¼›è‹¥ä¸€ç›´æ²¡æœ‰ä»˜é’±ï¼Œåˆ™15åˆ†é’Ÿåï¼Œè§¦å‘ä¸€ä¸ªè¿‡æœŸäº‹ä»¶ï¼Œç„¶åè®¢é˜…è¿™ä¸ªäº‹ä»¶ï¼Œæ¥æ‰§è¡Œå–æ¶ˆè®¢å•</p><p>ä¸Šé¢è¿™ç§å®ç°ï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜</p><ul><li>keyå¤±æ•ˆç›‘å¬ï¼Œå¯èƒ½å­˜åœ¨å¤§é‡çš„æ— æ•ˆä¿¡æ¯</li><li>å¹¿æ’­æ–¹å¼æ¶ˆè´¹äº‹ä»¶ï¼Œå¤šå®ä¾‹æ¥æ”¶åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œæ€ä¹ˆé˜²å¹¶å‘ï¼Ÿæˆ–è€…æ²¡æœ‰ä¸€ä¸ªå®ä¾‹æ¥æ”¶åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå–æ¶ˆè®¢å•å°±ä¼šæ¼æ‰</li></ul><p>æ˜¾ç„¶ä¸Šé¢çš„ç¬¬äºŒç‚¹ï¼Œæ¼æ¶ˆæ¯æ˜¯ä¸èƒ½æ¥å—çš„</p><h3 id="_2-redis-zset" tabindex="-1"><a class="header-anchor" href="#_2-redis-zset" aria-hidden="true">#</a> 2. redis zset</h3><p>zsetå±äºredisæä¾›çš„å‡ ä¸ªåŸºæœ¬æ•°æ®ç»“æ„ä¸­çš„ä¸€ç§ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯æœ‰ <code>value + score</code></p><p>å¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨zsetæ‹‰å®ç°æ¼”ç¤ºé˜Ÿåˆ—ï¼Œé‚£ä¹ˆä¸€ä¸ªå¯é€‰çš„æ–¹æ¡ˆå°±æ˜¯å°†scoreè®¾ç½®ä¸ºè§¦å‘çš„æ—¶é—´æˆ³ï¼Œvalueä¸ºä¸šåŠ¡å€¼</p><p>ç„¶åå†™ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œä¸æ–­çš„ä»zsetä¸­ï¼Œå–å‡ºscoreå°äºå½“å‰æ—¶é—´æˆ³çš„æ•°æ®ï¼Œä»»åŠ¡å®ƒä»¬éƒ½æ˜¯å·²ç»åˆ°æœŸå¯ä»¥æ‰§è¡Œçš„</p><p>å€ŸåŠ©è¿™ä¸ªæ–¹æ¡ˆï¼Œå¯ä»¥ç›¸å¯¹ç®€å•çš„å®ç°ä¸€ä¸ªæ¼”ç¤ºé˜Ÿåˆ—äº†</p><h2 id="ii-redisæ¼”ç¤ºé˜Ÿåˆ—å®ç°" tabindex="-1"><a class="header-anchor" href="#ii-redisæ¼”ç¤ºé˜Ÿåˆ—å®ç°" aria-hidden="true">#</a> II. redisæ¼”ç¤ºé˜Ÿåˆ—å®ç°</h2><h3 id="_1-ç¯å¢ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-ç¯å¢ƒé…ç½®" aria-hidden="true">#</a> 1. ç¯å¢ƒé…ç½®</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»¥redisçš„zsetæ¥å®ç°å»¶æ—¶é˜Ÿåˆ—ï¼Œæœ¬æ–‡å€ŸåŠ©SpringBootæ¥æ­å»ºä¸€ä¸ªæ¼”ç¤ºå·¥ç¨‹ï¼Œä½¿ç”¨çš„åŸºæœ¬é…ç½®å¦‚ä¸‹</p><p>æœ¬é¡¹ç›®å€ŸåŠ©<code>SpringBoot 2.2.1.RELEASE</code> + <code>maven 3.5.3</code> + <code>IDEA</code>è¿›è¡Œå¼€å‘</p><p>æ ¸å¿ƒä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ä¸‹é¢è¿™é‡Œä¸¤ä¸ªéå¿…é¡»ï¼Œä¸»è¦æ˜¯åé¢çš„å®ç°æ¼”ç¤ºä½¿ç”¨åˆ°äº† --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>redisä½¿ç”¨é»˜è®¤çš„é…ç½®ï¼Œæœ¬æœº <code>localhost + 6379</code></p><h3 id="_2-æ ¸å¿ƒå®ç°" tabindex="-1"><a class="header-anchor" href="#_2-æ ¸å¿ƒå®ç°" aria-hidden="true">#</a> 2. æ ¸å¿ƒå®ç°</h3><p>å€ŸåŠ©redis zsetæ¥å®ç°å»¶æ—¶é˜Ÿåˆ—ï¼Œå…·ä½“çš„å®ç°ä»£ç å°±å¾ˆç®€å•äº†ï¼Œæ— éæ˜¯ä»zsetä¸­å–å‡ºscoreå°äºå½“å‰æ—¶é—´æˆ³çš„æ•°æ®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Long</span> <span class="token constant">DELETE_SUCCESS</span> <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">StringRedisTemplate</span> redisTemplate<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fetchOne</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sets <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rangeByScore</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>sets<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> val <span class="token operator">:</span> sets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DELETE_SUCCESS</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// åˆ é™¤æˆåŠŸï¼Œè¡¨ç¤ºæŠ¢å åˆ°</span>
            <span class="token keyword">return</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸Šé¢çš„å®ç°ï¼Œæœ‰ä¸€ä¸ªç‚¹éœ€è¦è¯´ä¸€ä¸‹</p><p>zsetï¼šæ¯æ¬¡æŸ¥è¯¢æ—¶å–äº†ä¸‰ä¸ªæ•°æ®ï¼Œç„¶åéå†è·å–åˆ°çš„æ•°æ®ï¼Œä¾æ¬¡å°è¯•å»åˆ é™¤ï¼Œè‹¥åˆ é™¤æˆåŠŸï¼Œåˆ™è¡¨ç¤ºå½“å‰å®ä¾‹æŠ¢å åˆ°äº†è¿™ä¸ªæ¶ˆæ¯</p><p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡?</strong></p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªç‚¹ï¼Œå…ˆè§£é‡Šç¬¬ä¸€ä¸ªï¼Œ<strong>ä¸ºå•¥å…ˆæŸ¥ååˆ </strong></p><p>å¦‚æœæˆ‘ä»¬æŒ‰ç…§æ­£å¸¸çš„å®ç°æµç¨‹ï¼Œæ¯æ¬¡ä»zsetä¸­å–ä¸€ä¸ªï¼Œä½†æ˜¯æ— æ³•ä¿è¯è¿™ä¸ªæ—¶å€™å°±åªæœ‰æˆ‘ä¸€ä¸ªäººæ‹¿åˆ°äº†è¿™ä¸ªæ•°æ®ï¼Œåœ¨å¤šå®ä¾‹çš„åœºæ™¯ä¸‹ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªå®ä¾‹åŒæ—¶æ‹¿åˆ°äº†å®ƒï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½è¡¨ç¤ºåªæœ‰æˆ‘ä¸€ä¸ªäººéœ¸å äº†å¥¹å‘¢ï¼ˆå¿½ç„¶è¿›å…¥è¨€æƒ…çš„ä¸–ç•ŒğŸ˜“ï¼‰</p><p>å€ŸåŠ©redisçš„å•çº¿ç¨‹æœºåˆ¶ï¼Œåªå¯èƒ½æœ‰ä¸€ä¸ªå®ä¾‹ä¼šåˆ é™¤æˆåŠŸï¼Œæ‰€ä»¥æ‹¿åˆ°å¹¶åˆ é™¤æˆåŠŸçš„é‚£ä¸ªå°ä¼™ä¼´ï¼Œå°±æ˜¯æœ€ç»ˆçš„å¹¸è¿å„¿ï¼›</p><p>å› æ­¤å®ç°ç»†èŠ‚å°±æ˜¯å…ˆæŸ¥ï¼Œååˆ ï¼Œè‹¥åˆ é™¤æˆåŠŸï¼Œè¡¨ç¤ºè·å–æˆåŠŸï¼›å¦åˆ™è¡¨ç¤ºè¢«å…¶ä»–çš„å®ä¾‹æ·è¶³å…ˆç™»</p><p>æ¥ä¸‹æ¥å†çœ‹ç¬¬äºŒä¸ªï¼Œ<strong>ä¸ºå•¥ä¸€æ¬¡æ‹¿ä¸‰ä¸ª</strong></p><p>ä»ä¸Šé¢çš„åˆ†æå¯ä»¥çœ‹å‡ºï¼Œå¦‚æœæˆ‘ä¸€æ¬¡åªæ‹¿ä¸€ä¸ªï¼Œé‚£ä¹ˆæˆ‘æŠ¢å åˆ°çš„å‡ ç‡å¹¶ä¸å¤ªå¤§ï¼Œç‰¹åˆ«æ˜¯å½“å®ä¾‹æ¯”è¾ƒå¤šæ—¶ï¼Œå¯èƒ½ä¼šåšå¤šæ¬¡çš„æ— æ•ˆæ“ä½œï¼›ä¸ºäº†å‡å°‘è¿™ä¸ªå¯èƒ½æ€§ï¼Œæ‰€ä»¥æˆ‘ä¸€æ¬¡å¤šæ‹¿å‡ ä¸ªåšå¤‡é€‰ï¼Œè¿™æ ·æŠ¢å åˆ°çš„æ¦‚ç‡å°±ä¼šé«˜ä¸€äº›ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯3ï¼Œè¿™ä¸ªå°±çœ‹å®é™…çš„å®ä¾‹ä¸å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œé—´éš”äº†</p><h3 id="_3-å†™å…¥é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#_3-å†™å…¥é˜Ÿåˆ—" aria-hidden="true">#</a> 3. å†™å…¥é˜Ÿåˆ—</h3><p>ä¸Šé¢æ˜¯ä»é˜Ÿåˆ—ä¸­æ‹¿æ•°æ®ï¼Œæœ‰æ‹¿å½“ç„¶å¾—æœ‰å†™ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®€å•çš„å°è£…ä¸€ä¸‹å†™å…¥é˜Ÿåˆ—çš„case</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisDelayListWrapper</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationContextAware</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Long</span> <span class="token constant">DELETE_SUCCESS</span> <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
 
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> topic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArraySet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">publish</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">,</span> <span class="token keyword">long</span> delayTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        topic<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> strVal <span class="token operator">=</span> val <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> val <span class="token operator">:</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>

        redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> strVal<span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> delayTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-å®šæ—¶å–æ¼”ç¤ºé˜Ÿåˆ—æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#_4-å®šæ—¶å–æ¼”ç¤ºé˜Ÿåˆ—æ¶ˆæ¯" aria-hidden="true">#</a> 4. å®šæ—¶å–æ¼”ç¤ºé˜Ÿåˆ—æ¶ˆæ¯</h3><p>æ¥ä¸‹æ¥å°±æ˜¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œä¸æ–­çš„è°ƒç”¨ä¸Šé¢çš„å®ç°ï¼Œä»zsetä¸­è·å–åˆ°æœŸçš„æ•°æ®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedRate <span class="token operator">=</span> <span class="token number">10_000</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">schedule</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> specialTopic <span class="token operator">:</span> topic<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> cell <span class="token operator">=</span> <span class="token function">fetchOne</span><span class="token punctuation">(</span>specialTopic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cell <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            applicationContext<span class="token punctuation">.</span><span class="token function">publishEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DelayMsg</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> cell<span class="token punctuation">,</span> specialTopic<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@ToString</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">DelayMsg</span> <span class="token keyword">extends</span> <span class="token class-name">ApplicationEvent</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Getter</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Getter</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> topic<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DelayMsg</span><span class="token punctuation">(</span><span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token class-name">String</span> topic<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> msg<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>topic <span class="token operator">=</span> topic<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®šæ—¶ä»»åŠ¡ï¼Œç›´æ¥å€ŸåŠ©Springçš„<code>@Schedule</code>æ¥å®ç°ï¼Œéå†æ‰€æœ‰çš„topicï¼Œæå‡ºæ•°æ®ä¹‹åï¼Œé€šè¿‡springçš„ <code>event/listener</code>äº‹ä»¶æœºåˆ¶æ¥å®ç°æ¶ˆæ¯å¤„ç†çš„è§£è€¦</p><h3 id="_5-æ¶ˆæ¯æ¶ˆè´¹" tabindex="-1"><a class="header-anchor" href="#_5-æ¶ˆæ¯æ¶ˆè´¹" aria-hidden="true">#</a> 5. æ¶ˆæ¯æ¶ˆè´¹</h3><p>æœ€ç»ˆå°±æ˜¯æˆ‘ä»¬çš„æ¶ˆæ¯æ¶ˆè´¹é€»è¾‘äº†ï¼Œä¸»è¦å°±æ˜¯æ¶ˆè´¹å‰é¢æŠ›å‡ºçš„<code>DelayMsg</code>ï¼Œæˆ‘ä»¬è¿™é‡Œå€ŸåŠ©AOPæ¥å®ç°æ¶ˆæ¯è¿‡æ»¤</p><p>å®šä¹‰ä¸€ä¸ªæ³¨è§£<code>Consumer</code>ï¼Œç”¨æ¥æŒ‡å®šæ¶ˆè´¹å“ªä¸ªtopic</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">ANNOTATION_TYPE</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@EventListener</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Consumer</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">topic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„è¿™ä¸ªæ³¨è§£ä¸Šé¢è¿˜æœ‰ <code>@EventListener</code>ï¼Œè¡¨æ˜å®ƒå¯ä»¥ç›‘å¬çš„springçš„äº‹ä»¶</p><p>aopæ‹¦æˆªé€»è¾‘ï¼Œæ ¹æ®topicè¿›è¡Œè¿‡æ»¤</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConsumerAspect</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(consumer)&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">,</span> <span class="token class-name">Consumer</span> consumer<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> check <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> obj <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">RedisDelayListWrapper<span class="token punctuation">.</span>DelayMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                check <span class="token operator">=</span> consumer<span class="token punctuation">.</span><span class="token function">topic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">RedisDelayListWrapper<span class="token punctuation">.</span>DelayMsg</span><span class="token punctuation">)</span> obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTopic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>check<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ä¸æ»¡è¶³æ¡ä»¶ï¼Œç›´æ¥å¿½ç•¥</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// topicåŒ¹é…æˆåŠŸï¼Œæ‰§è¡Œ</span>
        <span class="token keyword">return</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-æµ‹è¯•demo" tabindex="-1"><a class="header-anchor" href="#_5-æµ‹è¯•demo" aria-hidden="true">#</a> 5. æµ‹è¯•demo</h3><p>æœ€åå†™ä¸€ä¸ªæµ‹è¯•demoï¼ŒéªŒè¯ä¸‹ä¸Šé¢çš„å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@EnableScheduling</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TEST_DELAY_QUEUE</span> <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">DEMO_DELAY_QUEUE</span> <span class="token operator">=</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisDelayListWrapper</span> redisDelayListWrapper<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;publish&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">publish</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token class-name">Long</span> delayTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>delayTime <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            delayTime <span class="token operator">=</span> <span class="token number">10_000L</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">String</span> queue <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">TEST_DELAY_QUEUE</span> <span class="token operator">:</span> <span class="token constant">DEMO_DELAY_QUEUE</span><span class="token punctuation">;</span>
        msg <span class="token operator">=</span> queue <span class="token operator">+</span> <span class="token string">&quot;#&quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&quot;#&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> delayTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisDelayListWrapper<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> delayTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å»¶æ—¶: &quot;</span> <span class="token operator">+</span> delayTime <span class="token operator">+</span> <span class="token string">&quot;msåæ¶ˆè´¹: &quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&quot; now:&quot;</span> <span class="token operator">+</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;success!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Consumer</span><span class="token punctuation">(</span>topic <span class="token operator">=</span> <span class="token constant">TEST_DELAY_QUEUE</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">consumer</span><span class="token punctuation">(</span><span class="token class-name">RedisDelayListWrapper<span class="token punctuation">.</span>DelayMsg</span> delayMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TESTæ¶ˆè´¹å»¶æ—¶æ¶ˆæ¯: &quot;</span> <span class="token operator">+</span> delayMsg <span class="token operator">+</span> <span class="token string">&quot; at:&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Consumer</span><span class="token punctuation">(</span>topic <span class="token operator">=</span> <span class="token constant">DEMO_DELAY_QUEUE</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">consumerDemo</span><span class="token punctuation">(</span><span class="token class-name">RedisDelayListWrapper<span class="token punctuation">.</span>DelayMsg</span> delayMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DEMOæ¶ˆè´¹å»¶æ—¶æ¶ˆæ¯: &quot;</span> <span class="token operator">+</span> delayMsg <span class="token operator">+</span> <span class="token string">&quot; at:&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_6-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_6-å°ç»“" aria-hidden="true">#</a> 6. å°ç»“</h3><p>æœ¬æ–‡å±äºä¸€ä¸ªå®æˆ˜å°æŠ€å·§ï¼Œå€ŸåŠ©redisçš„zsetæ¥çµæ´»çš„å®ç°ä¸€ä¸ªç®€å•çš„å»¶æ—¶é˜Ÿåˆ—ï¼Œå®ç°å€’æ˜¯æ²¡æœ‰å¤ªå¤§çš„éš¾åº¦ï¼Œå…¶ä¸­çš„ä¸€äº›å°ç»†èŠ‚è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå¥½çš„ï¼Œä»Šå¤©åˆ†äº«åˆ°æ­¤overï¼Œæ¬¢è¿å„ä½è€é“æ¥æ’©ï¼Œå…¬ä¼—å· <code>ä¸€ç°ç°blog</code> ä½ å€¼å¾—æ‹¥æœ‰</p><h2 id="iii-ä¸èƒ½é”™è¿‡çš„æºç å’Œç›¸å…³çŸ¥è¯†ç‚¹" tabindex="-1"><a class="header-anchor" href="#iii-ä¸èƒ½é”™è¿‡çš„æºç å’Œç›¸å…³çŸ¥è¯†ç‚¹" aria-hidden="true">#</a> III. ä¸èƒ½é”™è¿‡çš„æºç å’Œç›¸å…³çŸ¥è¯†ç‚¹</h2><h3 id="_0-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#_0-é¡¹ç›®" aria-hidden="true">#</a> 0. é¡¹ç›®</h3>',60),b={href:"https://github.com/liuyueyi/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},g={href:"https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-case/126-redis-delay-list",target:"_blank",rel:"noopener noreferrer"},h=n("h3",{id:"_1-å¾®ä¿¡å…¬ä¼—å·-ä¸€ç°ç°blog",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-å¾®ä¿¡å…¬ä¼—å·-ä¸€ç°ç°blog","aria-hidden":"true"},"#"),s(" 1. å¾®ä¿¡å…¬ä¼—å·ï¼šä¸€ç°ç°Blog")],-1),y=n("p",null,"å°½ä¿¡ä¹¦åˆ™ä¸å¦‚ï¼Œä»¥ä¸Šå†…å®¹ï¼Œçº¯å±ä¸€å®¶ä¹‹è¨€ï¼Œå› ä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œéš¾å…æœ‰ç–æ¼å’Œé”™è¯¯ä¹‹å¤„ï¼Œå¦‚å‘ç°bugæˆ–è€…æœ‰æ›´å¥½çš„å»ºè®®ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ï¼Œä¸åæ„Ÿæ¿€",-1),f=n("p",null,"ä¸‹é¢ä¸€ç°ç°çš„ä¸ªäººåšå®¢ï¼Œè®°å½•æ‰€æœ‰å­¦ä¹ å’Œå·¥ä½œä¸­çš„åšæ–‡ï¼Œæ¬¢è¿å¤§å®¶å‰å»é€›é€›",-1),_={href:"https://blog.hhui.top",target:"_blank",rel:"noopener noreferrer"},w={href:"http://spring.hhui.top",target:"_blank",rel:"noopener noreferrer"};function S(E,T){const a=i("ExternalLinkIcon");return e(),o("div",null,[r,d,v,c(" more "),m,n("ul",null,[n("li",null,[s("å·¥ç¨‹ï¼š"),n("a",b,[s("https://github.com/liuyueyi/spring-boot-demo"),t(a)])]),n("li",null,[s("æºç ï¼š"),n("a",g,[s("https://github.com/liuyueyi/spring-boot-demo/tree/master/spring-case/126-redis-delay-list"),t(a)])])]),h,y,f,n("ul",null,[n("li",null,[s("ä¸€ç°ç°Blogä¸ªäººåšå®¢ "),n("a",_,[s("https://blog.hhui.top"),t(a)])]),n("li",null,[s("ä¸€ç°ç°Blog-Springä¸“é¢˜åšå®¢ "),n("a",w,[s("http://spring.hhui.top"),t(a)])])])])}const x=p(k,[["render",S],["__file","19.210805-SpringBootåº”ç”¨ç¯‡å€ŸåŠ©redisæ¥å®ç°å»¶æ—¶é˜Ÿåˆ—.html.vue"]]);export{x as default};
