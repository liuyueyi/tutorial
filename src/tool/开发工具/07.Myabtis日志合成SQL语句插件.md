---
order: 7
title: 7. Chrome插件Mybatis日志转SQL语句
tag:
  - Chrome
category:
  - 工具
  - Chrome
date: 2025-12-22 19:22:29
keywords: Chrome 插件 Mybatis SQL
---

# 开发调试与生产分析的利器：MyBatis SQL日志合并插件，让复杂日志秒变可执行SQL

## 一、开篇

在Java开发的世界里，MyBatis作为最受欢迎的ORM框架之一，为我们提供了灵活的SQL操作能力。然而，伴随着这种灵活性，也带来了一个让人头疼的问题：当应用在开发或生产环境中遇到SQL相关问题时，如何快速定位和分析那些被参数化的SQL日志？

相信各位javaer都会有类似的经历：面对控制台中输出的MyBatis日志，看到类似"Preparing: SELECT * FROM user WHERE id = ? AND status = ?"和"Parameters: 123(Long), active(String)"这样的信息，却需要手动将参数值代入SQL模板中，才能知道这条SQL实际执行的是什么？这个过程不仅繁琐，而且容易出错，尤其是在处理复杂查询时。

![](/imgs/251223/00.webp)

下面给大家推荐一个能彻底解决这个问题的神器——MyBatis SQL Log Merger插件，它不仅能大幅提升开发调试效率，更是生产环境SQL分析的得力助手。

## 二、场景痛点分析

### 1. 开发阶段痛点

在开发过程中，我们经常需要验证SQL的正确性，分析查询性能，或者调试业务逻辑。传统的做法是：

1. 从日志中复制SQL模板和参数信息
2. 手动将参数值代入SQL模板中
3. 将完整的SQL粘贴到数据库客户端执行
4. 分析执行结果

这个过程不仅耗时，而且容易出错，特别是当SQL包含大量参数或复杂条件时。

### 2. 生产阶段痛点

在生产环境中，这个问题更加突出。当系统出现性能问题或异常时，比如现在出现了一个慢SQL，但是面对控制台上输出的SQL模板和传参，需要快速分析MyBatis日志，但：

1. 生产环境的SQL通常更加复杂，尤其是涉及多个表关联的场景
2. 不能直接在生产数据库中执行可能影响业务的SQL（业务重放可能加剧问题的影响面）
3. 需要将生产日志带回安全环境进行分析
4. 手动还原SQL既耗时又可能引入错误

这些痛点严重影响了问题排查效率，延长了故障恢复时间；同时也极大的降低了程序员的幸福指数

## 三、插件核心功能介绍

MyBatis SQL Log Merger插件正是为了解决这些痛点而生

### 1. 一键将MyBatis日志转换为可执行SQL

只需将MyBatis日志复制到插件中，即可一键生成完整的、可直接执行的SQL语句。插件会自动识别SQL模板和参数信息，并将参数值正确地代入SQL中。

如在监控的网页上，开启SQL提取功能，选中sql模板和sql传参，直接生成对应的sql；更能一键导航到您配置的sql管理工具站点

![](/imgs/251223/00.gif)

### 2. 独立的SQL合成工具页

除了上面的在目标网站上注入合成按钮之外，这个插件还提供了一个独立的页面，适用于从非浏览器场景获取Mybatis执行日志的场景，如 IDEA 的控制台日志：

![](/imgs/251223/01.gif)


在这个独立的SQL合成工具页中，提供了两种输入方式

- **单框模式**：适用于完整的MyBatis日志，插件自动解析SQL模板和参数
- **双框模式**：分别输入SQL模板和参数信息，提供更精确的控制

| 输入模式 | 示例图|
| --- | --- |
| 单框模式 | ![](/imgs/251223/02.webp) <br/> ![](/imgs/251223/03.webp) |
| 双框模式 | ![](/imgs/251223/04.webp) |

### 3. SQL格式化与语法高亮

生成的SQL支持进行格式化，提高可读性，并提供语法高亮功能，方便快速识别SQL结构和潜在问题；生成的SQL可以通过一键复制到剪贴板，方便粘贴到数据库客户端或其他工具中执行。

![](/imgs/251223/05.webp)

### 4. 本地处理，保障数据安全

所有处理都在浏览器本地进行，无需上传任何数据到服务器，确保敏感的SQL信息不会泄露，特别适合处理生产环境日志。

### 5. 插件优势

- 提升开发效率
    - 通过自动化处理SQL日志，插件可以将原本需要几分钟的手动操作缩短到几秒钟，大幅提升开发效率。开发人员可以将更多时间专注于业务逻辑的实现，而不是繁琐的日志分析。
- 支持生产环境安全分析
    - 插件的本地处理特性使其非常适合分析生产环境日志。无需将敏感数据上传到任何服务器，确保数据安全，同时又能高效地进行SQL分析。
- 数据本地处理，无泄漏风险
    - 所有处理都在浏览器本地完成，没有任何数据传输，完全避免了敏感SQL信息泄露的风险，符合企业安全要求。
- 多语言支持
    - 插件支持中英文界面，满足国际化团队的需求，让不同语言背景的开发人员都能方便使用。


## 四、使用方法详解

### 1. 开发场景应用

在开发环境中使用MyBatis SQL Log Merger非常简单：

1. **安装插件**：从Chrome应用商店安装 [MyBatis SQL Log Merger](https://chromewebstore.google.com/detail/mybatis-sql-log-merger/ldlekpjpadmkfoohidfgjjcmegdbkbho)
2. **获取日志**：从IDE控制台或日志文件中复制MyBatis的DEBUG级别日志
3. **粘贴处理**：打开插件界面，粘贴日志内容，点击"Process SQL/处理SQL"
4. **验证结果**：查看生成的完整SQL，如有需要可复制到数据库客户端执行

这种方式可以大大加快SQL验证和调试的速度。

![](/imgs/251223/06.jpg)

### 2. 生产场景应用

在生产环境中分析日志时，可以这样使用(对于有网页可以直接查看服务日志的场景)

1. **SQL日志查询网页**：安装插件之后，建议将插件固定到外部工具栏；然后导航到目标网站
2. **激活提取SQL按钮**：点击 Chrome 工具栏中的 `MyBatis SQL Log Merger` 图标，在弹出窗口中，点击非活动状态指示器旁边的"注入 SQL 提取按钮"切换开关
3. **复制SQL**：直接复制包含SQL模板和SQL参数的两行日志
4. **提取SQL**：点击右小角的提取SQL按钮，将自动得到可执行的SQL语句

![](/imgs/251223/07.webp)

![](/imgs/251223/08.webp)

![](/imgs/251223/09.webp)

这种方式既保证了生产数据的安全，又能高效地进行SQL分析。

### 3. 不同日志格式的支持

插件支持多种MyBatis日志格式：

- 标准MyBatis日志格式
- 带"Preparing:"和"Parameters:"前缀的日志
- 不同日志框架（Log4j、Logback等）的输出格式
- 自定义日志格式

## 五、小结

这个插件的优势还是比较明显的，MyBatis SQL Log Merger插件是一个真正解决开发和运维痛点的工具。它不仅在开发阶段能大幅提升调试效率，在生产环境中也能帮助快速定位和分析SQL相关问题。强烈推荐给每一个有需要的javer开发小伙伴🙂，有兴趣的小伙伴可以直接在谷歌浏览器上点进行下载体验

- 主页：[MyBatis SQL 日志合并工具](https://ai.hhui.top/mybatislog/index.html)
- 谷歌插件商店：[Chrome商店下载地址](https://chromewebstore.google.com/detail/mybatis-sql-log-merger/ldlekpjpadmkfoohidfgjjcmegdbkbho)
- 项目源码： [ai-chrome-mysql-merge](https://github.com/liuyueyi/ai-chrome-mysql-merge)
