---
order: 5
title: ç¬¬ 2 ç« ï¼šæ¨¡å‹ä¸æ˜¯é‡ç‚¹ï¼Œå‚æ•°æ‰æ˜¯ä½ çœŸæ­£çš„æ§åˆ¶é¢æ¿
tag:
  - LLM
category:
  - LLM
date: 2025-12-30 11:15:07
keywords: LLMåº”ç”¨å¼€å‘
---

åœ¨äº†è§£ LLM çš„åŸºæœ¬å·¥ä½œæ–¹å¼ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ª**å®é™…ä½“éªŒä¸­å¾ˆå¸¸è§çš„é—®é¢˜**ï¼š

> **ä¸ºä»€ä¹ˆåŒä¸€ä¸ªæ¨¡å‹ã€åŒæ ·çš„ Promptï¼Œ æœ‰æ—¶è¡¨ç°å¾ˆå¥½ï¼Œæœ‰æ—¶å´å¾ˆç³Ÿç³•ï¼Ÿ**

---

### 2.1 ä¸€ä¸ªå¸¸è§å›°æƒ‘ï¼šä¸ºä»€ä¹ˆæ•ˆæœå¿½å¥½å¿½åï¼Ÿ

åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éƒ½é‡åˆ°è¿‡ï¼Œé€‰æ‹©äº†æ›´ç‰›çš„æ¨¡å‹ã€ä¹ŸæŒ‰ç…§è¦æ±‚åå¤è°ƒæ•´äº†æç¤ºè¯ï¼Œåœ¨demoä¸­è¡¨ç°æŒºå¥½ï¼Œå¯æ˜¯åªè¦ä¸€ä¸Šçº¿ï¼Œå„ç§é—®é¢˜å°±æ¥äº†ï¼Œå¦‚

* è¾“å‡ºä¸ç¨³å®š
* æœ‰æ—¶å•°å—¦ï¼Œæœ‰æ—¶è¿‡äºç®€çŸ­
* å‡ºç°ä¸ç¬¦åˆç°çŠ¶æˆ–è€…è‡ªç›¸çŸ›ç›¾çš„ç»“æœ

ç„¶åæˆ‘ä»¬èƒ½å¹²å•¥å‘¢ï¼Ÿ æ¢ä¸ªæ¨¡å‹ï¼Ÿ è°ƒæ•´ä¸‹æç¤ºè¯ï¼Ÿ æˆ–è€…éšæœºæ”¹ä¸€ä¸‹ä¼ å‚ï¼Ÿ å³ä¾¿æ˜¯æŸä¸€æ¬¡ç¢°å·§æå®šäº†ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºå•¥ã€‚ å°†ç¡®å®šçš„ç¼–ç¨‹è¿‡ç¨‹æ•´æˆäº†ç„å­¦ï¼Œä¸€ä¸ªé›·æ”¾åœ¨é‚£å„¿ã€éšæ—¶å¯èƒ½çˆ†ç‚¸ï¼Œè¿™å¯ä»¥è¯´æ˜¯ä¸€ä¸ªç å†œçš„å™©æ¢¦äº†ã€‚


ä½†é—®é¢˜åˆ°åº•å‡ºåœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼ŸLLMå¼€å‘è®©äººå¤´ç–¼çš„ä¸€ç‚¹ä¹Ÿåœ¨äºæ­¤ï¼Œä¸åƒæˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç ï¼Œè¿˜å¯ä»¥é€šè¿‡debugï¼Œå•æ­¥åˆ°æ ¸å¿ƒé€»è¾‘å»ç ”ç©¶ä¸€ä¸‹ï¼›å¤§æ¨¡å‹å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œæ›´å¤šçš„æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæƒ³è°ƒè¯•ä¹ŸæŸæ‰‹æ— ç­–

ä¸€èˆ¬è¿™ç§åœºæ™¯ä¸‹ï¼Œé—®é¢˜æœ‰å¯èƒ½å¹¶ä¸åœ¨æ¨¡å‹æœ¬èº«ï¼Œè€Œåœ¨äºï¼š

> **ä½ æ˜¯å¦æ„è¯†åˆ°ï¼šå‚æ•°æœ¬èº«å°±æ˜¯â€œè¡Œä¸ºç­–ç•¥â€ï¼Ÿ**


å½“æˆ‘ä»¬è¯´ â€œå‚æ•°æ˜¯è¡Œä¸ºç­–ç•¥â€ï¼Œå¹¶ä¸æ˜¯æŒ‡é‚£äº›éšæ„è°ƒæ•´çš„ â€œç„å­¦æ•°å€¼â€ã€‚ æ¯”å¦‚ `temperature` å’Œ `top_p` è¿™ä¸¤ä¸ªæœ€å¸¸ç”¨çš„å‚æ•°ï¼Œå¾ˆå¤šåœ°æ–¹å°†ä»–ä»¬æè¿°ä¸º â€œæ§åˆ¶åˆ›é€ æ€§çš„è°ƒå‘³æ–™â€ï¼Œè¿™ç§æè¿°æŒºè´´åˆ‡çš„ï¼Œä½†æ˜¯åœ¨å…·ä½“çš„ç¼–ç æ´»åŠ¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ›´å¸Œæœ›æœ‰ä¸€ä¸ªç¡®åˆ‡çš„æ•°å€¼æ ‡å‡†ï¼Œå¦‚æœæœ‰ä¸åŒçš„åº”ç”¨åœºæ™¯çš„æœ€ä½³å‚æ•°è®¾ç½®å®è·µï¼Œé‚£å°±æ›´å®Œç¾äº†ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»”ç»†ç›˜ä¸€ä¸‹è¿™ä¸¤ä¸ªå‚æ•° â€”â€” å®ƒä»¬åˆ°åº•åœ¨æ§åˆ¶ LLM çš„ä»€ä¹ˆè¡Œä¸ºï¼Ÿ

---

### 2.2 temperature / top_p ä¸æ˜¯â€œè°ƒå‘³æ–™â€

ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ä¸­ï¼Œå°†`temperature` è§£é‡Šä¸º **â€œæ§åˆ¶åˆ›é€ æ€§ï¼Œè¶Šå¤§è¶Šå‘æ•£â€** çš„æ ¸å¿ƒæ§åˆ¶å‚æ•°

è¿™å¥è¯**æŒºè´´åˆ‡çš„ï¼Œä»å·¥ç¨‹åŒ–çš„è§’åº¦æ”¹æ€ä¹ˆç†è§£å‘¢ï¼Ÿ**ã€‚

ä½¿ç”¨æ›´ä¸“ä¸šæˆ–è€…ä¸é‚£ä¹ˆå®¹æ˜“æ‡‚è¯­è¨€è¿›è¡Œè§£é‡Š

> **temperature å†³å®šï¼šæ¨¡å‹æ˜¯å¦å…è®¸åç¦»å½“å‰æœ€ä¼˜é¢„æµ‹è·¯å¾„ã€‚**

* temperature è¶Šä½
  â†’ è¶Šå€¾å‘é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„ token
* temperature è¶Šé«˜
  â†’ è¶Šå…è®¸æ¢ç´¢æ¬¡ä¼˜ç”šè‡³ä½æ¦‚ç‡è·¯å¾„çš„ token

ä»ä¸Šé¢çš„æè¿°ï¼Œä¹Ÿå¯ä»¥å¾—å‡ºä¸€ä¸ªç›´è§‚çš„æ„Ÿå—ï¼Œtemperatureçš„å–å€¼ï¼Œå¯å½±å“

* è¾“å‡ºæ˜¯å¦å¯å¤ç°
* è¡Œä¸ºæ˜¯å¦ç¨³å®š
* æ˜¯å¦é€‚åˆè¢«ç³»ç»Ÿæ¶ˆè´¹ï¼ˆè€Œä¸ä»…æ˜¯äººé˜…è¯»ï¼‰

---

#### é‚£ top_p åˆæ˜¯ä»€ä¹ˆï¼Ÿ

å¦‚æœè¯´ temperature æ˜¯â€œæ•´ä½“å‘æ•£ç¨‹åº¦â€ï¼Œé‚£ `top_p` æ›´åƒæ˜¯ï¼š

> **ä½ å…è®¸æ¨¡å‹åœ¨â€œå¤šå¤§çš„å€™é€‰èŒƒå›´â€é‡Œåšé€‰æ‹©ã€‚**

* `top_p = 0.9`
  â†’ åªä»ç´¯è®¡æ¦‚ç‡å‰ 90% çš„ token ä¸­é€‰
* `top_p = 1.0`
  â†’ å‡ ä¹ä¸åšé™åˆ¶

è¯·æ³¨æ„ï¼Œæ‰€æœ‰çš„å‚æ•°éƒ½ä¸æ˜¯ç‹¬ç«‹ç”Ÿæ•ˆçš„ï¼Œä»–ä»¬å¿…ç„¶æ˜¯ç›¸äº’å½±å“çš„ï¼ˆæ„Ÿè§‰åƒæ˜¯åºŸè¯ï¼Œå‚æ•°éƒ½æ˜¯ä¸€èµ·ä¼ ç»™å¤§æ¨¡å‹çš„ï¼Œè‚¯å®šæ˜¯ä¸€èµ·å·¥ä½œçš„å•ŠğŸ¤£ï¼‰

åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸å¦¨å€Ÿé‰´ä¸€ä¸‹ â€œæ§åˆ¶å˜é‡æ³•â€ çš„æ€è·¯æ¥è¿›è¡Œè°ƒå‚ï¼š

* **å›ºå®šå…¶ä¸­ä¸€ä¸ª**
* **è°ƒå¦ä¸€ä¸ªä½œä¸ºä¸»ç­–ç•¥**

æ˜¾ç„¶è¿™åˆæ˜¯ä¸€ä¸ªç—›è‹¦å’Œç…ç†¬çš„åå¤æ‹‰æ‰¯è¿‡ç¨‹~

---

### 2.3 modelï¼šä¸æ˜¯â€œè¶Šå¼ºè¶Šå¥½â€ï¼Œè€Œæ˜¯â€œæ˜¯å¦åŒ¹é…ä»»åŠ¡â€

æœ‰ä¸€ä¸ªåç›´è§‰çš„äº‹å®è¡¨ç°ï¼š

> **æ¨¡å‹è¶Šå¤§ã€è¶Šæ–°ï¼Œç³»ç»Ÿå¹¶ä¸ä¸€å®šè¡¨ç°å°±è¶Šå¥½ã€‚**

åœ¨çœŸå®çš„åº”ç”¨æŠ‰æ‹©ä¸Šï¼Œæ¨¡å‹é€‰æ‹©å…¶å®æ˜¯ä¸€ä¸ªå¤šæ–¹é¢çš„**å·¥ç¨‹æƒè¡¡é—®é¢˜**ï¼š

* èƒ½åŠ›ä¸Šé™
* æˆæœ¬
* å»¶è¿Ÿ
* è¡Œä¸ºä¸€è‡´æ€§

æ¯”å¦‚å‡ ä¸ªç»å…¸çš„åº”ç”¨åœºæ™¯ä¸‹å¯¹æ¨¡å‹çš„è¦æ±‚ï¼š

* **è§„åˆ™è§£é‡Š / ä¼ä¸šçŸ¥è¯†é—®ç­”**

  * æ›´éœ€è¦ç¨³å®šã€å…‹åˆ¶
  * ä¸ä¸€å®šéœ€è¦æœ€â€œèªæ˜â€çš„æ¨¡å‹

* **åˆ›æ„ç”Ÿæˆ / å¤´è„‘é£æš´**

  * å¯ä»¥æ¥å—ä¸ç¡®å®šæ€§
  * æ¨¡å‹æ¢ç´¢èƒ½åŠ›æ›´é‡è¦

å› æ­¤ï¼Œä¸€ä¸ªæ›´å¥åº·çš„è§†è§’æ˜¯ï¼š

> **model æ˜¯èƒ½åŠ›è¾¹ç•Œï¼Œå‚æ•°å†³å®šä½ æ˜¯å¦è§¦ç¢°è¿™ä¸ªè¾¹ç•Œã€‚**

---

### 2.4 max_tokensï¼šä½ å…è®¸ç³»ç»Ÿâ€œè¯´åˆ°ä»€ä¹ˆç¨‹åº¦â€

`max_tokens` ç»å¸¸è¢«å½“ä½œä¸€ä¸ªç®€å•çš„â€œé•¿åº¦é™åˆ¶â€ã€‚

ä½†åœ¨ç³»ç»Ÿå±‚é¢ï¼Œå®ƒçœŸæ­£æ§åˆ¶çš„æ˜¯ï¼š

> **æ¨¡å‹æ˜¯å¦è¢«å…è®¸â€œç»§ç»­å±•å¼€æ€è·¯â€ã€‚**

è¿™åœ¨ä»¥ä¸‹åœºæ™¯å°¤ä¸ºå…³é”®ï¼š

* å¤šæ­¥æ¨ç†
* è§£é‡Šæ€§å›ç­”
* Agent åœºæ™¯ä¸­çš„ä¸­é—´æ¨ç†

å¦‚æœ `max_tokens` è¿‡ä½ï¼Œå¯¼è‡´ `æ¨ç†ä¼šè¢«å¼ºè¡Œæˆªæ–­` + `è¾“å‡ºå®¹æ˜“â€œçœ‹ä¼¼åˆç†ä½†ä¸å®Œæ•´â€`

å¦‚æœè¿‡é«˜ï¼Œä¹Ÿä¼šå¯¼è‡´ `æˆæœ¬ä¸Šå‡` + `æ¨¡å‹æ›´å®¹æ˜“å¼€å§‹â€œè‡ªç”±å‘æŒ¥â€`

æ‰€ä»¥å®ƒæœ¬è´¨ä¸Šæ˜¯ï¼š

> **å¯¹â€œæ€è€ƒæ·±åº¦â€çš„ä¸€ç§å·¥ç¨‹çº¦æŸã€‚**


çœ‹åˆ°è¿™é‡Œä¸çŸ¥é“ä½ è„‘æµ·é‡Œæ˜¯å¦å’Œæˆ‘æœ‰ç›¸åŒçš„æ„Ÿè§‰ï¼Œè¿™ç§å¤§æ¨¡å‹è°ƒç”¨çš„ä¼ å‚ï¼Œæ„Ÿè§‰å˜æˆäº†ä¸€ä¸ª`ç»éªŒå­¦ç§‘`äº†ï¼Œåªæœ‰å®é™…ä½“éªŒå¾—å¤šäº†ï¼Œæ‰çŸ¥é“ä»€ä¹ˆåœºæ™¯ã€é€‰æ‹©ä»€ä¹ˆæ ·çš„ä¼ å‚ğŸ¤£

---

### 2.5 streamï¼šä¸æ˜¯ä½“éªŒä¼˜åŒ–ï¼Œè€Œæ˜¯ç³»ç»Ÿæ¶æ„é€‰æ‹©

`stream` å¯ä»¥ç®€å•çš„ç†è§£ä¸º `èƒ½ä¸èƒ½ä¸€è¾¹ç”Ÿæˆä¸€è¾¹æ˜¾ç¤ºç»“æœ`

åœ¨å¤æ‚ç³»ç»Ÿä¸­ï¼Œå®ƒè¿˜åŒ…å«ç€ä¸€äº›æ½œåœ¨çš„å«ä¹‰ï¼š

* æ˜¯å¦å…è®¸**å¢é‡æ¶ˆè´¹è¾“å‡º**
* æ˜¯å¦èƒ½åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼š
  * ä¸­æ–­
  * æ ¡éªŒ
  * è§¦å‘åç»­é€»è¾‘

åœ¨ Agent / Tool / é•¿æ–‡æœ¬åœºæ™¯ä¸­ï¼š

* éæµå¼ â†’ ä¸€æ¬¡æ€§é»‘ç®±ç»“æœ
* æµå¼ â†’ å¯è§‚æµ‹ã€å¯å¹²é¢„

ä»ä¸Šé¢çš„æè¿°ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œæµå¼è°ƒç”¨é™¤äº†ä½“éªŒçš„ä¼˜åŒ–ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›ç³»ç»Ÿçº¦æŸå±‚é¢çš„èƒ½åŠ›

> **LLMå¯ä»¥æ˜¯â€œä¸€æ¬¡æ€§å‡½æ•°è°ƒç”¨â€ä¹‹å¤–ï¼Œä½œä¸ºç³»ç»Ÿçš„ä¸€éƒ¨åˆ†å­˜åœ¨**


### 2.6 ç”¨ã€Œä»»åŠ¡ç±»å‹ã€æ¥å†³å®šå‚æ•°ï¼Œè€Œä¸æ˜¯å‡­æ„Ÿè§‰

ä¸Šé¢è¯´äº†è¿™äº›å‚æ•°ï¼Œé‚£ä¹ˆåœ¨æˆ‘çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œå…·ä½“åº”è¯¥æ€ä¹ˆè®¾ç½®å‘¢ï¼Œ å…¨éƒ¨ç”¨é»˜è®¤å‚æ•°å—ï¼Ÿ

æ˜¾ç„¶ä¸€ä¸ªæ›´åˆç†çš„åšæ³•æ˜¯ï¼š

> **å…ˆåˆ¤æ–­ä½ åœ¨åšä»€ä¹ˆä»»åŠ¡ï¼Œå†å†³å®šå‚æ•°ç­–ç•¥ã€‚**


æ¯”å¦‚æ ¹æ®å®é™…åœºæ™¯ï¼Œæˆ‘æ˜¯å¦éœ€è¦ä¸€ä¸ªå‘æ•£æ€§çš„å›å¤ï¼Œä¾‹å¦‚

- ä»£ç ç”Ÿæˆï¼š
  - temperature ä½
  - è¾“å‡ºç»“æ„ç¨³å®š
- åˆ›æ„å†™ä½œï¼š
  - temperature é«˜
  - æ¥å—ä¸€å®šä¸ç¡®å®šæ€§

![](/imgs/column/llm/05-1.webp)

```mermaid
flowchart TD
    %% æ ·å¼å®šä¹‰ï¼šæŒ‰èŠ‚ç‚¹åŠŸèƒ½åˆ†ç±»
    classDef taskNode fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,rounded:10px
    classDef judgeNode fill:#fff3e0,stroke:#f57c00,stroke-width:2px,diamond:true,rounded:5px
    classDef paramNode fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px,rounded:10px
    classDef actionNode fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,rounded:10px
    classDef noteNode fill:#fafafa,stroke:#bdbdbd,stroke-dasharray:3 3,rounded:8px

    %% æ ¸å¿ƒæµç¨‹
    A[å½“å‰ä»»åŠ¡<br/>Current Task]:::taskNode --> B{æ˜¯å¦å…è®¸å‘æ•£ï¼Ÿ<br/>Allow Divergence?}:::judgeNode
    
    %% åˆ†æ”¯é€»è¾‘ï¼šå‚æ•°é€‰æ‹©
    B -->|âŒ å¦ï¼ˆç²¾å‡†/ä¸¥è°¨ï¼‰| C[temperature â†“<br/>ä½éšæœºæ€§]:::paramNode
    B -->|âœ… æ˜¯ï¼ˆåˆ›æ„/å¤šæ ·ï¼‰| D[temperature â†‘<br/>é«˜éšæœºæ€§]:::paramNode
    
    %% å­åˆ¤æ–­ï¼šå¯å¤ç°æ€§
    C --> E{æ˜¯å¦è¦æ±‚å¯å¤ç°ï¼Ÿ<br/>Require Reproducibility?}:::judgeNode
    E -->|âœ… æ˜¯| F[å›ºå®šå‚æ•° + ç»“æ„åŒ–è¾“å‡º<br/>Fixed Seed + Structured Output]:::actionNode
    E -->|âŒ å¦| G[æ™®é€šç²¾å‡†ç”Ÿæˆ<br/>Normal Precise Generation]:::actionNode
    
    %% é«˜éšæœºæ€§åˆ†æ”¯ç›´æ¥è¾“å‡ºï¼ˆæ— éœ€é¢å¤–çº¦æŸï¼‰
    D --> H[åˆ›æ„å‘æ•£ç”Ÿæˆ<br/>Creative Divergent Generation]:::actionNode

    %% è¡¥å……æ³¨è§£ï¼šå¼ºåŒ–çŸ¥è¯†ç‚¹
    note1[ğŸ“Œ ä½ temp åœºæ™¯ï¼šç¿»è¯‘/ä»£ç /äº‹å®é—®ç­”]:::noteNode
    note2[ğŸ“Œ é«˜ temp åœºæ™¯ï¼šå†™ä½œ/ brainstorming/è‰ºæœ¯åˆ›ä½œ]:::noteNode
    
    %% æ³¨è§£ä½ç½®è°ƒæ•´ï¼ˆç”¨è¿æ¥ç¬¦å›ºå®šä½ç½®ï¼Œé¿å…æ··ä¹±ï¼‰
    C -.-> note1
    D -.-> note2
```


ä¸€ç»„å‚æ•°é…åˆè°ƒå‚ï¼Œåº”å¯¹ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼š

![](/imgs/column/llm/05-2.webp)

```mermaid
flowchart TD
    %% æ ·å¼å®šä¹‰ï¼šä¿æŒä¸å‰åºå›¾è¡¨é£æ ¼ä¸€è‡´ï¼Œç¡®ä¿ç³»åˆ—æ„Ÿ
    classDef taskNode fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,rounded:10px
    classDef judgeNode fill:#fff3e0,stroke:#f57c00,stroke-width:2px,diamond:true,rounded:5px
    classDef paramNode fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px,rounded:10px
    classDef actionNode fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,rounded:10px
    classDef noteNode fill:#fafafa,stroke:#bdbdbd,stroke-dasharray:3 3,rounded:8px

    %% æ ¸å¿ƒæµç¨‹ï¼šä»»åŠ¡ â†’ ç¨³å®šæ€§åˆ¤æ–­
    A[å½“å‰ä»»åŠ¡ç±»å‹<br/>Task Type]:::taskNode --> B{æ˜¯å¦è¦æ±‚ç¨³å®šè¾“å‡ºï¼Ÿ<br/>Require Stable Output?}:::judgeNode
    
    %% åˆ†æ”¯1ï¼šè¦æ±‚ç¨³å®šï¼ˆç²¾å‡†/å¯å¤ç°åœºæ™¯ï¼‰
    B -->|âœ… æ˜¯| C[ä½ temperature + å›ºå®š top_p<br/>ï¼ˆé«˜ç¨³å®šæ€§ï¼Œä½éšæœºæ€§ï¼‰]:::paramNode
    C --> D{æ˜¯å¦éœ€è¦å¤šæ­¥æ¨ç†ï¼Ÿ<br/>Need Multi-step Reasoning?}:::judgeNode
    D -->|âœ… æ˜¯| E[æé«˜ max_tokens<br/>ï¼ˆé€‚é…é•¿æ–‡æœ¬æ¨ç†ï¼‰]:::actionNode
    D -->|âŒ å¦| F[é™åˆ¶ max_tokens<br/>ï¼ˆç²¾ç®€è¾“å‡ºï¼Œæé«˜æ•ˆç‡ï¼‰]:::actionNode
    
    %% åˆ†æ”¯2ï¼šå…è®¸æ¢ç´¢ï¼ˆåˆ›æ„/å¤šæ ·æ€§åœºæ™¯ï¼‰- è¡¥å…¨é€»è¾‘
    B -->|âŒ å¦| G[å…è®¸æ¢ç´¢ â†’ é«˜ temperature / åŠ¨æ€ top_p<br/>ï¼ˆé«˜å¤šæ ·æ€§ï¼Œå¼ºåˆ›é€ åŠ›ï¼‰]:::paramNode
    G --> H[æŒ‰éœ€è°ƒæ•´ max_tokens<br/>ï¼ˆåˆ›æ„å†™ä½œ/ brainstorming å¯è®¾æ›´é«˜ï¼‰]:::actionNode

    %% è¡¥å……æ³¨è§£ï¼šå‚æ•°åœºæ™¯è¯´æ˜
    note1[ğŸ“Œ ç¨³å®šåœºæ™¯ï¼šäº‹å®é—®ç­”ã€ä»£ç ç”Ÿæˆã€ç¿»è¯‘]:::noteNode
    note2[ğŸ“Œ æ¢ç´¢åœºæ™¯ï¼šå†™ä½œã€åˆ›æ„å‘æ•£ã€æ–¹æ¡ˆæ„æ€]:::noteNode
    note3[ğŸ’¡ top_pï¼šä¸ temperature é…åˆï¼Œæ§åˆ¶è¾“å‡ºå¤šæ ·æ€§ï¼ˆ0.1~0.9ï¼‰]:::noteNode

    %% æ³¨è§£è¿æ¥ï¼ˆè™šçº¿ä¸å¹²æ‰°ä¸»æµç¨‹ï¼‰
    C -.-> note1
    G -.-> note2
    E & F & H -.-> note3
```

---

### 2.7 æŠŠå‚æ•°å½“æˆç­–ç•¥çš„ä¸€éƒ¨åˆ†ï¼ˆä¼ªä»£ç ç¤ºä¾‹ï¼‰

æ˜ç¡®äº† â€œä»»åŠ¡ç±»å‹å†³å®šå‚æ•°ç­–ç•¥â€ çš„é€»è¾‘åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ï¼Œä»£ç å®ç°ä¸Šï¼Œå¯ä»¥æ€ä¹ˆè¿›è¡Œè¡¨ç°ï¼ˆå¥½åƒä¹Ÿæ˜¯ç®€å•çš„if/else ğŸ˜Šï¼‰

```python
def build_llm_config(task_type):
    if task_type == "fact_query":
        return {
            "model": "stable-model",
            "temperature": 0.1,
            "top_p": 0.9,
            "max_tokens": 500,
            "stream": False
        }

    if task_type == "code_generation":
        return {
            "model": "code-model",
            "temperature": 0.2,
            "top_p": 0.95,
            "max_tokens": 1500,
            "stream": False
        }

    if task_type == "agent_reasoning":
        return {
            "model": "reasoning-model",
            "temperature": 0.3,
            "top_p": 0.9,
            "max_tokens": 3000,
            "stream": True
        }

    if task_type == "creative":
        return {
            "model": "creative-model",
            "temperature": 0.9,
            "top_p": 1.0,
            "max_tokens": 800,
            "stream": True
        }
```

---

### 2.8 æœ¬ç« å°ç»“

è¿™ä¸€ç¯‡çš„å†…å®¹ä¸»è¦ä»‹ç»äº†å¤§æ¨¡å‹è®¿é—®çš„å‡ ä¸ªå…³é”®ä¼ å‚ï¼Œå¹¶ä¸”å£°æ˜äº†å¤§æ¨¡å‹è¡¨ç°ä¸å‚æ•°é…ç½®ä¹‹é—´çš„å…³ç³»

* æ¨¡å‹å†³å®šèƒ½åŠ›ä¸Šé™
* å‚æ•°å†³å®šè¡Œä¸ºæ–¹å¼
* è¡Œä¸ºå†³å®šç³»ç»Ÿæ˜¯å¦å¯é 

åœ¨åé¢çš„ç« èŠ‚ä¸­æˆ‘ä»¬ä¹Ÿä¼šé€æ¸å‘ç°

* Prompt æ˜¯**çº¦æŸ**
* å‚æ•°æ˜¯**ç­–ç•¥**
* RAG / Tool / Memory æ˜¯**è¡¥å¿æœºåˆ¶**

æ‰€æœ‰çš„è¿™ä¸€åˆ‡ï¼Œéƒ½æ˜¯å›´ç»•ç€ **å¦‚ä½•è®©ä¸€ä¸ªä¸å¯é çš„æ¨¡å‹ï¼Œåœ¨ç³»ç»Ÿä¸­å˜å¾—å¯æ§ã€‚** åŠªåŠ›

æ—¢ç„¶å‚æ•°è¿™ä¸€å—å·²ç»è¯´æ˜ï¼Œæ¥ä¸‹æ¥è‡ªç„¶å°±æ˜¯é‡å¤´æˆï¼Œå¦‚ä½•ä¸LLMè¿›è¡Œå¯¹è¯äº¤æµï¼Œæ‰€ä»¥ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æ­£å¼è¿›å…¥ `Prompt` å·¥ç¨‹ï¼Œä½†ä¸ä»â€œæ€ä¹ˆå†™â€å¼€å§‹ï¼Œè€Œæ˜¯å…ˆå›ç­”ï¼š

**Prompt ä¸ºä»€ä¹ˆä¼šå¤±è´¥ï¼Ÿ**
