---
title: 四：数据库 Database
order: 5
tag: 
  - MongoDb
category: 
  - DB
  - Mongo
date: 2020-03-26 16:49:32
keywords: Mongo MongoDB database Nosql
---

我们通常把mongodb叫文档型数据库，mysql叫关系型数据库，influxdb叫时序数据库，如果熟悉这三个的话，会发现他们都有一个`database`，它是`collection/table/measurement`的上一级，可以简单的把它理解为更高层级的集合，方便统一管理/权限划分/业务拆分

下面简单介绍一下database的基础操作

<!-- more -->

### 1. 创建数据库

当数据库不存在时，通过`use + 数据库`命令可以用来创建数据库；当数据库存在时，表示选中

```bash
use dbname
```

### 2. 查看数据库

通过 `db`查看当前的数据库

通过 `show dbs` 查看当前的数据库列表

请注意，新创建一个数据库时，直接使用`show dbs`命令，并不会显示出来，如下

![](/imgs/200326/00.jpg)

为了显示这个数据库，需要插入一个文档

```bash
db.dbname.insert({"name": "一灰灰blog", "age": 18})
```

![](/imgs/200326/01.jpg)

### 3. 删除数据库

对于数据库而言，任何删除命令都需要慎重处理，一不小心就得跑路了。。。

命令如下: `db.dropDatabase()`

实例说明：

一般来说我们需要删除时，两步走

```bash
# 选中db
use dbname
# 执行删除命令
db.dropDatabase()
```

![](/imgs/200326/02.jpg)

### 4. 潜规则

需要注意，有三个数据库属于预留的，有特殊的作用，不能新建同名的数据

- admin: 将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限; 一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。
- local: 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合
- config: 当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的相关信息。

命名规则：

- 不能是空字符串
- 不能含有特殊字符（如` `，`.`，`$`, `\`, `/`, `\0`
- 小写
- 最多64字节
