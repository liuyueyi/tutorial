<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://liuyueyi.github.io/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html"><meta property="og:site_name" content="ä¸€ç°ç°çš„ç«™ç‚¹"><meta property="og:title" content="Javaå®æˆ˜ç³»åˆ—"><meta property="og:description" content="Javaå®æˆ˜æ¼”ç»ƒ å®æˆ˜å°æŠ€å·§ï¼Œå¯ç”¨äºå®é™…ç¼–ç è¿‡ç¨‹ä¸­çš„ code snippets å¸¦ä½ å†æ—¥å¸¸å¾—ç¼–ç ä¸­å†™å¾—æ›´åŠ é¡ºç•… æœ¬ä¸“æ ä¸­æ‰€æœ‰å†…å®¹æ¥è‡ªäºç¬”è€…ï¼ˆä¸€ç°ç°blogï¼‰çš„æ—¥å¸¸æ”¶é›†ä¸åˆ†äº«ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªä¸»é¢˜éƒ½æ˜¯é’ˆå¯¹çœŸå®çš„åº”ç”¨åœºæ™¯ï¼Œé€šè¿‡æä¾›åˆ‡å®å¯ç”¨ä¸é¡¹ç›®ä¸­çš„ä»£ç ç‰‡æ®µæˆ–è€…å·¥å…·ç±»ï¼Œæ¥ç»™ç»™ä½å°ä¼™ä¼´æä¾›å¸®åŠ© å®æˆ˜1ï¼šå­—ç¬¦ä¸²å ä½æ›¿æ¢ å­—ç¬¦ä¸²å ä½æ›¿æ¢ï¼Œç›¸ä¿¡æ²¡æœ‰å°ä¼™ä¼´æ˜¯é™Œç”Ÿçš„ï¼Œè¿™ä¸œè¥¿å¯ä»¥è¯´æ˜¯ä¼´éšç€æˆ‘ä»¬æ‰€æœ‰çš„é¡¹ç›®å·¥ç¨‹ï¼Œç¼–ç è¿‡ç¨‹ï¼›åˆ«ä¸ç›¸ä¿¡ï¼Œå¦‚ String.format sqlå‚æ•°æ‹¼æ¥çš„å ä½ logæ—¥å¿—è¾“å‡º æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œç”Ÿæ¶¯ä¸­ï¼Œç»å¸¸æ¶‰åŠåˆ°çš„å‡ ç§å ä½æ›¿æ¢æ–¹å¼"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-02-24T02:18:35.000Z"><meta property="article:modified_time" content="2023-02-24T02:18:35.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Javaå®æˆ˜ç³»åˆ—","image":[""],"dateModified":"2023-02-24T02:18:35.000Z","author":[]}</script><meta name="robots" content="all"><meta name="author" content="ä¸€ç°ç°blog"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="JavaåŸºç¡€, å¤šçº¿ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, ç³»ç»Ÿè®¾è®¡, åˆ†å¸ƒå¼, RPC, é«˜å¯ç”¨, é«˜å¹¶å‘, é¢è¯•, å¼€æº, GitHub"><meta name="apple-mobile-web-app-capable" content="yes"><script>var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?f589900ec107bc271099156a209e58d5";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();</script><script data-ad-client="ca-pub-5592000528061748" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link rel="stylesheet" href="/iconfont/iconfont.css"><title>Javaå®æˆ˜ç³»åˆ— | ä¸€ç°ç°çš„ç«™ç‚¹</title><meta name="description" content="Javaå®æˆ˜æ¼”ç»ƒ å®æˆ˜å°æŠ€å·§ï¼Œå¯ç”¨äºå®é™…ç¼–ç è¿‡ç¨‹ä¸­çš„ code snippets å¸¦ä½ å†æ—¥å¸¸å¾—ç¼–ç ä¸­å†™å¾—æ›´åŠ é¡ºç•… æœ¬ä¸“æ ä¸­æ‰€æœ‰å†…å®¹æ¥è‡ªäºç¬”è€…ï¼ˆä¸€ç°ç°blogï¼‰çš„æ—¥å¸¸æ”¶é›†ä¸åˆ†äº«ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªä¸»é¢˜éƒ½æ˜¯é’ˆå¯¹çœŸå®çš„åº”ç”¨åœºæ™¯ï¼Œé€šè¿‡æä¾›åˆ‡å®å¯ç”¨ä¸é¡¹ç›®ä¸­çš„ä»£ç ç‰‡æ®µæˆ–è€…å·¥å…·ç±»ï¼Œæ¥ç»™ç»™ä½å°ä¼™ä¼´æä¾›å¸®åŠ© å®æˆ˜1ï¼šå­—ç¬¦ä¸²å ä½æ›¿æ¢ å­—ç¬¦ä¸²å ä½æ›¿æ¢ï¼Œç›¸ä¿¡æ²¡æœ‰å°ä¼™ä¼´æ˜¯é™Œç”Ÿçš„ï¼Œè¿™ä¸œè¥¿å¯ä»¥è¯´æ˜¯ä¼´éšç€æˆ‘ä»¬æ‰€æœ‰çš„é¡¹ç›®å·¥ç¨‹ï¼Œç¼–ç è¿‡ç¨‹ï¼›åˆ«ä¸ç›¸ä¿¡ï¼Œå¦‚ String.format sqlå‚æ•°æ‹¼æ¥çš„å ä½ logæ—¥å¿—è¾“å‡º æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œç”Ÿæ¶¯ä¸­ï¼Œç»å¸¸æ¶‰åŠåˆ°çš„å‡ ç§å ä½æ›¿æ¢æ–¹å¼">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/tutorial/assets/style-9dda5571.css" as="style"><link rel="stylesheet" href="/tutorial/assets/style-9dda5571.css">
    <link rel="modulepreload" href="/tutorial/assets/app-d82645cc.js"><link rel="modulepreload" href="/tutorial/assets/preload-helper-4fa4a811.js"><link rel="modulepreload" href="/tutorial/assets/framework-23f3cf9b.js"><link rel="modulepreload" href="/tutorial/assets/Javaå®æˆ˜36è®².html-2d595cb4.js"><link rel="modulepreload" href="/tutorial/assets/Javaå®æˆ˜36è®².html-2e35b8f2.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/tutorial/" class="brand"><img class="logo" src="/tutorial/logo.svg" alt="ä¸€ç°ç°çš„ç«™ç‚¹"><!----><span class="site-name hide-in-pad">ä¸€ç°ç°çš„ç«™ç‚¹</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/tutorial/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="font-icon icon iconfont icon-java" style=""></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/java/" class="nav-link active" aria-label="Javaç³»åˆ—ä¸“æ "><span class="font-icon icon iconfont icon-java" style=""></span>Javaç³»åˆ—ä¸“æ <!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€ç³»åˆ—</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/java/basic/" class="nav-link" aria-label="åŸºç¡€çŸ¥è¯†ç‚¹"><!---->åŸºç¡€çŸ¥è¯†ç‚¹<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/java/jdk/" class="nav-link" aria-label="jdk"><!---->jdk<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/java/%E5%AE%89%E5%85%A8/" class="nav-link" aria-label="å®‰å…¨"><!---->å®‰å…¨<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/java/%E5%BA%8F%E5%88%97%E5%8C%96" class="nav-link" aria-label="Jsonåºåˆ—åŒ–"><!---->Jsonåºåˆ—åŒ–<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ç¼–ç¨‹å®è·µ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/java/skill/" class="nav-link active" aria-label="å®æˆ˜ç³»åˆ—"><!---->å®æˆ˜ç³»åˆ—<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ä¸“æ "><span class="title"><span class="font-icon icon iconfont icon-diagram" style=""></span>ä¸“æ </span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/column/" class="nav-link" aria-label="ä¸“æ "><span class="font-icon icon iconfont icon-diagram" style=""></span>ä¸“æ <!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æŠ€æœ¯ç®¡ç†</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/tech/manager/" class="nav-link" aria-label="ä»0åˆ°1è½¬æŠ€æœ¯ç®¡ç†"><span class="font-icon icon iconfont icon-people" style=""></span>ä»0åˆ°1è½¬æŠ€æœ¯ç®¡ç†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åº”ç”¨ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/app/im/" class="nav-link" aria-label="QuickIMèŠå¤©ä¸“æ "><span class="font-icon icon iconfont icon-wechat" style=""></span>QuickIMèŠå¤©ä¸“æ <!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/app/alarm/" class="nav-link" aria-label="QuickAlarm"><span class="font-icon icon iconfont icon-at" style=""></span>QuickAlarm<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/app/spi/" class="nav-link" aria-label="SPIä¸šåŠ¡æ¡†æ¶"><span class="font-icon icon iconfont icon-app" style=""></span>SPIä¸šåŠ¡æ¡†æ¶<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/app/trace-watch-dog/" class="nav-link" aria-label="trace-watch-dog"><span class="font-icon icon iconfont icon-relation" style=""></span>trace-watch-dog<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶æ„</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/arch/distribute/" class="nav-link" aria-label="åˆ†å¸ƒå¼"><span class="font-icon icon iconfont icon-tree" style=""></span>åˆ†å¸ƒå¼<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring"><span class="title"><span class="font-icon icon iconfont icon-leaf" style=""></span>Spring</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/basic/" class="nav-link" aria-label="SpringåŸºç¡€ä¸“æ "><span class="font-icon icon iconfont icon-info" style=""></span>SpringåŸºç¡€ä¸“æ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ•°æ®åº“ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/db/" class="nav-link" aria-label="SpringBootæ•°æ®åº“ä¸“æ "><span class="font-icon icon iconfont icon-leaf" style=""></span>SpringBootæ•°æ®åº“ä¸“æ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æœç´¢ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/search/" class="nav-link" aria-label="SpringBootæœç´¢ç³»åˆ—æ•™ç¨‹"><span class="font-icon icon iconfont icon-search" style=""></span>SpringBootæœç´¢ç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶ˆæ¯é˜Ÿåˆ—ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/mq/" class="nav-link" aria-label="SpringBootæ¶ˆæ¯é˜Ÿåˆ—ç³»åˆ—æ•™ç¨‹"><span class="font-icon icon iconfont icon-app" style=""></span>SpringBootæ¶ˆæ¯é˜Ÿåˆ—ç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>WEB MVCä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/web/" class="nav-link" aria-label="SpringBoot WEBç³»åˆ—æ•™ç¨‹"><span class="font-icon icon iconfont icon-chrome" style=""></span>SpringBoot WEBç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å¼€æºé¡¹ç›®é›†æˆ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/middle/" class="nav-link" aria-label="SpringBoot æ•´åˆå„å¤§å¼€æºç³»åˆ—äº§å“"><span class="font-icon icon iconfont icon-change" style=""></span>SpringBoot æ•´åˆå„å¤§å¼€æºç³»åˆ—äº§å“<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ‰©å±•ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/extend/" class="nav-link" aria-label="Springæ‰©å±•ç‚¹ä¸“æ "><span class="font-icon icon iconfont icon-creative" style=""></span>Springæ‰©å±•ç‚¹ä¸“æ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Cloud</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/cloud/" class="nav-link" aria-label="SpringCloudå…¨å®¶æ¡¶"><span class="font-icon icon iconfont icon-cycle" style=""></span>SpringCloudå…¨å®¶æ¡¶<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Security</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/security/" class="nav-link" aria-label="SpringBoot Security"><span class="font-icon icon iconfont icon-lock" style=""></span>SpringBoot Security<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="font-icon icon iconfont icon-view" style=""></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/db/" class="nav-link" aria-label="æ•°æ®åº“"><span class="font-icon icon iconfont icon-view" style=""></span>æ•°æ®åº“<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MySql</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/mysql/" class="nav-link" aria-label="MySqlç³»åˆ—æ•™ç¨‹"><!---->MySqlç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MongoDB</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/mongodb/" class="nav-link" aria-label="MongoDBç³»åˆ—æ•™ç¨‹"><!---->MongoDBç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Influx</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/influxdb/" class="nav-link" aria-label="InfluxDBç³»åˆ—æ•™ç¨‹"><!---->InfluxDBç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ClickHouse</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/clickhouse/" class="nav-link" aria-label="ClickHouseç³»åˆ—æ•™ç¨‹"><!---->ClickHouseç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Redis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/redis/" class="nav-link" aria-label="redisç³»åˆ—æ•™ç¨‹"><!---->redisç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ElasticSearch</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/es/" class="nav-link" aria-label="ESç³»åˆ—æ•™ç¨‹"><!---->ESç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>RabbitMq</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/rabbitmq/" class="nav-link" aria-label="RabbitMq"><span class="font-icon icon iconfont icon-notice" style=""></span>RabbitMq<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€æºé¡¹ç›®"><span class="title"><span class="font-icon icon iconfont icon-github" style=""></span>å¼€æºé¡¹ç›®</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Quick-Media</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/qrcode" class="nav-link" aria-label="qrcode-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>qrcode-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/svg" class="nav-link" aria-label="svg-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>svg-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/image" class="nav-link" aria-label="image-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>image-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/imagic" class="nav-link" aria-label="imagic-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>imagic-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/photo" class="nav-link" aria-label="photo-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>photo-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/markdown" class="nav-link" aria-label="markdown-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>markdown-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/phantom" class="nav-link" aria-label="phantom-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>phantom-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/audio" class="nav-link" aria-label="audio-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>audio-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/date" class="nav-link" aria-label="date-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>date-plugin<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Quick-Chinese</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/git/quick-chinese-transfer" class="nav-link" aria-label="quick-chinese-transfer"><span class="font-icon icon iconfont icon-creative" style=""></span>quick-chinese-transfer<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å·¥å…·|éƒ¨ç½²"><span class="title"><span class="font-icon icon iconfont icon-tool" style=""></span>å·¥å…·|éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/tool/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" class="nav-link" aria-label="å¼€å‘å·¥å…·"><!---->å¼€å‘å·¥å…·<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/GIT" class="nav-link" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Linux" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Docker" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Maven" class="nav-link" aria-label="Maven"><!---->Maven<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Devops" class="nav-link" aria-label="Devops"><!---->Devops<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Nginx" class="nav-link" aria-label="Nginx"><!---->Nginx<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://tool.hhui.top/" rel="noopener noreferrer" target="_blank" aria-label="ç™¾å®ç®±" class="nav-link"><span class="font-icon icon iconfont icon-tool" style=""></span>ç™¾å®ç®±<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/tutorial/me/about-me.html" class="nav-link" aria-label="å…³äº"><span class="font-icon icon iconfont icon-valine" style=""></span>å…³äº<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/liuyueyi/tutorial" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/tutorial/java/" class="nav-link sidebar-link sidebar-page" aria-label="Javaç³»åˆ—ä¸“æ "><span class="font-icon icon iconfont icon-java" style=""></span>Javaç³»åˆ—ä¸“æ <!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-stack" style=""></span><span class="title">åŸºç¡€ä½¿ç”¨</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-process" style=""></span><span class="title">ç¼–ç¨‹å°æŠ€å·§</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">JDKæºç </span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-json" style=""></span><span class="title">åºåˆ—åŒ–</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-lock" style=""></span><span class="title">å®‰å…¨</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Javaå®æˆ˜ç³»åˆ—</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://hhui.top" target="_blank" rel="noopener noreferrer">ä¸€ç°ç°blog</a></span><span property="author" content="ä¸€ç°ç°blog"></span></span><!----><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-24T02:18:35.000Z"></span><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 34016 å­—</span><meta property="wordCount" content="34016"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 113 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT113M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-string-format" class="router-link-active router-link-exact-active toc-link level2">1. String.format</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-ç±»å‹ä¸åŒ¹é…" class="router-link-active router-link-exact-active toc-link level3">1.1 ç±»å‹ä¸åŒ¹é…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-å‚æ•°ä¸ªæ•°ä¸åŒ¹é…" class="router-link-active router-link-exact-active toc-link level3">1.2 å‚æ•°ä¸ªæ•°ä¸åŒ¹é…</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-messageformat" class="router-link-active router-link-exact-active toc-link level2">2. MessageFormat</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-1-æˆå¯¹å‡ºç°" class="router-link-active router-link-exact-active toc-link level3">2.1 {}æˆå¯¹å‡ºç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-2-å•å¼•å·" class="router-link-active router-link-exact-active toc-link level3">2.2 å•å¼•å·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-3-åºå·çœç•¥" class="router-link-active router-link-exact-active toc-link level3">2.3 åºå·çœç•¥</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å°ç»“" class="router-link-active router-link-exact-active toc-link level2">3. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-æ•°ç»„è½¬list" class="router-link-active router-link-exact-active toc-link level2">1.æ•°ç»„è½¬List</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-array-aslist" class="router-link-active router-link-exact-active toc-link level3">1.1. Array.asList</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-new-arraylist" class="router-link-active router-link-exact-active toc-link level3">1.2. new ArrayList</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-collections-addall" class="router-link-active router-link-exact-active toc-link level3">1.3. Collections.addAll</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-åˆ—è¡¨è½¬æ•°ç»„" class="router-link-active router-link-exact-active toc-link level2">2. åˆ—è¡¨è½¬æ•°ç»„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å°ç»“-1" class="router-link-active router-link-exact-active toc-link level2">3. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å­—ç¬¦ä¸²è½¬åˆ—è¡¨" class="router-link-active router-link-exact-active toc-link level2">1. å­—ç¬¦ä¸²è½¬åˆ—è¡¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-jdkæ”¯æŒæ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.1. jdkæ”¯æŒæ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-guavaæ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.2. guavaæ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-apache-commons" class="router-link-active router-link-exact-active toc-link level3">1.3. apache-commons</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-åˆ—è¡¨è½¬å­—ç¬¦ä¸²" class="router-link-active router-link-exact-active toc-link level2">2. åˆ—è¡¨è½¬å­—ç¬¦ä¸²</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-1-stringbuilder" class="router-link-active router-link-exact-active toc-link level3">2.1. StringBuilder</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-2-string-join" class="router-link-active router-link-exact-active toc-link level3">2.2. String.join</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-3-gauva" class="router-link-active router-link-exact-active toc-link level3">2.3. gauva</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å°ç»“-2" class="router-link-active router-link-exact-active toc-link level2">3. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®ç°" class="router-link-active router-link-exact-active toc-link level2">1. å®ç°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-æ™®é€šå†™æ³•" class="router-link-active router-link-exact-active toc-link level3">1.1. æ™®é€šå†™æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-stringjoiner" class="router-link-active router-link-exact-active toc-link level3">1.2. StringJoiner</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-guava-joiner" class="router-link-active router-link-exact-active toc-link level3">1.3. guava joiner</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®ç°-1" class="router-link-active router-link-exact-active toc-link level2">1.å®ç°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-gauva" class="router-link-active router-link-exact-active toc-link level3">1.1. Gauva</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-hutool" class="router-link-active router-link-exact-active toc-link level3">1.2. Hutool</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-è‡ªå®šä¹‰å®ç°" class="router-link-active router-link-exact-active toc-link level3">1.3. è‡ªå®šä¹‰å®ç°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-ä½¿ç”¨åœºæ™¯" class="router-link-active router-link-exact-active toc-link level2">1. ä½¿ç”¨åœºæ™¯</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-å•ä¾‹æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">1.1. å•ä¾‹æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-ç­–ç•¥æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">1.2. ç­–ç•¥æ¨¡å¼</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-1" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-æ’åº" class="router-link-active router-link-exact-active toc-link level2">1.æ’åº</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-comparator-ä¸-comparable" class="router-link-active router-link-exact-active toc-link level3">1.1. Comparator ä¸ Comparable</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-è¸©å‘é¢„å‘Š" class="router-link-active router-link-exact-active toc-link level3">1.2. è¸©å‘é¢„å‘Š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-2" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®¹å™¨åˆå§‹åŒ–" class="router-link-active router-link-exact-active toc-link level2">1. å®¹å™¨åˆå§‹åŒ–</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-list" class="router-link-active router-link-exact-active toc-link level3">1.1. List</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-map" class="router-link-active router-link-exact-active toc-link level3">1.2.Map</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-set" class="router-link-active router-link-exact-active toc-link level3">1.3. Set</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-3" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®ä¾‹è¯´æ˜" class="router-link-active router-link-exact-active toc-link level2">1.å®ä¾‹è¯´æ˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-sublist" class="router-link-active router-link-exact-active toc-link level3">1.1. subList</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-stackoverflowerroråˆ†æ" class="router-link-active router-link-exact-active toc-link level3">1.2. StackOverflowErroråˆ†æ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-4" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-ä¸å¯å˜å®¹å™¨" class="router-link-active router-link-exact-active toc-link level2">1. ä¸å¯å˜å®¹å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-jdkä¸å¯å˜å®¹å™¨" class="router-link-active router-link-exact-active toc-link level3">1.1. JDKä¸å¯å˜å®¹å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-guavaä¸å¯å˜å®¹å™¨" class="router-link-active router-link-exact-active toc-link level3">1.2. Guavaä¸å¯å˜å®¹å™¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-æ³¨æ„äº‹é¡¹" class="router-link-active router-link-exact-active toc-link level2">2. æ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-mapäº’è½¬" class="router-link-active router-link-exact-active toc-link level2">1.Mapäº’è½¬</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-å®ä¾‹åœºæ™¯" class="router-link-active router-link-exact-active toc-link level3">1.1 å®ä¾‹åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-æœ€åä¸€é—®-è¿™ç¯‡æ–‡ç« ç›®çš„æ˜¯å•¥" class="router-link-active router-link-exact-active toc-link level3">1.2 æœ€åä¸€é—®ï¼Œè¿™ç¯‡æ–‡ç« ç›®çš„æ˜¯å•¥ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å‡½æ•°æ–¹æ³•æ¶ˆå‡ä»£ç å±‚çº§" class="router-link-active router-link-exact-active toc-link level2">1. å‡½æ•°æ–¹æ³•æ¶ˆå‡ä»£ç å±‚çº§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-éå†ä¸­returnæ”¯æŒ" class="router-link-active router-link-exact-active toc-link level2">2. éå†ä¸­returnæ”¯æŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-è½¬æ¢æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">1. è½¬æ¢æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-åŸºæœ¬å†™æ³•" class="router-link-active router-link-exact-active toc-link level3">1.1. åŸºæœ¬å†™æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-é€šç”¨æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">1.2. é€šç”¨æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-å·¥å…·ç±»" class="router-link-active router-link-exact-active toc-link level3">1.3. å·¥å…·ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-4-guava-hashmultimapæ‰©å±•çŸ¥è¯†ç‚¹" class="router-link-active router-link-exact-active toc-link level3">1.4.guava HashMultimapæ‰©å±•çŸ¥è¯†ç‚¹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®ç°æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">1. å®ç°æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-æ•°æ®æŸ¥è¯¢æ¨¡æ‹Ÿ" class="router-link-active router-link-exact-active toc-link level3">1.1. æ•°æ®æŸ¥è¯¢æ¨¡æ‹Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-åŸºæœ¬å®ç°æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.2. åŸºæœ¬å®ç°æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-è¿­ä»£å™¨å®ç°æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.3. è¿­ä»£å™¨å®ç°æ–¹å¼</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®ç°æ–¹å¼-1" class="router-link-active router-link-exact-active toc-link level2">1. å®ç°æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-åŸºç¡€å†™æ³•" class="router-link-active router-link-exact-active toc-link level3">1.1. åŸºç¡€å†™æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-å€Ÿç”¨å®¹å™¨ä¸­è½¬" class="router-link-active router-link-exact-active toc-link level3">1.2. å€Ÿç”¨å®¹å™¨ä¸­è½¬</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-array-copy" class="router-link-active router-link-exact-active toc-link level3">1.3. Array.copy</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-4-system-arraycopy" class="router-link-active router-link-exact-active toc-link level3">1.4. System.arraycopy</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-åŸºç¡€ç±»å‹åˆ¤æ–­" class="router-link-active router-link-exact-active toc-link level2">1. åŸºç¡€ç±»å‹åˆ¤æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°è£…ç±»å‹åˆ¤æ–­" class="router-link-active router-link-exact-active toc-link level2">2. å°è£…ç±»å‹åˆ¤æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#è¾“å‡ºå¯¹è±¡åœ°å€" class="router-link-active router-link-exact-active toc-link level2">è¾“å‡ºå¯¹è±¡åœ°å€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-éšæœºæ•°ç”Ÿæˆ" class="router-link-active router-link-exact-active toc-link level2">1.éšæœºæ•°ç”Ÿæˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-math-random" class="router-link-active router-link-exact-active toc-link level3">1.1. Math.random</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-random" class="router-link-active router-link-exact-active toc-link level3">1.2. Random</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-math-random-ä¸-randomå¦‚ä½•é€‰" class="router-link-active router-link-exact-active toc-link level3">1.3. Math.random ä¸ Randomå¦‚ä½•é€‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-æ ¼å¼åŒ–" class="router-link-active router-link-exact-active toc-link level2">1. æ ¼å¼åŒ–</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-decimalformatä½¿ç”¨è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">1.1. DecimalFormatä½¿ç”¨è¯´æ˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-è¿›åˆ¶è½¬æ¢" class="router-link-active router-link-exact-active toc-link level2">1. è¿›åˆ¶è½¬æ¢</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-tostringå®ç°è¿›åˆ¶è½¬æ¢" class="router-link-active router-link-exact-active toc-link level3">1.1. toStringå®ç°è¿›åˆ¶è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" class="router-link-active router-link-exact-active toc-link level3">1.2. åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-åè¿›åˆ¶è½¬å…«è¿›åˆ¶" class="router-link-active router-link-exact-active toc-link level3">1.3. åè¿›åˆ¶è½¬å…«è¿›åˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-4-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶" class="router-link-active router-link-exact-active toc-link level3">1.4. åè¿›åˆ¶è½¬åå…­è¿›åˆ¶</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-propertiesé…ç½®ç±»" class="router-link-active router-link-exact-active toc-link level2">1. Propertiesé…ç½®ç±»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">1.1. é…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-é…ç½®æ–‡ä»¶åŠ è½½" class="router-link-active router-link-exact-active toc-link level3">1.2. é…ç½®æ–‡ä»¶åŠ è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-propertieså¯¹è±¡ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">1.3. Propertieså¯¹è±¡ä½¿ç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-5" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-é…ç½®å°è£…" class="router-link-active router-link-exact-active toc-link level2">1.é…ç½®å°è£…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-é…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½" class="router-link-active router-link-exact-active toc-link level3">1.1. é…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-åŠŸèƒ½æµ‹è¯•" class="router-link-active router-link-exact-active toc-link level3">1.2. åŠŸèƒ½æµ‹è¯•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å®ç°æ–¹å¼-2" class="router-link-active router-link-exact-active toc-link level2">1.å®ç°æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-ä»»åŠ¡è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">1.1. ä»»åŠ¡è¯´æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-å…·ä½“å®ç°" class="router-link-active router-link-exact-active toc-link level3">1.2.å…·ä½“å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-æ‰©å±•æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level3">1.3. æ‰©å±•æœºåˆ¶</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-6" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-lruç®—æ³•" class="router-link-active router-link-exact-active toc-link level2">1. LRUç®—æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-lruç®—æ³•å®ç°" class="router-link-active router-link-exact-active toc-link level3">1.1 LRUç®—æ³•å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-å°ç»“" class="router-link-active router-link-exact-active toc-link level3">1.2 å°ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-java7æ–°ç‰¹æ€§ä¹‹æ•°å­—ä¸­ä½¿ç”¨ä¸‹åˆ’çº¿" class="router-link-active router-link-exact-active toc-link level2">1. Java7æ–°ç‰¹æ€§ä¹‹æ•°å­—ä¸­ä½¿ç”¨ä¸‹åˆ’çº¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-7" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-listéå†åˆ é™¤" class="router-link-active router-link-exact-active toc-link level2">1. Listéå†åˆ é™¤</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-foreach" class="router-link-active router-link-exact-active toc-link level3">1.1. foreach</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-æ™®é€šforå¾ªç¯" class="router-link-active router-link-exact-active toc-link level3">1.2. æ™®é€šforå¾ªç¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-è¿­ä»£æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.3. è¿­ä»£æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-4-jdk8-æµæ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.4. jdk8+ æµæ–¹å¼</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-8" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-map-è¿­ä»£åˆ é™¤" class="router-link-active router-link-exact-active toc-link level2">1. Map è¿­ä»£åˆ é™¤</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-éå¸¸ä¸ä¼˜é›…ç‰ˆæœ¬" class="router-link-active router-link-exact-active toc-link level3">1.1. éå¸¸ä¸ä¼˜é›…ç‰ˆæœ¬</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-æ­£ç¡®å§¿åŠ¿ç‰ˆ" class="router-link-active router-link-exact-active toc-link level3">1.2. æ­£ç¡®å§¿åŠ¿ç‰ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-3-ç®€æ´ç‰ˆ" class="router-link-active router-link-exact-active toc-link level3">1.3. ç®€æ´ç‰ˆ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-9" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-ä»£ç†æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">1. ä»£ç†æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-autocloseable" class="router-link-active router-link-exact-active toc-link level2">2. AutoCloseable</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å°ç»“-3" class="router-link-active router-link-exact-active toc-link level2">3. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-èµ„æºè·¯å¾„æŸ¥è¯¢" class="router-link-active router-link-exact-active toc-link level2">1. èµ„æºè·¯å¾„æŸ¥è¯¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-10" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å‹ç¼©ä¸è§£å‹å·¥å…·ç±»" class="router-link-active router-link-exact-active toc-link level2">1. å‹ç¼©ä¸è§£å‹å·¥å…·ç±»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-åŸºæœ¬å®ç°" class="router-link-active router-link-exact-active toc-link level3">1.1. åŸºæœ¬å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-æ³¨æ„äº‹é¡¹" class="router-link-active router-link-exact-active toc-link level3">1.2. æ³¨æ„äº‹é¡¹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-å°ç»“-11" class="router-link-active router-link-exact-active toc-link level2">2. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-javaä¹‹clone" class="router-link-active router-link-exact-active toc-link level2">1. Javaä¹‹Clone</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-1-èƒŒæ™¯" class="router-link-active router-link-exact-active toc-link level3">1.1 èƒŒæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-2-å†…å®¹è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">1.2 å†…å®¹è¯´æ˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-æ·±æ‹·è´å’Œæµ…æ‹·è´" class="router-link-active router-link-exact-active toc-link level2">2. æ·±æ‹·è´å’Œæµ…æ‹·è´</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-1-å®šä¹‰è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">2.1 å®šä¹‰è¯´æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-2-æµ…æ‹·è´" class="router-link-active router-link-exact-active toc-link level3">2.2 æµ…æ‹·è´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-3-æ·±æ‹·è´" class="router-link-active router-link-exact-active toc-link level3">2.3 æ·±æ‹·è´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-4-åº”ç”¨åœºæ™¯åŒºåˆ†" class="router-link-active router-link-exact-active toc-link level3">2.4 åº”ç”¨åœºæ™¯åŒºåˆ†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å¯¹è±¡æ‹·è´å·¥å…·" class="router-link-active router-link-exact-active toc-link level2">3. å¯¹è±¡æ‹·è´å·¥å…·</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-1-å€ŸåŠ©åå°„å®ç°å¯¹è±¡æ‹·è´" class="router-link-active router-link-exact-active toc-link level3">3.1 å€ŸåŠ©åå°„å®ç°å¯¹è±¡æ‹·è´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-2-ä»£ç†çš„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´" class="router-link-active router-link-exact-active toc-link level3">3.2 ä»£ç†çš„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å°ç»“-4" class="router-link-active router-link-exact-active toc-link level2">3. å°ç»“</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-1-æ·±æ‹·è´å’Œæµ…æ‹·è´" class="router-link-active router-link-exact-active toc-link level3">3.1 æ·±æ‹·è´å’Œæµ…æ‹·è´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-2-å¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">3.2 å¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹æ³•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-é—®é¢˜æè¿°åŠåˆ†æ" class="router-link-active router-link-exact-active toc-link level2">1. é—®é¢˜æè¿°åŠåˆ†æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-è®¾è®¡ä¸å®ç°" class="router-link-active router-link-exact-active toc-link level2">2. è®¾è®¡ä¸å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-è¿›é˜¶ç‰ˆ" class="router-link-active router-link-exact-active toc-link level2">3. è¿›é˜¶ç‰ˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-1-apacheç‰ˆ" class="router-link-active router-link-exact-active toc-link level3">3.1 apacheç‰ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-2-jdkç‰ˆæœ¬" class="router-link-active router-link-exact-active toc-link level3">3.2 JDKç‰ˆæœ¬</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_4-å°ç»“" class="router-link-active router-link-exact-active toc-link level2">4. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-å·¥å…·å®ç°ç±»" class="router-link-active router-link-exact-active toc-link level2">1. å·¥å…·å®ç°ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_1-runtimeä½¿ç”¨æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">1. Runtimeä½¿ç”¨æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_2-processbuilderä½¿ç”¨æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">2. ProcessBuilderä½¿ç”¨æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#_3-å°ç»“-5" class="router-link-active router-link-exact-active toc-link level2">3. å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#ç½‘ç«™å†…å®¹æœ‰ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level2">ç½‘ç«™å†…å®¹æœ‰ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#æŠ€æœ¯æ´¾èƒ½ç»™ä½ æä¾›ä»€ä¹ˆå¸®åŠ©å‘¢" class="router-link-active router-link-exact-active toc-link level2">æŠ€æœ¯æ´¾èƒ½ç»™ä½ æä¾›ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/java/skill/Java%E5%AE%9E%E6%88%9836%E8%AE%B2.html#ç½‘ç«™åœ°å€" class="router-link-active router-link-exact-active toc-link level2">ç½‘ç«™åœ°å€</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><figure><img src="http://cdn.hhui.top/column/java_cover.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h1 id="javaå®æˆ˜æ¼”ç»ƒ" tabindex="-1"><a class="header-anchor" href="#javaå®æˆ˜æ¼”ç»ƒ" aria-hidden="true">#</a> Javaå®æˆ˜æ¼”ç»ƒ</h1><blockquote><p>å®æˆ˜å°æŠ€å·§ï¼Œå¯ç”¨äºå®é™…ç¼–ç è¿‡ç¨‹ä¸­çš„ <code>code snippets</code> å¸¦ä½ å†æ—¥å¸¸å¾—ç¼–ç ä¸­å†™å¾—æ›´åŠ é¡ºç•…</p></blockquote><p>æœ¬ä¸“æ ä¸­æ‰€æœ‰å†…å®¹æ¥è‡ªäºç¬”è€…ï¼ˆä¸€ç°ç°blogï¼‰çš„æ—¥å¸¸æ”¶é›†ä¸åˆ†äº«ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªä¸»é¢˜éƒ½æ˜¯é’ˆå¯¹çœŸå®çš„åº”ç”¨åœºæ™¯ï¼Œé€šè¿‡æä¾›åˆ‡å®å¯ç”¨ä¸é¡¹ç›®ä¸­çš„ä»£ç ç‰‡æ®µæˆ–è€…å·¥å…·ç±»ï¼Œæ¥ç»™ç»™ä½å°ä¼™ä¼´æä¾›å¸®åŠ©</p><hr><h1 id="å®æˆ˜1-å­—ç¬¦ä¸²å ä½æ›¿æ¢" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜1-å­—ç¬¦ä¸²å ä½æ›¿æ¢" aria-hidden="true">#</a> å®æˆ˜1ï¼šå­—ç¬¦ä¸²å ä½æ›¿æ¢</h1><p>å­—ç¬¦ä¸²å ä½æ›¿æ¢ï¼Œç›¸ä¿¡æ²¡æœ‰å°ä¼™ä¼´æ˜¯é™Œç”Ÿçš„ï¼Œè¿™ä¸œè¥¿å¯ä»¥è¯´æ˜¯ä¼´éšç€æˆ‘ä»¬æ‰€æœ‰çš„é¡¹ç›®å·¥ç¨‹ï¼Œç¼–ç è¿‡ç¨‹ï¼›åˆ«ä¸ç›¸ä¿¡ï¼Œå¦‚</p><ul><li>String.format</li><li>sqlå‚æ•°æ‹¼æ¥çš„å ä½</li><li>logæ—¥å¿—è¾“å‡º</li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œç”Ÿæ¶¯ä¸­ï¼Œç»å¸¸æ¶‰åŠåˆ°çš„å‡ ç§å ä½æ›¿æ¢æ–¹å¼</p><!-- more --><h2 id="_1-string-format" tabindex="-1"><a class="header-anchor" href="#_1-string-format" aria-hidden="true">#</a> 1. String.format</h2><p>è¿™ç§å¯ä»¥è¯´æ˜¯æœ€åŸå§‹æœ€åŸºç¡€çš„æ–¹å¼äº†ï¼ŒåŸºæœ¬ä¸Šåœ¨æœ€å¼€å§‹å­¦ä¹ javaè¿™é—¨è¯­è¨€çš„æ—¶å€™å°±ä¼šæ¶‰åŠåˆ°ï¼Œè¯­æ³•ä¹Ÿæ¯”è¾ƒç®€å•</p><p>ä¸¾ä¾‹å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸€ç°ç°blog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>%</code>æ¥è¡¨ç¤ºå ä½ï¼Œåé¢è·Ÿä¸Šä¸åŒçš„æ ‡è¯†ç¬¦ï¼Œç”¨äºé™å®šè¿™ä¸ªå ä½å¤„çš„å‚æ•°ç±»å‹</p><p>è¿™ç§ä½¿ç”¨å§¿åŠ¿ï¼Œç”±jdkåŸç”Ÿæä¾›æ”¯æŒï¼Œä¸‹è¡¨ä¸ºä¸åŒçš„è½¬æ¢ç¬¦å¯¹åº”çš„è¯´æ˜</p><table><thead><tr><th>è½¬æ¢ç¬¦</th><th>è¯´æ˜</th><th>å‚æ•°å®ä¾‹</th></tr></thead><tbody><tr><td><code>%s</code></td><td>å­—ç¬¦ä¸²æ›¿æ¢</td><td>&quot;ä¸€ç°ç°&quot;</td></tr><tr><td><code>%c</code></td><td>å­—ç¬¦ç±»å‹</td><td>&#39;a&#39;</td></tr><tr><td><code>%b</code></td><td>å¸ƒå°”ç±»å‹</td><td>true/false</td></tr><tr><td><code>%d</code></td><td>æ•´æ•°ï¼Œåè¿›åˆ¶</td><td>10</td></tr><tr><td><code>%x</code></td><td>æ•´æ•°ï¼Œåå…­è¿›åˆ¶</td><td>0x12</td></tr><tr><td><code>%o</code></td><td>æ•´æ•°ï¼Œå…«è¿›åˆ¶</td><td>012</td></tr><tr><td><code>%f</code></td><td>æµ®ç‚¹</td><td>0.12f</td></tr><tr><td><code>%e</code></td><td>æŒ‡æ•°</td><td>2e2</td></tr><tr><td><code>%g</code></td><td>é€šç”¨æµ®ç‚¹å‹</td><td></td></tr><tr><td><code>%h</code></td><td>æ•£åˆ—</td><td></td></tr><tr><td><code>%%</code></td><td>ç™¾åˆ†æ¯”</td><td></td></tr><tr><td><code>%n</code></td><td>æ¢è¡Œ</td><td></td></tr><tr><td><code>%tx</code></td><td>æ—¥æœŸä¸æ—¶é—´ç±»å‹ï¼ˆxä»£è¡¨ä¸åŒçš„æ—¥æœŸä¸æ—¶é—´è½¬æ¢ç¬¦</td><td></td></tr></tbody></table><p>è™½ç„¶ä¸Šé¢è¡¨ä¸­åˆ—å‡ºäº†å¾ˆå¤šï¼Œä½†å®é™…ä½¿ç”¨æ—¶ï¼Œ<code>%s</code>, <code>%d</code>, <code>%f</code> è¿™ä¸‰ä¸ªå°±è¶³ä»¥åº”ä»˜ç»å¤§éƒ¨åˆ†çš„åœºæ™¯äº†ï¼›ä½¿ç”¨å§¿åŠ¿å’Œä¸Šé¢çš„å®ä¾‹å‚ä¸å¤šï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²æ¨¡æ¿ï¼Œåé¢çš„å¯å˜å‚æ•°ä¸ºå¾…æ›¿æ¢çš„å€¼</p><p>ä¸‹é¢æ˜¯åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­çš„æ³¨æ„äº‹é¡¹</p><h3 id="_1-1-ç±»å‹ä¸åŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_1-1-ç±»å‹ä¸åŒ¹é…" aria-hidden="true">#</a> 1.1 ç±»å‹ä¸åŒ¹é…</h3><p>ä¸Šé¢çš„è¡¨ä¸­ä»‹ç»äº†ä¸åŒçš„è½¬æ¢ç¬¦ï¼Œè¦æ±‚çš„å‚æ•°ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”ä¸Šï¼Œä¼šæ€æ ·</p><p><strong><code>%s</code>ï¼Œä¼ å…¥éå­—ç¬¦ä¸²ç±»å‹</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token number">0x12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>hello 120
hello true
hello [I@3d82c5f3
hello [1, 2, 3]
hello 18
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>%s</code>çš„å ä½æ ‡è®°ï¼Œä¼ å‚å¦‚æœä¸æ˜¯Stringç±»å‹ï¼Œé‚£ä¹ˆå®é™…æ›¿æ¢çš„æ˜¯ <code>arg.toString()</code> (æ‰€ä»¥æ•°ç»„è¾“å‡ºçš„æ˜¯åœ°å€ï¼Œè€Œlistè¾“å‡ºäº†å†…å®¹)</p><p><strong><code>%d</code>ï¼Œä¼ å…¥éæ•´æ•°</strong></p><p>ä¸å­—ç¬¦ä¸²çš„ä¸ä¸€æ ·çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰è¦æ±‚æ›¿æ¢çš„å‚æ•°ç±»å‹ä¸ºæ•´æ•°ï¼Œé‚£ä¹ˆä¼ å‚ä¸æ˜¯æ•´æ•°ï¼Œå°±ä¼šæŠ›å¼‚å¸¸</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %d&quot;</span><span class="token punctuation">,</span> <span class="token number">1.0F</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸¤ä¸ªï¼Œä¸€ä¸ªä¼ å…¥çš„å‚æ•°ä¸ºæµ®ç‚¹ï¼Œä¸€ä¸ªä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œåœ¨å®é™…æ›¿æ¢çš„æ—¶å€™ï¼Œå¯ä¸ä¼šè°ƒç”¨<code>Integer.valufOf(String.valueOf(xxx))</code>æ¥å¼ºè½¬ï¼Œè€Œæ˜¯é‡‡ç”¨æ›´ç›´æ¥çš„æ–¹å¼ï¼ŒæŠ›å¼‚å¸¸</p><p>å…³é”®çš„æç¤ºä¿¡æ¯å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>java.util.IllegalFormatConversionException: d != java.lang.Float
java.util.IllegalFormatConversionException: d != java.lang.String
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤åœ¨å®é™…ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæ›¿æ¢æ—¶ï¼Œæ¨èé€‰æ‹© <code>%s</code>ï¼Œæ¯•ç«Ÿå…¼å®¹æ€§æ›´å¥½</p><h3 id="_1-2-å‚æ•°ä¸ªæ•°ä¸åŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_1-2-å‚æ•°ä¸ªæ•°ä¸åŒ¹é…" aria-hidden="true">#</a> 1.2 å‚æ•°ä¸ªæ•°ä¸åŒ¹é…</h3><p>æˆ‘ä»¬ä¼šæ³¨æ„åˆ°,<code>String.format</code>æ¥æ”¶çš„å‚æ•°æ˜¯ä¸å®šé•¿çš„ï¼Œé‚£ä¹ˆå°±å¯èƒ½å­˜åœ¨å­—ç¬¦ä¸²æ¨¡æ¿ä¸­é¢„ç•™çš„å ä½ä¸å®é™…ä¼ å…¥çš„å‚æ•°ä¸ªæ•°ä¸åŒ¹é…çš„åœºæ™¯ï¼Œé‚£ä¹ˆå‡ºç°è¿™ç§åœºæ™¯æ—¶ï¼Œä¼šæ€æ ·</p><p><strong>å‚æ•°ç¼ºå°‘</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s %s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yihui&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¨¡æ¿è¦æ±‚ä¸¤ä¸ªï¼Œå®é™…åªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œä¼šç›´æ¥æŠ›å¼‚å¸¸<code>MissingFormatArgumentException</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>java.util.MissingFormatArgumentException: Format specifier &#39;%s&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å‚æ•°è¿‡å¤š</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yihuihui&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ‰§è¡Œæ­£å¸¸ï¼Œå¤šä½™çš„å‚æ•°ä¸ä¼šè¢«æ›¿æ¢</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨<code>String.format</code>è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢æ—¶ï¼Œè¯·ç¡®ä¿ä¼ å‚ä¸è¦å°‘äºå®é™…å®šä¹‰çš„å‚æ•°ä¸ªæ•°ï¼›å¤šäº†è¿˜å¥½ï¼Œå°‘äº†å°±ä¼šæŠ›å¼‚å¸¸</p><h2 id="_2-messageformat" tabindex="-1"><a class="header-anchor" href="#_2-messageformat" aria-hidden="true">#</a> 2. MessageFormat</h2><p>ä¸Šé¢ä»‹ç»çš„String.formatè™½è¯´ç®€å•å¥½ç”¨ï¼Œä½†æˆ‘ä»¬ç”¨å¤šä¹‹åï¼Œè‡ªç„¶ä¼šé‡åˆ°ï¼Œä¸€ä¸ªå‚æ•°ï¼Œéœ€è¦æ›¿æ¢æ¨¡æ¿ä¸­å¤šä¸ªå ä½çš„åœºæ™¯ï¼Œé’ˆå¯¹è¿™ç§åœºæ™¯ï¼Œæ›´å‹å¥½çš„æ–¹å¼æ˜¯<code>MessageFormat</code>ï¼Œè¿™ä¸ªä¹Ÿæ˜¯jdkåŸç”Ÿæä¾›çš„</p><p>æˆ‘ä»¬æ¥ç®€å•çœ‹ä¸€ä¸‹å®ƒçš„ä½¿ç”¨å§¿åŠ¿</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> ans <span class="token operator">=</span> <span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello {0}, wechart site {0}{1}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸€ç°ç°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>{æ•°å­—}</code>æ¥è¡¨ç¤ºå ä½ï¼Œå…¶ä¸­æ•°å­—å¯¹åº”çš„æ˜¯ä¼ å‚çš„ä¸‹æ ‡ï¼Œå› æ­¤å½“ä¸€ä¸ªå‚æ•°éœ€è¦å¤ç”¨æ—¶ï¼Œä½¿ç”¨MessageFormatå°±å¯ä»¥æ¯”è¾ƒç®€å•çš„å®ç°äº†ï¼Œä¸Šé¢å°±æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œæ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>hello ä¸€ç°ç°, wechart site ä¸€ç°ç°blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥è¯´ä¸€ä¸‹å®ƒä½¿ç”¨æ—¶çš„æ³¨æ„äº‹é¡¹</p><h3 id="_2-1-æˆå¯¹å‡ºç°" tabindex="-1"><a class="header-anchor" href="#_2-1-æˆå¯¹å‡ºç°" aria-hidden="true">#</a> 2.1 {}æˆå¯¹å‡ºç°</h3><p>å¦‚æœå­—ç¬¦ä¸²ä¸­ï¼Œåªå‡ºç°ä¸€ä¸ª<code>{</code>ï¼Œè€Œæ²¡æœ‰é…å¥—çš„<code>}</code>ï¼Œä¼šæŠ›å¼‚å¸¸</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello }&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello { world&quot;</span><span class="token punctuation">,</span>  <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸Šé¢ä¸¤ç§caseï¼Œä¸Šé¢ä¸€ä¸ªæ˜¯æœ‰<code>}</code>è€Œç¼ºå°‘<code>{</code>ï¼Œè¿™æ ·æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼›è€Œä¸‹é¢é‚£ä¸ªåˆ™ä¼šæŠ›å¼‚å¸¸</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>IllegalArgumentException</span><span class="token operator">:</span> <span class="token class-name">Unmatched</span> braces in the pattern<span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœå­—ç¬¦ä¸²ä¸­å´æ˜¯å¸Œæœ›è¾“å‡º<code>{</code>ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æ¥å¤„ç†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello &#39;{&#39; world&quot;</span><span class="token punctuation">,</span>  <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-2-å•å¼•å·" tabindex="-1"><a class="header-anchor" href="#_2-2-å•å¼•å·" aria-hidden="true">#</a> 2.2 å•å¼•å·</h3><p>ä¸Šé¢æåˆ°éœ€è¦è½¬ç§»æ—¶ï¼Œå¯ä»¥ç”¨å•å¼•å·è¿›è¡Œå¤„ç†ï¼Œåœ¨å­—ç¬¦ä¸²æ¨¡æ¿çš„å®šä¹‰ä¸­ï¼Œå¦‚æœæœ‰å•å¼•å·ï¼Œéœ€è¦å„ä½æ³¨æ„</p><p><strong>åªæœ‰ä¸€ä¸ªå•å¼•å·ï¼Œä¼šå¯¼è‡´åé¢æ‰€æœ‰å ä½éƒ½ä¸ç”Ÿæ•ˆ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello {0}, I&#39;m {1}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸€ç°ç°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªè¾“å‡ºç»“æœå¯èƒ½å’Œæˆ‘ä»¬å®é™…å¸Œæœ›çš„ä¸ä¸€è‡´</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>hello ä¸€ç°ç°, Im {1}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¦è§£å†³ä¸Šé¢è¿™ä¸ªï¼Œå°±æ˜¯ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello {0}, I&#39;&#39;m {1}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸€ç°ç°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ ·è¾“å‡ºçš„å°±æ˜¯æˆ‘ä»¬é¢„æœŸçš„</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>hello ä¸€ç°ç°, I&#39;m blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-3-åºå·çœç•¥" tabindex="-1"><a class="header-anchor" href="#_2-3-åºå·çœç•¥" aria-hidden="true">#</a> 2.3 åºå·çœç•¥</h3><p>ä¸Šé¢çš„å®šä¹‰ä¸­ï¼Œå·²ç»æ˜ç¡®è¦æ±‚æˆ‘ä»¬åœ¨<code>{}</code>ä¸­æŒ‡å®šå‚æ•°çš„åºå·ï¼Œå¦‚æœæ¨¡æ¿ä¸­æ²¡æœ‰æŒ‡å®šä¼šæ€æ ·?</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>messageFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hello {}, world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yihuihui&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç›´æ¥æŠ›å¼‚å¸¸</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>java.lang.IllegalArgumentException: can&#39;t parse argument number: 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_3-å°ç»“" aria-hidden="true">#</a> 3. å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»çš„å®æˆ˜å°æŠ€å·§å±äºæ˜¯jdkåŸç”Ÿæä¾›çš„ä¸¤ç§å®ç°å­—ç¬¦ä¸²å ä½æ›¿æ¢çš„æ–¹å¼ï¼Œé™¤äº†è¿™ä¸¤ä¸ªä¹‹å¤–ï¼Œæˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­è¿˜ä¼šé‡åˆ°å…¶ä»–çš„å ä½æ›¿æ¢æ–¹å¼</p><p>æ¯”å¦‚sqlçš„<code>?</code>æ›¿æ¢ï¼Œmybatisä¸­sqlå‚æ•°ç»„è£…ä½¿ç”¨<code>${paramName}</code>ï¼Œæˆ–è€…logbackæ—¥å¿—è¾“å‡ºä¸­çš„<code>{}</code>æ¥è¡¨ç¤ºå ä½ï¼Œspringçš„@Valueæ³¨è§£å£°æ˜çš„é…ç½®æ³¨å…¥æ–¹å¼<code>${name:defaultValue}</code>ï¼Œè¿™äº›ä¹Ÿéƒ½å±äºå ä½æ›¿æ¢çš„èŒƒç•´ï¼Œé‚£ä¹ˆå®ƒä»¬åˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜2-æ•°ç»„ä¸listäº’è½¬" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜2-æ•°ç»„ä¸listäº’è½¬" aria-hidden="true">#</a> å®æˆ˜2ï¼šæ•°ç»„ä¸listäº’è½¬</h1><p>è¿™ä¸ªè€ƒé¢˜æ¯”è¾ƒå¸¸è§ï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œéš¾é“å°±è¿™ä¹Ÿæœ‰ä»€ä¹ˆå¯ä»¥è¯´åˆ°çš„é—¨è·¯ä¸æˆï¼Ÿ</p><p>æ¥ä¸‹æ¥æœ¬æ–‡å¥½å¥½çš„è¯´ä¸€è¯´å®ƒçš„å‡ ç§å®ç°å§¿åŠ¿ï¼Œæ€»æœ‰ä¸€æ¬¾ä½ å–œæ¬¢çš„</p><h2 id="_1-æ•°ç»„è½¬list" tabindex="-1"><a class="header-anchor" href="#_1-æ•°ç»„è½¬list" aria-hidden="true">#</a> 1.æ•°ç»„è½¬List</h2><h3 id="_1-1-array-aslist" tabindex="-1"><a class="header-anchor" href="#_1-1-array-aslist" aria-hidden="true">#</a> 1.1. Array.asList</h3><p>è¿™ä¸ªè€ƒé¢˜å¤ªç®€å•äº†ï¼Œç›´æ¥ä½¿ç”¨<code>Array.asList</code>ä¸å°±å®Œäº‹äº†ä¹ˆï¼Œæ¯”å¦‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ary2list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•°ç»„è½¬listï¼Œso easy!!!</p><p>çœŸçš„å°±è¿™ä¹ˆç®€å•ä¹ˆï¼Ÿï¼Ÿï¼Ÿ</p><p>ä¸”çœ‹ä¸‹é¢è¿™ä¸€æ®µä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ary2list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›´æ¥æŠ›å‡ºäº†å¼‚å¸¸<code>java.lang.UnsupportedOperationException</code></p><p>æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹ä¸€ä¸‹æºç å®ç°æ–¹å¼ï¼Œé€šè¿‡<code>Arrays.asList</code>åˆ›å»ºçš„Listï¼Œè™½è¯´ä¹Ÿå‘½åæ˜¯<code>ArrayList</code>ï¼Œä½†æ˜¯å®ƒçš„å…¨è·¯å¾„ä¸º <code>java.util.Arrays.ArrayList</code>ï¼Œ ä¸æ”¯æŒ<code>add</code>, <code>remove</code>ç­‰æ“ä½œï¼ˆæ‰€ä»¥ä¸‹æ¬¡å†æœ‰é¢è¯•å®˜é—®ArrayListçš„çŸ¥è¯†ç‚¹æ—¶ï¼Œå°±å¯ä»¥åé—®ä¸€å¥ï¼Œè€å“¥ä½ æŒ‡çš„æ˜¯å“ªä¸ªArrayListğŸ˜ï¼Œé€¼æ ¼æ˜¯ä¸æ˜¯ç«‹é©¬æ‹‰èµ·æ¥ï¼‰</p><p><strong>çŸ¥è¯†ç‚¹</strong></p><ul><li>é€šè¿‡<code>Arrays.asList</code>åˆ›å»ºçš„åˆ—è¡¨ï¼Œä¸å…è®¸æ–°å¢ï¼Œåˆ é™¤å…ƒç´ ï¼›ä½†æ˜¯å¯ä»¥æ›´æ–°åˆ—è¡¨ä¸­å…ƒç´ çš„å€¼</li></ul><h3 id="_1-2-new-arraylist" tabindex="-1"><a class="header-anchor" href="#_1-2-new-arraylist" aria-hidden="true">#</a> 1.2. new ArrayList</h3><p>ä¸Šé¢çš„æ•°ç»„è½¬listæ–¹å¼è™½ç„¶æ˜¯æœ€ç®€å•çš„ï¼Œä½†ä¸ä¸€å®šæ˜¯åˆé€‚çš„ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬å¯èƒ½å¯¹è½¬æ¢åçš„listè¿›è¡Œæ“ä½œæ—¶ï¼Œå¯èƒ½åŸ‹å‘ï¼ˆè€Œä¸”è¿™ç§å‘è¿˜éå¸¸éšæ™¦ï¼Œä»£ç å±‚é¢ä¸Šå¾ˆéš¾å‘ç°ï¼‰</p><p>ä¸ºäº†å‡å°‘åœ¨ä»£ç é‡Œé¢ä¸‹æ¯’çš„å¯èƒ½æ€§ï¼Œä¸å¦¨ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼<code>new ArrayList&lt;&gt;(Arrays.asList(ary))</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸Šé¢è¿™ç§æ–¹å¼åˆ›å»ºçš„Listï¼Œå°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„<code>ArrayList</code>äº†</p><p><strong>é¿é›·é¢„è­¦</strong></p><p>çœ‹åˆ°ä¸Šé¢è¿™ä¸ªä½¿ç”¨å§¿åŠ¿ï¼Œå°±å¾ˆå®¹æ˜“æƒ³åˆ°ä¸€ä¸ªå¸¸è§çš„è¸©é›·ç‚¹ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„åº”ç”¨ä¸­ï¼Œæœ‰ä¸€ä¸ªå…¨å±€å…±äº«çš„é…ç½®åˆ—è¡¨ï¼Œå¼ ä¸‰éœ€è¦æ‹¿idä¸ºå¥‡æ•°çš„é…ç½®ï¼Œæå››æ‹¿idä¸ºå¶æ•°çš„é…ç½®ï¼Œç„¶åä»–ä»¬éƒ½æ˜¯è¿™ä¹ˆåšçš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span>id <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åè·‘äº†ä¸€æ¬¡ä¹‹åå‘ç°è¿™ä¸ªå…¨å±€çš„åˆ—è¡¨æ¸…ç©ºäº†ï¼Œè¿™å°±æ˜¯å…¸å‹çš„æ²¡æœ‰åšå¥½èµ„æºéš”ç¦»çš„caseäº†ï¼Œé’ˆå¯¹è¿™ç§åœºæ™¯ï¼Œè¦ä¹ˆæ˜¯é™åˆ¶ä½¿ç”¨æ–¹ï¼Œç›´æ¥é’ˆå¯¹å…¨å±€çš„èµ„æºè¿›è¡Œä¿®æ”¹ï¼Œè¦ä¹ˆå°±æ˜¯ä½¿ç”¨æ–¹æ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªéš”ç¦»çš„å¤‡ä»½</p><p><strong>ç¦æ­¢ä¿®æ”¹ï¼š</strong></p><ul><li>ä½¿ç”¨ä¸å¯å˜çš„å®¹å™¨ï¼Œå¦‚å‰é¢æåˆ°çš„<code>java.util.Arrays.ArrayList</code> ()</li><li>ä½¿ç”¨<code>Collections.unmodifiableList</code>åˆ›å»º</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> unModifyList <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åˆ—è¡¨æ‹·è´</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆä¸Šé¢è¿™ç§å±äºæ·±æ‹·è´çš„å®ç°ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸€ä¸‹jdkçš„æºç å®ç°ï¼‰</p><h3 id="_1-3-collections-addall" tabindex="-1"><a class="header-anchor" href="#_1-3-collections-addall" aria-hidden="true">#</a> 1.3. Collections.addAll</h3><p>ç¬¬ä¸‰ç§æ–¹å¼å€ŸåŠ©jdkæä¾›çš„å®¹å™¨å·¥å…·ç±»<code>Collections</code>æ¥å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ary2listV3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// åˆ›å»ºåˆ—è¡¨ï¼Œå¹¶æŒ‡å®šé•¿åº¦ï¼Œé¿å…å¯èƒ½äº§ç”Ÿçš„æ‰©å®¹</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ary<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å®ç°æ•°ç»„æ·»åŠ åˆ°åˆ—è¡¨ä¸­</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> ary<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å› ä¸ºåˆ—è¡¨ä¸ºæˆ‘ä»¬å®šä¹‰çš„ArrayListï¼Œå› æ­¤å¯ä»¥å¯¹å®ƒè¿›è¡Œå¢åˆ æ”¹</span>
    out<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸåˆ™ä¸Šæ˜¯æ¯”è¾ƒæ¨èè¿™ç§æ–¹å¼æ¥å®ç°çš„ï¼Œè‡³äºä¸ºå•¥ï¼Ÿçœ‹ä¸‹æºç å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">boolean</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> elements<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> result <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">T</span> element <span class="token operator">:</span> elements<span class="token punctuation">)</span>
        result <span class="token operator">|=</span> c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç çš„å®ç°æ˜¯ä¸æ˜¯éå¸¸çœ¼ç†Ÿï¼Œå¦‚æœè®©æˆ‘ä»¬è‡ªå·±æ¥å†™ï¼Œä¹Ÿå·®ä¸å¤šä¼šå†™æˆè¿™æ ·å§ï¼Œç®€å•ç›´è§‚é«˜æ•ˆï¼Œå®Œç¾</p><h2 id="_2-åˆ—è¡¨è½¬æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_2-åˆ—è¡¨è½¬æ•°ç»„" aria-hidden="true">#</a> 2. åˆ—è¡¨è½¬æ•°ç»„</h2><p>ä¸åŒäºæ•°ç»„è½¬åˆ—è¡¨çš„å‡ ç§ç©æ³•ï¼Œåˆ—è¡¨è½¬æ•°ç»„å°±ç®€å•å¤šäº†ï¼Œç›´æ¥è°ƒç”¨<code>List.toArray</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›çš„æ˜¯Object[] æ•°ç»„</span>
<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cell <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¦‚æœéœ€è¦æŒ‡å®šæ•°ç»„ç±»å‹ï¼Œå¯ä»¥ä¼ ä¸€ä¸ªæŒ‡å®šå„ç±»å‹çš„ç©ºçš„æ•°ç»„</span>
<span class="token comment">// ä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªä¸ç›®æ ‡åˆ—è¡¨é•¿åº¦ç›¸ç­‰çš„æ•°ç»„ï¼Œè¿™æ ·ä¼šå°†åˆ—è¡¨ä¸­çš„å…ƒç´ æ‹·è´åˆ°è¿™ä¸ªæ•°ç»„ä¸­</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> strCell <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-å°ç»“-1" tabindex="-1"><a class="header-anchor" href="#_3-å°ç»“-1" aria-hidden="true">#</a> 3. å°ç»“</h2><p>ä»Šå¤©çš„åšæ–‡ä¸»é¢˜æ˜¯æ•°ç»„ä¸åˆ—è¡¨çš„äº’è½¬ï¼Œè™½è¯´é¢˜ç›®ç®€å•ï¼Œä½†æ˜¯å®ç°æ–¹å¼ä¹Ÿæ˜¯å¤šç§ï¼Œéœ€è¦ææ¸…æ¥šå®ƒä»¬ä¹‹é—´çš„æœ¬è´¨åŒºåˆ«ï¼Œä¸€ä¸å°å¿ƒå°±å¯èƒ½é‡‡å‘ï¼Œè€Œæœ€ç®€å•çš„åœ°æ–¹æ‰å‘é‡Œï¼Œå¾€å¾€æ˜¯æœ€éš¾å‘ç°å’Œçˆ¬å‡ºæ¥çš„</p><p>æ ¸å¿ƒçŸ¥è¯†ç‚¹å°ç»“å¦‚ä¸‹</p><p><strong>æ•°ç»„è½¬listï¼š</strong></p><ul><li><code>Arrays.asList(xxx)</code>ï¼šåˆ›å»ºçš„æ˜¯ä¸å¯å˜åˆ—è¡¨ï¼Œä¸èƒ½åˆ é™¤å’Œæ–°å¢å…ƒç´ </li><li><code>new ArrayList&lt;&gt;(Arrays.asList(xxx)</code>: ç›¸å½“äºç”¨åˆ—è¡¨åˆ›å»ºåˆ—è¡¨ï¼Œå±äºæ·±æ‹·è´çš„ä¸€ç§è¡¨ç°ï¼Œè·å–åˆ°çš„åˆ—è¡¨æ”¯æŒæ–°å¢ã€åˆ é™¤</li><li>æ¨èå†™æ³• <code>Collections.addAll()</code></li></ul><p><strong>åˆ—è¡¨è½¬æ•°ç»„</strong></p><ul><li><code>list.toArray</code>: å¦‚æœéœ€è¦æŒ‡å®šæ•°ç»„ç±»å‹ï¼Œåˆ™ä¼ å‚æŒ‡å®š</li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜3-å­—ç¬¦ä¸²ä¸collectionçš„äº’è½¬" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜3-å­—ç¬¦ä¸²ä¸collectionçš„äº’è½¬" aria-hidden="true">#</a> å®æˆ˜3ï¼šå­—ç¬¦ä¸²ä¸Collectionçš„äº’è½¬</h1><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºListï¼Œè¿™ç§ä¸šåŠ¡åœºæ™¯å¯ä»¥è¯´éå¸¸éå¸¸å¸¸è§äº†ï¼Œå®ç°æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2list</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cells <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>cells<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆé™¤äº†ä¸Šé¢è¿™ç§å®ç°æ–¹å¼ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„ä¹ˆï¼Ÿ</p><!-- more --><h2 id="_1-å­—ç¬¦ä¸²è½¬åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#_1-å­—ç¬¦ä¸²è½¬åˆ—è¡¨" aria-hidden="true">#</a> 1. å­—ç¬¦ä¸²è½¬åˆ—è¡¨</h2><p>ä¸Šé¢çš„å®ç°å§¿åŠ¿ç›¸å½“äºå­—ç¬¦ä¸²å…ˆè½¬æ•°ç»„ï¼Œç„¶ååœ¨é€šè¿‡æ•°ç»„è½¬åˆ—è¡¨ï¼Œæ‰€ä»¥å¯ä»¥æ²¿ç”¨å‰ä¸€ç¯‡å­—æ•°ç»„è½¬listçš„å‡ ç§æ–¹å¼</p><h3 id="_1-1-jdkæ”¯æŒæ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-1-jdkæ”¯æŒæ–¹å¼" aria-hidden="true">#</a> 1.1. jdkæ”¯æŒæ–¹å¼</h3><p>å€ŸåŠ©<code>Collections.addAll</code>æ¥å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2list2</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ç§æ–¹å¼é€‚ç”¨äºè¾“å‡ºStringçš„åˆ—è¡¨ï¼Œå¦‚æœæˆ‘å¸Œæœ›è½¬æˆintåˆ—è¡¨å‘¢ï¼Ÿå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„æ–¹å¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2intList</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">trim</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›´æ¥å°†æ•°ç»„è½¬æ¢ä¸ºæµï¼Œç„¶ååŸºäºjdk8çš„ç‰¹æ€§ï¼Œæ¥å®ç°è½¬æ¢ä¸ºintåˆ—è¡¨</p><h3 id="_1-2-guavaæ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-guavaæ–¹å¼" aria-hidden="true">#</a> 1.2. guavaæ–¹å¼</h3><p>å¼•å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.google.guava<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>guava<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>30.1-jre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†ä½¿ç”¨jdkåŸç”Ÿçš„æ–¹å¼ä¹‹å¤–ï¼Œå€ŸåŠ©guavaä¹Ÿæ˜¯éå¸¸å¸¸è§çš„çš„caseäº†ï¼Œä¸»è¦é€šè¿‡Splitteræ¥å®ç°ï¼Œå†™æ³•çœ‹èµ·æ¥éå¸¸ç§€</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2list2</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Splitter</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splitToList</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•ç›´æ¥çš„ä¸€è¡Œä»£ç æå®šï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æ˜¯å¯¹è¾“å‡ºçš„åˆ—è¡¨ç±»å‹è¿›è¡ŒæŒ‡å®šï¼Œä¹Ÿå¯ä»¥å¦‚ä¸‹æ“ä½œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2intListV2</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Splitter</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splitToStream</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">trim</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-apache-commons" tabindex="-1"><a class="header-anchor" href="#_1-3-apache-commons" aria-hidden="true">#</a> 1.3. apache-commons</h3><p>å¼•å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-collections4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢æµçš„æ–¹å¼å°±å¾ˆèµäº†ï¼Œä½†æ˜¯æ³¨æ„å®ƒæ˜¯æœ‰jdkç‰ˆæœ¬é™åˆ¶çš„ï¼Œè™½è¯´ç°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯1.8ä»¥ä¸Šçš„ç¯å¢ƒè¿›è¡Œå¼€å‘ï¼Œä½†ä¹Ÿä¸æ’é™¤æœ‰ä¸Šå¤çš„ä»£ç ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨æ‰‹ä¸Šçš„é¡¹ç›®ï¼Œspringè¿˜æ˜¯3...</p><p>å¦‚æœæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨æµçš„æ–¹å¼ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆç®€å•çš„æ–¹å¼æ¥å®ç°å­—ç¬¦ä¸²è½¬æ¢ä¸ºæŒ‡å®šç±»å‹çš„åˆ—è¡¨ä¹ˆï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2intListV3</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Transformer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªå®ç°ä¹Ÿæ²¡æœ‰å¤šä¼˜é›…ï¼Œä¸è¿‡è¿™é‡Œæœ‰ä¸ªç¼–ç¨‹å°æŠ€å·§å¯ä»¥å­¦ä¹ ï¼Œ<code>new Transformer(){}</code>çš„ä¼ å‚æ–¹å¼ï¼Œè¿™ç§å®ç°æ–¹å¼æœ‰ç‚¹åƒå›è°ƒçš„å†™æ³•ï¼Œè™½ç„¶ä»–ä»¬æœ‰æœ¬è´¨çš„åŒºåˆ«ï¼Œæ­¤å¤–å°±æ˜¯jdk8ä¹‹åçš„å‡½æ•°æ–¹æ³•ï¼Œå°±å……åˆ†çš„ä½“ç°è¿™ç§è®¾è®¡æ€è·¯ï¼Œæ¯”å¦‚ä¸Šé¢çš„æ¢æˆjdk8çš„å†™æ³•ï¼Œç›´æ¥ç®€åŒ–ä¸º</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">str2intListV3</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-åˆ—è¡¨è½¬å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#_2-åˆ—è¡¨è½¬å­—ç¬¦ä¸²" aria-hidden="true">#</a> 2. åˆ—è¡¨è½¬å­—ç¬¦ä¸²</h2><h3 id="_2-1-stringbuilder" tabindex="-1"><a class="header-anchor" href="#_2-1-stringbuilder" aria-hidden="true">#</a> 2.1. StringBuilder</h3><p>æœ€å®¹æ˜“æƒ³åˆ°çš„ï¼Œç›´æ¥ä½¿ç”¨StringBuilderæ¥å®ç°æ‹¼æ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">list2str</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> builder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸¤ç‚¹ï¼š</p><ul><li>ä½¿ç”¨StringBuilderè€Œä¸æ˜¯StringBuffer (why?)</li><li>æ³¨æ„æœ€åä¸€ä¸ªæ‹¼æ¥ç¬¦å·ä¸è¦</li></ul><h3 id="_2-2-string-join" tabindex="-1"><a class="header-anchor" href="#_2-2-string-join" aria-hidden="true">#</a> 2.2. String.join</h3><p>ä¸€ä¸ªæ›´ç®€å•çš„å®ç°æ–¹å¼å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">list2str2</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>split<span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ä¸Šé¢è¿™ä¸ªçš„ç¼ºç‚¹å°±æ˜¯åˆ—è¡¨å¿…é¡»æ˜¯å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå¦‚æœæ¢æˆintåˆ—è¡¨ï¼Œåˆ™ä¸è¡Œ</p><h3 id="_2-3-gauva" tabindex="-1"><a class="header-anchor" href="#_2-3-gauva" aria-hidden="true">#</a> 2.3. gauva</h3><p>guavaä¹Ÿæä¾›äº†åˆ—è¡¨è½¬Stringçš„æ–¹å¼ï¼ŒåŒæ ·å¾ˆç®€å•ï¼Œè€Œä¸”è¿˜æ²¡æœ‰åˆ—è¡¨ç±»å‹çš„é™åˆ¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">list2str3</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">String</span> split<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Joiner</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>split<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-å°ç»“-2" tabindex="-1"><a class="header-anchor" href="#_3-å°ç»“-2" aria-hidden="true">#</a> 3. å°ç»“</h2><p>æœ¬æ–‡çš„è€ƒé¢˜ä¹Ÿéå¸¸å¸¸è§ï¼Œåˆ—è¡¨ä¸å­—ç¬¦ä¸²çš„äº’è½¬ï¼Œè¿™é‡Œä»‹ç»äº†å¤šç§å®ç°æ–¹å¼ï¼Œæœ‰jdkåŸç”Ÿçš„caseï¼ˆå¦‚æœæ²¡æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œæ¨èä½¿ç”¨å®ƒï¼Œ <code>String.split</code>é™¤å¤–ï¼ŒåŸå› åé¢å†è¯´ï¼‰ï¼Œå¦‚æœæœ‰æ›´é«˜çº§çš„å®šåˆ¶åœºæ™¯ï¼Œå¦‚éStringç±»å‹ç±»è¡¨ï¼Œåˆ™å¯ä»¥è€ƒè™‘guavaçš„Splitter/Joinneræ¥å®ç°</p><p>åœ¨ä¸Šé¢çš„å®ç°ä¸­ï¼Œä¹Ÿæä¾›äº†å‡ ç§æœ‰æ„æ€çš„ç¼–ç¨‹æ–¹å¼</p><ul><li>Stream: æµï¼Œjdk8ä¹‹åéå¸¸å¸¸è§äº†</li><li>å‡½æ•°æ–¹æ³•ï¼Œå›è°ƒå†™æ³•case</li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜4-å­—ç¬¦ä¸²æ‹¼æ¥" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜4-å­—ç¬¦ä¸²æ‹¼æ¥" aria-hidden="true">#</a> å®æˆ˜4ï¼šå­—ç¬¦ä¸²æ‹¼æ¥</h1><p>ç›¸ä¿¡æ²¡æœ‰å°ä¼™ä¼´æ²¡æœ‰å†™è¿‡è¿™æ ·çš„ä»£ç ï¼Œæ¯”å¦‚è¯´ç°åœ¨è®©æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥çš„åœºæ™¯ï¼Œæ€æ ·çš„å®ç°æ‰ç®—æ˜¯ä¼˜é›…çš„å‘¢ï¼Ÿ</p><!-- more --><p>ä»¥å°†intæ•°ç»„è½¬ä¸ºè‹±æ–‡é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ä¸ºä¾‹è¿›è¡Œæ¼”ç¤º</p><h2 id="_1-å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-å®ç°" aria-hidden="true">#</a> 1. å®ç°</h2><h3 id="_1-1-æ™®é€šå†™æ³•" tabindex="-1"><a class="header-anchor" href="#_1-1-æ™®é€šå†™æ³•" aria-hidden="true">#</a> 1.1. æ™®é€šå†™æ³•</h3><p>ç›´æ¥ä½¿ç”¨StringBuilderæ¥æ‹¼æ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> sub<span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> builder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ç§å†™æ³•ç›¸ä¿¡æ¯”è¾ƒå¸¸è§ï¼Œç›¸å¯¹æ¥è¯´ä¸å¤ªé¡ºçœ¼çš„åœ°æ–¹å°±æ˜¯æœ€åçš„toStringï¼Œéœ€è¦å°†æœ€åçš„ä¸€ä¸ªè‹±æ–‡é€—å·ç»™å¹²æ‰</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢è¿™ç§äº‹å‰åˆ¤æ–­æ–¹å¼ï¼Œé¿å…æœ€ç»ˆçš„å­—ç¬¦ä¸²æˆªå–</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">join2</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> first <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> sub<span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            first <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-stringjoiner" tabindex="-1"><a class="header-anchor" href="#_1-2-stringjoiner" aria-hidden="true">#</a> 1.2. StringJoiner</h3><p>ä¸Šé¢å®ç°ä¸­ï¼Œå¹²æ‰æœ€åçš„ä¸€ä¸ªåˆ†éš”ç¬¦å®åœ¨ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œé‚£ä¹ˆæœ‰æ›´å¥½ä¸€ç‚¹çš„ç”¨æ³•ä¹ˆï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨<code>StringJoiner</code>çš„æ–¹å¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">join3</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringJoiner</span> joiner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringJoiner</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        joiner<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> joiner<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>StringJoinerç”±jdk1.8æä¾›ï¼Œé™¤äº†ä¸Šé¢çš„åŸºç¡€ç©æ³•ä¹‹å¤–ï¼Œç»“åˆjdk1.8å¸¦æ¥çš„æµæ“ä½œæ–¹å¼ï¼Œå¯ä»¥æ›´ç®€æ´çš„å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ€ä¹ˆæ ·ï¼Œä¸Šé¢è¿™ä¸ªå®ç°æ¯”èµ·å‰é¢çš„ä»£ç æ˜¯ä¸æ˜¯è¦ç®€æ´å¤šäº†ï¼Œä¸€è¡Œä»£ç å®Œäº‹</p><h3 id="_1-3-guava-joiner" tabindex="-1"><a class="header-anchor" href="#_1-3-guava-joiner" aria-hidden="true">#</a> 1.3. guava joiner</h3><p>å¦‚æœä½¿ç”¨çš„jdkè¿˜ä¸æ˜¯1.8ç‰ˆæœ¬ï¼Œä¸èƒ½ä½¿ç”¨ä¸Šé¢çš„StringJoinerï¼Œæ²¡å…³ç³»ï¼Œè¿˜æœ‰guavaçš„Joinerä¹Ÿå¯ä»¥å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">join5</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Joiner</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„</strong></p><ul><li>æ¥æ”¶çš„å‚æ•°ç±»å‹ä¸º: æ•°ç»„/Iterable/Iterator/å¯å˜å‚æ•°, åŸºæœ¬ä¸Šå¯ä»¥è¦†ç›–æˆ‘ä»¬æ—¥å¸¸çš„ä¸šåŠ¡åœºæ™¯</li></ul><h2 id="_2-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“" aria-hidden="true">#</a> 2. å°ç»“</h2><p>æœ¬ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯ä¸€ä¸ªéå¸¸éå¸¸å¸¸è§çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¸€èˆ¬æ¥è®²ï¼Œæˆ‘ä»¬åœ¨åšå­—ç¬¦ä¸²æ‹¼æ¥æ—¶ï¼Œæœ€éº»çƒ¦çš„äº‹æƒ…å°±æ˜¯åˆ†éš”ç¬¦çš„å¤„ç†ï¼Œè¦ä¹ˆå°±æ˜¯åˆ†éš”ç¬¦å‰ç½®æ·»åŠ ï¼Œæ¯æ¬¡å¾ªç¯éƒ½éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºå¼€å¤´ï¼›è¦ä¹ˆå°±æ˜¯åç½®ï¼Œæœ€åå–å­—ç¬¦ä¸²æ—¶ï¼Œå¹²æ‰æœ€åä¸€ä¸ªåˆ†éš”ç¬¦</p><p>æœ¬æ–‡æä¾›äº†ä¸€ä¸ªéå¸¸ä½¿ç”¨çš„æ–¹å¼<code>StringJoiner</code>ï¼Œå®Œå…¨è§£å†³äº†ä¸Šé¢çš„åˆ†éš”ç¬¦é—®é¢˜ï¼Œå®ƒçš„ä½¿ç”¨æœ‰ä¸¤ç§åœºæ™¯</p><ul><li>ç®€å•çš„å®¹å™¨è½¬Stringï¼šç›´æ¥å€ŸåŠ©Streamçš„<code>Collectors.joining</code>æ¥å®ç°</li><li>forå¾ªç¯ ï¼ˆè¿™ç§åœºæ™¯ä¸€èˆ¬æ˜¯forå¾ªç¯å†…çš„é€»è¾‘ä¸ä»…ä»…åŒ…æ‹¬å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè¿˜åŒ…æ‹¬å…¶ä»–çš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼š å¾ªç¯å†…ç›´æ¥æ‰§è¡Œ<code>stringJoiner.add()</code>æ·»åŠ </li></ul><p>å¯¹äºjdk1.8åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œä¼˜å…ˆæ¨èä½¿ç”¨ä¸Šé¢è¯´çš„StringJoineræ¥å®ç°å­—ç¬¦ä¸²æ‹¼æ¥ï¼›è‡³äºjdk1.8ä¹‹ä¸‹ï¼Œé‚£ä¹ˆGuavaå°±æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©äº†ï¼Œä½¿ç”¨å§¿åŠ¿ä¹Ÿå¾ˆå¾ˆç®€å•</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜5-é©¼å³°ä¸ä¸‹åˆ’çº¿åˆ’è½¬" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜5-é©¼å³°ä¸ä¸‹åˆ’çº¿åˆ’è½¬" aria-hidden="true">#</a> å®æˆ˜5ï¼šé©¼å³°ä¸ä¸‹åˆ’çº¿åˆ’è½¬</h1><p>è¿™ä¸ªè€ƒé¢˜éå¸¸å®ç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæˆ‘ä»¬è¿™äº›å·ç§°åªéœ€è¦CURDçš„åç«¯å¼€å‘æ¥è¯´ï¼Œé©¼å³°ä¸ä¸‹åˆ’çº¿äº’è½¬ï¼Œè¿™ä¸æ˜¯å±äºæ—¥å¸¸ä»»åŠ¡ä¹ˆï¼›ä¸€èˆ¬æ¥è®²dbä¸­çš„åˆ—åï¼Œè¦æ±‚æ˜¯ä¸‹åˆ’çº¿æ ¼å¼ï¼ˆwhy? é˜¿é‡Œçš„æ•°æ®åº“è§„èŒƒæ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼Œå°±æˆ‘æ„Ÿè§‰é©¼å³°ä¹Ÿæ²¡æ¯›ç—…ï¼‰ï¼Œè€Œjavaå®ä½“å‘½ååˆ™æ˜¯é©¼å³°æ ¼å¼ï¼Œæ‰€ä»¥å®ƒä»¬ä¹‹é—´çš„äº’è½¬ï¼Œå°±å¿…ç„¶å­˜åœ¨ä¸€ä¸ªé©¼å³°ä¸ä¸‹åˆ’çº¿çš„äº’è½¬</p><p>ä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹ï¼Œè¿™ä¸¤ä¸ªçš„äº’è½¬æ”¯æŒæ–¹å¼</p><!-- more --><h2 id="_1-å®ç°-1" tabindex="-1"><a class="header-anchor" href="#_1-å®ç°-1" aria-hidden="true">#</a> 1.å®ç°</h2><h3 id="_1-1-gauva" tabindex="-1"><a class="header-anchor" href="#_1-1-gauva" aria-hidden="true">#</a> 1.1. Gauva</h3><p>ä¸€èˆ¬æ¥è®²é‡åˆ°è¿™ç§æ™®é€‚æ€§çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æœ‰ç°æˆçš„å·¥å…·ç±»å¯ä»¥æ¥ç›´æ¥ä½¿ç”¨çš„ï¼›åœ¨javaç”Ÿæ€ä¸­ï¼Œè¯´åˆ°å¥½ç”¨çš„å·¥å…·ç™¾å®ç®±ï¼Œguavaå¯ä»¥è¯´æ˜¯æ’åˆ—é å‰çš„</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨Gauvaæ¥å®ç°æˆ‘ä»¬çš„ç›®çš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// é©¼å³°è½¬ä¸‹åˆ’çº¿</span>
<span class="token class-name">String</span> ans <span class="token operator">=</span> <span class="token class-name">CaseFormat</span><span class="token punctuation">.</span><span class="token constant">LOWER_CAMEL</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token class-name">CaseFormat</span><span class="token punctuation">.</span><span class="token constant">LOWER_UNDERSCORE</span><span class="token punctuation">,</span> <span class="token string">&quot;helloWorld&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸‹åˆ’çº¿è½¬é©¼å³°</span>
<span class="token class-name">String</span> ans2 <span class="token operator">=</span> <span class="token class-name">CaseFormat</span><span class="token punctuation">.</span><span class="token constant">LOWER_UNDERSCORE</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token class-name">CaseFormat</span><span class="token punctuation">.</span><span class="token constant">LOWER_CAMEL</span><span class="token punctuation">,</span> <span class="token string">&quot;hello_world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™é‡Œä¸»è¦ä½¿ç”¨çš„æ˜¯<code>CaseFormat</code>æ¥å®ç°äº’è½¬ï¼Œguavaçš„CaseFormatè¿˜æä¾›äº†å…¶ä»–å‡ ç§æ–¹å¼</p><p>ä¸Šé¢è¿™ä¸ªè™½ç„¶å¯ä»¥å®ç°äº’è½¬ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä¸º <code>helloWorld_Case</code></p><p>å°†å…¶ä»–è½¬æ¢è¾“å‡ºç»“æœå¦‚ä¸‹:</p><ul><li>ä¸‹åˆ’çº¿ï¼š<code>hello_world__case</code></li><li>é©¼å³°ï¼š<code>helloworldCase</code></li></ul><p>è¿™ç§è¾“å‡ºï¼Œå’Œæ ‡å‡†çš„é©¼å³°/ä¸‹åˆ’çº¿ä¸å¤ªä¸€æ ·äº†ï¼ˆå½“ç„¶åŸå› æ˜¯ç”±äºè¾“å…¥ä¹Ÿä¸æ ‡å‡†ï¼‰</p><h3 id="_1-2-hutool" tabindex="-1"><a class="header-anchor" href="#_1-2-hutool" aria-hidden="true">#</a> 1.2. Hutool</h3><p>é™¤äº†ä¸Šé¢çš„guavaï¼Œhutoolçš„ä½¿ç”¨ä¹Ÿéå¸¸å¹¿ï¼Œå…¶ä¸­åŒ…å«å¾ˆå¤šå·¥å…·ç±»ï¼Œå…¶<code>StrUtil</code>ä¹Ÿæä¾›äº†ä¸‹åˆ’çº¿ä¸é©¼å³°çš„äº’è½¬æ”¯æŒ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> ans <span class="token operator">=</span> <span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token string">&quot;hello_world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> ans2 <span class="token operator">=</span> <span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">toUnderlineCase</span><span class="token punctuation">(</span><span class="token string">&quot;helloWorld&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·çš„æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ç‰¹æ®Šçš„case</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token string">&quot;helloWorld_Case&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">toUnderlineCase</span><span class="token punctuation">(</span><span class="token string">&quot;helloWorld_Case&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹</p><ul><li>é©¼å³°ï¼š<code>helloworldCase</code></li><li>ä¸‹åˆ’çº¿: <code>hello_world_case</code></li></ul><p>ç›¸æ¯”è¾ƒä¸Šé¢çš„guavaçš„åœºæ™¯ï¼Œä¸‹åˆ’çº¿è¿™ä¸ªè²Œä¼¼è¿˜è¡Œ</p><h3 id="_1-3-è‡ªå®šä¹‰å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-3-è‡ªå®šä¹‰å®ç°" aria-hidden="true">#</a> 1.3. è‡ªå®šä¹‰å®ç°</h3><p>æ¥ä¸‹æ¥ä¸ºäº†æ»¡è¶³æˆ‘ä»¬å¸Œæœ›è½¬æ¢ä¸ºæ ‡ç –çš„é©¼å³°/ä¸‹åˆ’çº¿è¾“å‡ºæ–¹å¼çš„éœ€æ±‚ï¼Œæˆ‘ä»¬è‡ªå·±æ¥æ‰‹æ’¸ä¸€ä¸ª</p><p><strong>ä¸‹åˆ’çº¿è½¬é©¼å³°:</strong></p><ul><li>å…³é”®ç‚¹å°±æ˜¯æ‰¾åˆ°ä¸‹åˆ’çº¿ï¼Œç„¶åå»æ‰å®ƒï¼Œä¸‹ä¸€ä¸ªå­—ç¬¦è½¬å¤§å†™ç»­ä¸Šï¼ˆå¦‚æœä¸‹ä¸€ä¸ªè¿˜æ˜¯ä¸‹åˆ’çº¿ï¼Œé‚£ç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªï¼‰</li></ul><p>æ ¹æ®ä¸Šé¢è¿™ä¸ªæ€è·¯æ¥å®ç°ï¼Œå¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">char</span> <span class="token constant">UNDER_LINE</span> <span class="token operator">=</span> <span class="token char">&#39;_&#39;</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ä¸‹åˆ’çº¿è½¬é©¼å³°
 *
 * <span class="token keyword">@param</span> <span class="token parameter">name</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> name <span class="token operator">||</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> length <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> underLineNextChar <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> c <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token constant">UNDER_LINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            underLineNextChar <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>underLineNextChar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            underLineNextChar <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é©¼å³°è½¬ä¸‹åˆ’çº¿</strong></p><ul><li>å…³é”®ç‚¹ï¼šå¤§å†™çš„ï¼Œåˆ™å‰ä½è¡¥ä¸€ä¸ªä¸‹åˆ’çº¿ï¼Œå½“å‰å­—ç¬¦è½¬å°å†™ï¼ˆå¦‚æœå‰é¢å·²ç»æ˜¯ä¸€ä¸ªä¸‹åˆ’çº¿äº†ï¼Œé‚£å‰é¢ä¸è¡¥ï¼Œç›´æ¥è½¬å°å†™å³å¯ï¼‰</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">toUnderCase</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> len <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StringBuilder</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> pre <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> ch <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isUpperCase</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pre <span class="token operator">!=</span> <span class="token constant">UNDER_LINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token constant">UNDER_LINE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        pre <span class="token operator">=</span> ch<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†æ¬¡æµ‹è¯•<code>helloWorld_Case</code>ï¼Œè¾“å‡ºå¦‚ä¸‹</p><ul><li>é©¼å³°ï¼š<code>helloWorldCase</code></li><li>ä¸‹åˆ’çº¿: <code>hello_world_case</code></li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜6-æšä¸¾çš„ç‰¹æ®Šç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜6-æšä¸¾çš„ç‰¹æ®Šç”¨æ³•" aria-hidden="true">#</a> å®æˆ˜6ï¼šæšä¸¾çš„ç‰¹æ®Šç”¨æ³•</h1><p>éš¾é“æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„æšä¸¾è¿˜æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ç©æ³•ä¸æˆï¼Ÿæ²¡é”™ï¼Œè¿˜çœŸæœ‰ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»æšä¸¾çš„ä¸¤ç§ä¸é‚£ä¹ˆå¸¸è§çš„ä½¿ç”¨å§¿åŠ¿</p><ul><li>åˆ©ç”¨æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼</li><li>åˆ©ç”¨æšä¸¾æ¥å®ç°ç­–ç•¥æ¨¡å¼</li></ul><!-- more --><h2 id="_1-ä½¿ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_1-ä½¿ç”¨åœºæ™¯" aria-hidden="true">#</a> 1. ä½¿ç”¨åœºæ™¯</h2><h3 id="_1-1-å•ä¾‹æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1-1-å•ä¾‹æ¨¡å¼" aria-hidden="true">#</a> 1.1. å•ä¾‹æ¨¡å¼</h3><p>å•ä¾‹æ¨¡å¼å¯ä»¥è¯´æ˜¯æ¯ä¸ªjavaå¼€å‘è€…å¿…é¡»æŒæ¡çš„ä¸€ä¸ªè®¾è®¡æ¨¡å¼äº†ï¼Œé€šå¸¸æˆ‘ä»¬è¯´å®ƒçš„å®ç°ï¼Œæœ‰é¥±æ±‰å¼å’Œé¥¿æ±‰å¼ï¼Œä¹Ÿæœ‰ç»å¸¸è¯´çš„åŒé‡åˆ¤æ–­ï¼Œä»Šå¤©æˆ‘ä»¬ä»‹ç»å¦å¤–ä¸€ç§æ–¹å¼ï¼Œå€ŸåŠ©æšä¸¾æ¥å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SingleEnum</span> <span class="token punctuation">{</span>
    <span class="token constant">INSTANCE</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span> word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSingle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SingleEnum</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼éå¸¸éå¸¸ç®€å•ï¼Œå°†ç±»å£°æ˜ä¸ºæšä¸¾ï¼Œå†…éƒ¨åªå®šä¹‰ä¸€ä¸ªå€¼å³å¯</p><p>ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·åšï¼Ÿ</p><ul><li>æšä¸¾ç±»ä¸èƒ½<code>new</code>ï¼Œå› æ­¤ä¿è¯å•ä¾‹</li><li>æšä¸¾ç±»ä¸èƒ½è¢«ç»§æ‰¿</li><li>ç±»ä¸åŠ è½½æ—¶ï¼Œä¸ä¼šå®ä¾‹åŒ–</li></ul><p>ä½¿ç”¨æšä¸¾ç±»åˆ›å»ºçš„å•ä¾‹æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å³ä½¿ç”¨åå°„ï¼Œä¹Ÿæ— æ³•æ‰“ç ´å®ƒçš„å•ä¾‹æ€§è´¨ï¼Œè¿™æ˜¯ç›¸æ¯”è¾ƒäºå…¶ä»–çš„å®ç°æ–¹å¼çš„ä¸€ä¸ªä¼˜ç‚¹</p><p>é‚£ä¹ˆï¼Œä¸ºå•¥åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œä¸å¤ªå¸¸è§è¿™ç§å†™æ³•ï¼Ÿ</p><ul><li>å°±æˆ‘ä¸ªäººçš„ä¸€ç‚¹è®¤çŸ¥ï¼ˆä¸ä¿è¯å‡†ç¡®ï¼‰ï¼šè¿™ä¸ªä¸æˆ‘ä»¬å¯¹æšä¸¾çš„è®¤çŸ¥æœ‰ä¸€å®šå…³ç³»ï¼Œåœ¨ ã€ŠEffect in javaã€‹ä¸€ä¹¦ä¸­ï¼Œæ¨èæˆ‘ä»¬ä½¿ç”¨è¿™ç§æ–¹å¼æ¥å®ç°å•ä¾‹ï¼Œä½†æ˜¯åœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ›´å¤šçš„å°†æšä¸¾ä½œä¸ºå¸¸é‡æ¥ä½¿ç”¨ï¼Œå¾ˆå°‘åœ¨æšä¸¾ç±»ä¸­ï¼Œæ·»åŠ å¤æ‚çš„ä¸šåŠ¡é€»è¾‘</li></ul><h3 id="_1-2-ç­–ç•¥æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-ç­–ç•¥æ¨¡å¼" aria-hidden="true">#</a> 1.2. ç­–ç•¥æ¨¡å¼</h3><p>æšä¸¾é™¤äº†å¾ˆå®¹æ˜“å°±å®ç°ä¸Šé¢çš„å•ä¾‹æ¨¡å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥éå¸¸ç®€å•çš„å®ç°ç­–ç•¥æ¨¡å¼</p><p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ç°åœ¨æœ‰ä¸€ä¸ªæ¥å£ï¼Œé€šè¿‡æ¥å—çš„å‚æ•°ï¼Œæ¥å†³å®šæœ€ç»ˆçš„æ•°æ®å­˜åœ¨ä»€ä¹ˆåœ°æ–¹</p><p>å¦‚æœæŒ‰ç…§æ­£å¸¸çš„å†™æ³•ï¼Œå¯èƒ½å°±æ˜¯å¾ˆå¤šçš„if/else</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;db&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä¿å­˜åˆ°db</span>
        <span class="token function">saveInDb</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> 
        <span class="token comment">// ä¿å­˜åœ¨æ–‡ä»¶</span>
        <span class="token function">saveInFile</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;oss&quot;</span><span class="token punctuation">.</span><span class="token function">eqauls</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä¿å­˜åœ¨oss</span>
        <span class="token function">saveInOss</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ç§å†™æ³•è™½è¯´ç®€å•ç›´è§‚ï¼Œä½†æ˜¯å½“typeç±»å‹ä¸€å¤šäº†ä¹‹åï¼Œè¿™ä¸ªif/elseçš„ä»£ç è¡Œæ•°å°±ä¼šå¾ˆå¤šå¾ˆå¤šäº†ï¼Œè€Œä¸”çœ‹èµ·æ¥ä¹Ÿä¸ç¾è§‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ç§åˆ©ç”¨æšä¸¾ï¼ŒåŸºäºç­–ç•¥æ¨¡å¼çš„æ€æƒ³æ¥è§£å†³ä¸Šé¢çš„if/elseé—®é¢˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SaveStrategyEnum</span> <span class="token punctuation">{</span>
    <span class="token function">DB</span><span class="token punctuation">(</span><span class="token string">&quot;db&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save in db:&quot;</span> <span class="token operator">+</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">FILE</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save in file: &quot;</span> <span class="token operator">+</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">OSS</span><span class="token punctuation">(</span><span class="token string">&quot;oss&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save in oss: &quot;</span> <span class="token operator">+</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>

    <span class="token class-name">SaveStrategyEnum</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SaveStrategyEnum</span> <span class="token function">typeOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SaveStrategyEnum</span> strategyEnum<span class="token operator">:</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>strategyEnum<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> strategyEnum<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SaveStrategyEnum</span> strategyEnum <span class="token operator">=</span> <span class="token class-name">SaveStrategyEnum</span><span class="token punctuation">.</span><span class="token function">typeOf</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>strategyEnum <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        strategyEnum<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°ï¼Œä¸»è¦åˆ©ç”¨çš„æ˜¯<code>æŠ½è±¡ç±» + æšä¸¾</code>æ¥å®Œæˆä¸åŒçš„ç­–ç•¥å…·ä½“å®ç°</p><p>è¿™ç§å®ç°æ–¹å¼ï¼Œç›¸æ¯”è¾ƒä¸å‰é¢çš„å•ä¾‹æ¨¡å¼ï¼Œè¿˜æ˜¯æ›´å¸¸è§ä¸€ç‚¹ï¼Œè™½ç„¶æ•´ä½“çœ‹ä¸‹æ¥æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œä½†æ˜¯ä»”ç»†çœ‹ä¸€çœ‹ï¼Œä¼šå‘ç°å‡ ä¸ªçŸ¥è¯†ç‚¹</p><ul><li>æŠ½è±¡æ–¹æ³•çš„ä½¿ç”¨ ï¼ˆåœ¨æ¨¡æ¿è®¾è®¡æ¨¡å¼ä¸­ï¼Œæ›´èƒ½ä½“ä¼šæŠ½è±¡æ–¹æ³•çš„ä½¿ç”¨å¦™å¤„ï¼‰</li><li>åˆ©ç”¨æšä¸¾åŸç”Ÿæä¾›çš„<code>values()</code>ï¼Œæ¥å®ç°éå†ï¼Œæ‰¾åˆ°ç›®æ ‡</li></ul><h2 id="_2-å°ç»“-1" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-1" aria-hidden="true">#</a> 2. å°ç»“</h2><p>æšä¸¾è™½ç„¶è¯´æ˜¯jdkåŸç”Ÿæä¾›çš„ä¸€ä¸ªåŸºç¡€æ•°æ®ç±»å‹ï¼Œä½†æ˜¯å®ƒçš„ä½¿ç”¨å§¿åŠ¿é™¤äº†æˆ‘ä»¬ç†ŸçŸ¥çš„å¸¸é‡ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æœ‰æ•ˆçš„è¿ç”¨åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œè®©æˆ‘ä»¬çš„ä»£ç å®ç°æ›´ä¼˜é›…</p><p>æ¯”å¦‚ä½¿ç”¨æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ï¼Œå°±ä¸ç”¨å†é¢å¯¹è®©äººçƒ¦èºçš„åŒé‡åˆ¤æ–­/å†…éƒ¨ç±»çš„æ–¹å¼äº†</p><p>ä½¿ç”¨æšä¸¾çš„ç­–ç•¥æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥æœ‰æ•ˆè§£å†³æˆ‘ä»¬ç±»ä¸­å¤§é‡çš„if/else</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜7-æ’åºæ¯”è¾ƒè¦æ…é‡" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜7-æ’åºæ¯”è¾ƒè¦æ…é‡" aria-hidden="true">#</a> å®æˆ˜7ï¼šæ’åºæ¯”è¾ƒè¦æ…é‡</h1><p>ä»Šå¤©ä»‹ç»çš„åˆæ˜¯ä¸€ä¸ªéå¸¸éå¸¸åŸºæœ¬çš„åŸºæœ¬çŸ¥è¯†ç‚¹ï¼Œä¸ºå•¥è¦å•ç‹¬æ‹å‡ºæ¥ï¼Ÿè¿˜æ˜¯å› ä¸ºè¿™ä¸ªä¸œè¥¿è™½ç„¶éå¸¸ç®€å•ï¼Œä½†æ˜¯å¾ˆå®¹æ˜“æ‰å‘ï¼Œæˆ‘å·²ç»é‡åˆ°å‡ æ¬¡ä¸ä¸¥è°¨çš„å†™æ³•äº†</p><!-- more --><h2 id="_1-æ’åº" tabindex="-1"><a class="header-anchor" href="#_1-æ’åº" aria-hidden="true">#</a> 1.æ’åº</h2><h3 id="_1-1-comparator-ä¸-comparable" tabindex="-1"><a class="header-anchor" href="#_1-1-comparator-ä¸-comparable" aria-hidden="true">#</a> 1.1. Comparator ä¸ Comparable</h3><p>è¾“æ‰æ’åºï¼Œè¿™ä¸¤ä¸ªæ¥å£å¥½åƒä¸å¤ªå®¹æ˜“ç»•è¿‡å»ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç»ä¸‹å®ƒä»¬çš„åŒºåˆ«</p><ul><li>å¦‚æœä½ æœ‰ä¸€ä¸ªç±»ï¼Œå¸Œæœ›æ”¯æŒåŒç±»å‹çš„è‡ªå®šä¹‰æ¯”è¾ƒç­–ç•¥ï¼Œå¯ä»¥å®ç°æ¥å£<code>Compareable</code></li><li>å¦‚æœæŸä¸ªç±»ï¼Œæ²¡æœ‰å®ç°<code>Compareable</code>æ¥å£ï¼Œä½†æ˜¯åˆå¸Œæœ›å¯¹å®ƒè¿›è¡Œæ¯”è¾ƒï¼Œåˆ™å¯ä»¥è‡ªè‡ªå®šä¹‰ä¸€ä¸ª<code>Comparator</code>ï¼Œæ¥å®šä¹‰è¿™ä¸ªç±»çš„æ¯”è¾ƒè§„åˆ™</li></ul><p>é€šè¿‡ä¸€ä¸ªç®€å•çš„å®ä¾‹è¿›è¡Œæ¼”ç¤ºè¯´æ˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Demo</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">==</span> o<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">&lt;</span> o<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Demo{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;code=&quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span>
                <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°ä¸­ï¼Œé‡ç‚¹å…³æ³¨ Demoç±»ï¼Œå®ç°äº†<code>Comparable</code>æ¥å£ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è°ƒç”¨<code>list.sort(null)</code>æ¥è¿›è¡Œæ¯”è¾ƒï¼›</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç°åœ¨éœ€æ±‚æ”¹å˜äº†ï¼Œå¸Œæœ›å®ç°é’ˆå¯¹demoç±»çš„ageå­—æ®µï¼Œè¿›è¡Œå‡åºæ’åˆ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨<code>Comparator</code>æ¥å®ç°äº†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDemoSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// é»˜è®¤æ ¹æ® code è¿›è¡Œå‡åºæ¯”è¾ƒ</span>
    list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sort by code: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Demo</span> o1<span class="token punctuation">,</span> <span class="token class-name">Demo</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>o1<span class="token punctuation">.</span>age <span class="token operator">==</span> o2<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>o1<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> o2<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sort by age: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sort by code: [Demo{code=10, age=30}, Demo{code=11, age=20}, Demo{code=12, age=10}]
sort by age: [Demo{code=12, age=10}, Demo{code=11, age=20}, Demo{code=10, age=30}]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-è¸©å‘é¢„å‘Š" tabindex="-1"><a class="header-anchor" href="#_1-2-è¸©å‘é¢„å‘Š" aria-hidden="true">#</a> 1.2. è¸©å‘é¢„å‘Š</h3><p>å†ä¸Šé¢çš„compareæ–¹æ³•å®ç°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°é‡Œé¢çš„å®ç°æœ‰ç‚¹ä¸å¤ªç¾è§‚ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>å¦‚æœå·¦è¾¹çš„å°äºå³è¾¹çš„ï¼Œè¿”å› -1</li><li>å¦‚æœå·¦è¾¹çš„å¤§äºå³è¾¹çš„ï¼Œè¿”å› 0</li><li>å¦‚æœå·¦è¾¹çš„ç­‰äºå³è¾¹çš„ï¼Œè¿”å› 1</li></ul><p>åŸºäºæ­¤ï¼Œç»å¸¸å¯ä»¥çœ‹åˆ°çš„å®ç°å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Demo</span> o1<span class="token punctuation">,</span> <span class="token class-name">Demo</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> o1<span class="token punctuation">.</span>age <span class="token operator">-</span> o2<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªå®ç°è™½ç„¶ç®€æ´äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼Œå¯èƒ½æº¢å‡º!!!</p><p>æ‰€ä»¥è¯·æ³¨æ„ï¼Œåƒä¸‡åƒä¸‡ä¸è¦ç”¨ä¸Šé¢è¿™ç§å†™æ³•</p><p>é‚£ä¹ˆæœ‰æ²¡æœ‰æ›´ä¼˜é›…çš„æ–¹å¼å‘¢ï¼Ÿ</p><ul><li>æœ‰ï¼Œä½¿ç”¨åŸºç¡€ç±»çš„<code>compare</code>æ–¹æ³•</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Demo</span> o1<span class="token punctuation">,</span> <span class="token class-name">Demo</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>age<span class="token punctuation">,</span> o2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸€æ®µä»£ç ï¼Œå†jdk1.8ä¸­ï¼Œå¯ä»¥ç®€åŒ–ä¸ºä¸‹é¢ä¸€å¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å†æ‰©å±•ä¸€ä¸‹ï¼Œå¦‚æœå¸Œæœ›å€’æ’å‘¢ï¼Ÿ</p><ul><li>ç¬¬ä¸€ç§å®ç°æ–¹å¼ï¼Œè°ƒæ¢ä½ç½®</li><li>Jdk1.8æ–¹å¼ï¼Œä½¿ç”¨è´Ÿæ•°</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Demo</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Demo</span> o1<span class="token punctuation">,</span> <span class="token class-name">Demo</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span>age<span class="token punctuation">,</span> o1<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> <span class="token operator">-</span>o<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-2" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-2" aria-hidden="true">#</a> 2. å°ç»“</h2><p>ä»Šå¤©ä¸»è¦ä»‹ç»çš„çŸ¥è¯†ç‚¹æ˜¯æ’åºï¼Œå†æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œå¦‚æœä¸€ä¸ªç±»å¸Œæœ›æ”¯æŒæ’åºï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯è®©å®ƒå®ç°<code>Comparable</code>æ¥å£ï¼Œç„¶åè‡ªå®šä¹‰æ’åºæ–¹å¼</p><p>è¿™æ ·å†å®¹å™¨ä¸­ï¼Œå¦‚æœéœ€è¦æ’åºï¼Œç›´æ¥è°ƒç”¨ <code>list.sort(null)</code> æˆ–è€… <code>CollectionUtils.sort(list)</code></p><p>å¦‚æœç›®æ ‡ç±»æ²¡æœ‰å®ç°æ’åºæ¥å£ï¼Œæˆ–è€…å¸Œæœ›ä½¿ç”¨å¦å¤–ä¸€ç§æ’åºæ–¹å¼ï¼Œåˆ™é€šè¿‡è‡ªå®šä¹‰çš„<code>Comparator</code>æ¥å®ç°</p><p>æœ€åå…³äº<code>compare</code>æ–¹æ³•çš„å®ç°ï¼Œè®¾è®¡åˆ°ä¸¤ä¸ªç±»çš„æ¯”è¾ƒï¼Œè¿™ç§æœ€ç»ˆçš„è½è„šåœ°ï¼Œå¤šåŠæ˜¯åŸºç¡€ç±»å‹çš„æ¯”è¾ƒ</p><ul><li>o1 ä¸ o2 æ¯”è¾ƒï¼Œè¿”å›è´Ÿæ•°ï¼Œåˆ™æœ€ç»ˆçš„ç»“æœä¸­o1å†å‰é¢ï¼ˆå³å‡åºæ’åˆ—ï¼‰</li><li>ä¸è¦ç›´æ¥ä½¿ç”¨ <code>o1-o2</code>ä¼šæº¢å‡ºï¼Œæ¨èä½¿ç”¨ <code>Integer.compare(o1, o2);</code></li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜8-å®¹å™¨çš„åˆå§‹åŒ–å¤§å°æŒ‡å®š" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜8-å®¹å™¨çš„åˆå§‹åŒ–å¤§å°æŒ‡å®š" aria-hidden="true">#</a> å®æˆ˜8ï¼šå®¹å™¨çš„åˆå§‹åŒ–å¤§å°æŒ‡å®š</h1><p>å®¹å™¨å¯ä»¥è¯´æ˜¯æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ï¼Œé™¤äº†åŸºæœ¬å¯¹è±¡ä¹‹å¤–ï¼Œä½¿ç”¨æœ€å¤šçš„ç±»äº†ï¼Œé‚£ä¹ˆå¹³æ—¶åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæ˜¯å¦æœ‰ä¸»æ„åˆ°è‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯çš„å¤§ä½¬ï¼Œåœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šè®¾ç½®sizeï¼›é‚£ä¹ˆä»–ä»¬ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå¹²å‘¢ï¼Ÿæ˜¯å‡ºäºä»€ä¹ˆè¿›è¡Œè€ƒé‡çš„å‘¢ï¼Ÿ</p><p>ä»Šå¤©æˆ‘ä»¬å°†é’ˆå¯¹æœ€å¸¸è§çš„List/Map/Setä¸‰ç§å®¹å™¨ç±»å‹çš„åˆå§‹åŒ–å€¼é€‰æ‹©ï¼Œè¿›è¡Œè¯´æ˜</p><!-- more --><h2 id="_1-å®¹å™¨åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-å®¹å™¨åˆå§‹åŒ–" aria-hidden="true">#</a> 1. å®¹å™¨åˆå§‹åŒ–</h2><h3 id="_1-1-list" tabindex="-1"><a class="header-anchor" href="#_1-1-list" aria-hidden="true">#</a> 1.1. List</h3><p>åˆ—è¡¨ï¼Œåœ¨æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¼šæ¥è§¦åˆ°ä¸‹é¢å‡ ä¸ª</p><ul><li>ArrayList: æœ€å¸¸è§çš„æ•°ç»„åˆ—è¡¨</li><li>LinkedList: åŸºäºé“¾è¡¨çš„åˆ—è¡¨</li><li>CopyOnWriteArrayList: çº¿ç¨‹å®‰å…¨çš„æ•°ç»„åˆ—è¡¨</li></ul><p>æ¥ä¸‹æ¥é€ä¸€è¿›è¡Œè¯´æ˜</p><h4 id="_1-1-1-arraylist" tabindex="-1"><a class="header-anchor" href="#_1-1-1-arraylist" aria-hidden="true">#</a> 1.1.1 ArrayList</h4><p>ç°åœ¨ä»¥ArrayListä¸ºä¾‹ï¼Œè¿›è¡Œæºç åˆ†æï¼Œå½“æˆ‘ä»¬ä¸æŒ‡å®šåˆ—è¡¨å¤§å°ï¼Œç›´æ¥åˆ›å»ºæ—¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>elementData <span class="token operator">=</span> <span class="token constant">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢æ˜¯å†…éƒ¨å®ç°ï¼Œå…¶ä¸­<code>elementData</code>å°±æ˜¯åˆ—è¡¨ä¸­å­˜æ•°æ®çš„æ•°ç»„ï¼Œåˆå§‹åŒ–ä¸ºé»˜è®¤æ•°ç»„</p><p>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå‘ç°æ•°ç»„ä¸ºé»˜è®¤å€¼ï¼Œä¼šè§¦å‘ä¸€æ¬¡æ•°ç»„æ‰©å®¹ï¼Œæ–°çš„æ•°ç»„å¤§å°ä¸º10 ï¼ˆè¯¦æƒ…çœ‹æºç ï¼‰</p><p>å…¶æ¬¡å°±æ˜¯æ•°ç»„çš„åº“å®¹æœºåˆ¶ï¼Œé€šè¿‡æºç /ç½‘ä¸Šåˆ†äº«çŸ¥è¯†ç‚¹å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªæ‰©å®¹çš„å®ç°å¦‚ä¸‹</p><ul><li>å½“æ–°æ·»åŠ çš„å…ƒç´ ï¼Œæ•°ç»„æ”¾ä¸ä¸‹æ—¶ï¼Œå®ç°æ‰©å®¹</li><li><code>æ‰©å®¹åçš„å¤§å°</code> = <code>æ‰©å®¹å‰å¤§å°</code> + max(<code>æ·»åŠ å…ƒç´ ä¸ªæ•°</code>, 1/2 * <code>æ‰©å®¹å‰å¤§å°</code>)</li></ul><p>åŸºäºä¸Šé¢çš„çŸ¥è¯†ç‚¹ï¼Œå¤§è‡´å¯ä»¥å¾—å‡ºæŒ‡å®šåˆ—è¡¨é•¿åº¦çš„å¥½å¤„</p><ul><li>èŠ‚çœç©ºé—´ï¼ˆç”¨å¤šå°‘ç”³è¯·å¤šå°‘ï¼Œé¿å…æµªè´¹ï¼‰</li><li>å‡å°‘æ‰©å®¹å¸¦æ¥çš„æ‹·è´ï¼ˆæ‰©å®¹ä¸€æ¬¡å°±ä¼šå¸¦æ¥ä¸€æ¬¡æ•°ç»„æ‹·è´ï¼Œå¦‚æœå·²çŸ¥åˆ—è¡¨å¾ˆå¤§ï¼Œç»“æœè¿˜ä½¿ç”¨é»˜è®¤çš„10ï¼Œè¿™ä¼šäº§ç”Ÿå¾ˆå¤šå¯é¿å…çš„æ‰©å®¹å¼€é”€ï¼‰</li></ul><h4 id="_1-1-2-linkedlist" tabindex="-1"><a class="header-anchor" href="#_1-1-2-linkedlist" aria-hidden="true">#</a> 1.1.2 LinkedList</h4><p>åŸºäºé“¾è¡¨çš„åˆ—è¡¨ï¼Œä¸åŒäºä¸Šé¢çš„æ•°ç»„åˆ—è¡¨ï¼Œå®ƒæ²¡æœ‰æä¾›æŒ‡å®šå¤§å°çš„æ„é€ æ–¹æ³•ï¼Œwhy?</p><p>å› ä¸ºé“¾è¡¨æœ¬èº«çš„æ•°æ®ç»“æ„çš„ç‰¹ç‚¹ï¼Œå®ƒå°±åƒç³–è‘«èŠ¦ä¸€æ ·ï¼Œä¸€ä¸ªä¸²ä¸€ä¸ªï¼Œæœ‰æ•°æ®ï¼Œæ‰æœ‰æ¥ä¸Šçš„å¯èƒ½ï¼Œå› æ­¤ä¸éœ€è¦æŒ‡å®šå¤§å°</p><h4 id="_1-1-3-copyonwritearraylist" tabindex="-1"><a class="header-anchor" href="#_1-1-3-copyonwritearraylist" aria-hidden="true">#</a> 1.1.3 CopyOnWriteArrayList</h4><p>è¿™ä¸ªåˆéå¸¸æœ‰æ„æ€ï¼Œå®ƒåŒæ ·ä¸èƒ½æŒ‡å®šå¤§å°ï¼Œä½†æ˜¯åŸå› ä¸å‰é¢ä¸åŒï¼Œä¸»è¦åœ¨äºå®ƒä¿è¯çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹å¼</p><ul><li>æ¯æ¬¡æ–°å¢/ä¿®æ”¹(åŠ é”ï¼Œä¿è¯å•çº¿ç¨‹è®¿é—®)ï¼Œéƒ½æ˜¯åœ¨æ‹·è´çš„æ•°ç»„æ“ä½œï¼›å®Œæˆä¹‹åï¼Œç”¨æ–°çš„æ›¿æ¢æ—§çš„</li></ul><p>æ‰€ä»¥è¯´ï¼Œæ¯æ¬¡å˜æ›´ï¼Œéƒ½ä¼šå­˜åœ¨æ•°ç»„æ‹·è´ï¼Œå› æ­¤å°±æ²¡æœ‰å¿…è¦æå‰æŒ‡å®šæ•°ç»„å¤§å°</p><p>é‚£ä¹ˆå®ƒçš„åˆå§‹åŒ–æ¯æ¬¡éƒ½ä½¿ç”¨é»˜è®¤çš„ä¹ˆ?</p><p>å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå½“æˆ‘ä»¬å·²çŸ¥è¿™ä¸ªåˆ—è¡¨ä¸­çš„å€¼æ—¶ï¼Œæ¨èä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> values<span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;220&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyOnWriteArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å°†åˆå§‹åŒ–å€¼ï¼Œæ”¾åœ¨ä¸€ä¸ªæ™®é€šçš„åˆ—è¡¨ä¸­ï¼Œç„¶ååˆ©ç”¨æ™®é€šåˆ—è¡¨æ¥åˆå§‹åŒ–<code>CopyOnWriteArrayList</code></li></ul><h3 id="_1-2-map" tabindex="-1"><a class="header-anchor" href="#_1-2-map" aria-hidden="true">#</a> 1.2.Map</h3><p>å¸¸è§çš„mapå®¹å™¨ä½¿ç”¨ï¼Œå¤§å¤šæ˜¯ä¸‹é¢å‡ ä¸ª</p><ul><li><code>HashMap</code></li><li><code>LinkedHashMap</code>: æœ‰åºçš„hashmap</li><li><code>TreeMap</code>: æœ‰åºçš„hashmap</li><li><code>ConcurrentHashMap</code>: çº¿ç¨‹å®‰å…¨çš„map</li></ul><h4 id="_1-2-1-hashmap" tabindex="-1"><a class="header-anchor" href="#_1-2-1-hashmap" aria-hidden="true">#</a> 1.2.1 HashMap</h4><p>HashMapçš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ <code>æ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘</code>ï¼Œå…³äºè¿™ä¸ªå°±ä¸ç»†è¯´äº†</p><p>æˆ‘ä»¬åœ¨åˆå§‹åŒ–æ—¶ï¼Œè‹¥ä¸æŒ‡å®šsizeï¼Œåˆ™æ•°ç»„çš„é»˜è®¤é•¿åº¦ä¸º8ï¼ˆè¯·æ³¨æ„ï¼ŒMapçš„æ•°ç»„é•¿åº¦æ˜¯2çš„å€æ•°ï¼‰</p><p>ä¸ArrayListçš„æ‰©å®¹æ—¶æœºä¸ä¸€æ ·çš„æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒMapå®¹é‡æ²¡æ»¡å°±ä¼šè§¦å‘ä¸€æ¬¡æ‰©å®¹</p><p>é»˜è®¤æ˜¯æ•°é‡è¾¾åˆ° <code>size * 0.75</code>(0.75ä¸ºæ‰©å®¹å› å­ï¼Œå¯ä»¥åœ¨åˆ›å»ºæ—¶ä¿®æ”¹)ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡æ‰©å®¹</p><p>why?</p><ul><li>ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘hashå†²çª</li></ul><p>åŒæ ·çš„ä¸ºäº†å‡å°‘å†²çªï¼Œåœ¨åˆå§‹åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸€ä¸ªåˆé€‚å¤§å°</p><p>æ¯”å¦‚æˆ‘ä»¬</p><ul><li>å·²çŸ¥mapçš„æ•°é‡ä¸º2ï¼Œè¿™ä¸ªæ—¶å€™Mapçš„å¤§å°é€‰æ‹©å› è¯¥æ˜¯4</li><li>mapæ•°é‡ä¸º6ï¼Œè¿™ä¸ªæ—¶å€™Mapçš„å¤§å°é€‰æ‹©æ˜¯16</li></ul><p>æœ‰æ—¶å€™è®©æˆ‘ä»¬è‡ªå·±æ¥è®¡ç®—è¿™ä¸ªå€¼ï¼Œå°±æœ‰äº›éº»çƒ¦äº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Guavaçš„å·¥å…·ç±»æ¥å®Œæˆè¿™ä¸ªç›®çš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token class-name">Maps</span><span class="token punctuation">.</span><span class="token function">newHashMapWithExpectedSize</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_1-2-2-linkedhashmap" tabindex="-1"><a class="header-anchor" href="#_1-2-2-linkedhashmap" aria-hidden="true">#</a> 1.2.2 LinkedHashMap</h4><p>åˆå§‹åŒ–æ–¹å¼åŒä¸Šï¼Œç•¥</p><h4 id="_1-2-3-concurrenthashmap" tabindex="-1"><a class="header-anchor" href="#_1-2-3-concurrenthashmap" aria-hidden="true">#</a> 1.2.3 ConcurrentHashMap</h4><p>åˆå§‹åŒ–æ–¹å¼åŒä¸Šï¼Œç•¥</p><h4 id="_1-2-4-treemap" tabindex="-1"><a class="header-anchor" href="#_1-2-4-treemap" aria-hidden="true">#</a> 1.2.4 TreeMap</h4><p>ä¸åŒäºä¸Šé¢å‡ ä¸ªçš„æ˜¯treeMapï¼Œæ²¡æœ‰æä¾›æŒ‡å®šå®¹å™¨å¤§å°çš„æ„é€ æ–¹æ³•</p><p>åŸå› å’Œå‰é¢è¯´åˆ°çš„LinkedListæœ‰äº›ç±»ä¼¼ï¼ŒTreeMapçš„åº•å±‚æ•°æ®ç»“æ„ä¸ºTreeï¼Œæ‰€ä»¥æ–°å¢æ•°æ®æ˜¯æŒ‚åœ¨æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸‹é¢ï¼Œæ— éœ€æŒ‡å®šå®¹é‡å¤§å°</p><h3 id="_1-3-set" tabindex="-1"><a class="header-anchor" href="#_1-3-set" aria-hidden="true">#</a> 1.3. Set</h3><p>é›†åˆç”¨çš„æœ€å¤šåº”è¯¥å°±æ˜¯<code>HashSet</code>äº†ï¼Œåº•å±‚ç»“æ„æ¨¡å‹å¤ç”¨ï¼Œæ‰€ä»¥åˆå§‹åŒ–å¤§å°æŒ‡å®šä¸HashMapä¸€è‡´ï¼Œä¹Ÿä¸éœ€è¦å¤šè¯´</p><h2 id="_2-å°ç»“-3" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-3" aria-hidden="true">#</a> 2. å°ç»“</h2><p>ä»Šå¤©è¿™ç¯‡åšæ–‡ä¸»è¦ä»‹ç»çš„æ˜¯ä¸‰ç§å¸¸è§çš„å®¹å™¨ï¼Œåœ¨åˆ›å»ºæ—¶ï¼Œå¦‚ä½•æŒ‡å®šå®¹é‡å¤§å°</p><p>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼ŒæŒ‡å®šå®¹é‡å¤§å°æ˜¯ä¸ºäº†</p><ul><li>å‡å°‘æ‰©å®¹å¸¦æ¥çš„é¢å¤–å¼€é”€</li><li>æŒ‡å®šå®¹é‡ä»£é”€ï¼Œå¯ä»¥å‡å°‘æ— æ•ˆçš„å†…å­˜å¼€é”€</li></ul><p>åˆå§‹åŒ–å€¼è®¾ç½®çš„å…³é”®ç‚¹:</p><ul><li>ArrayList: æ•°æ®æœ‰å¤šå°‘ä¸ªï¼Œåˆå§‹åŒ–å€¼å°±æ˜¯å¤šå°‘</li><li>HashMap: è€ƒè™‘åˆ°æ‰©å®¹å› å­ï¼Œåˆå§‹åŒ–å¤§å° = <code>(size / 0.75 + 1)</code></li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜9-list-sublistä½¿ç”¨ä¸å½“stackoverflowerror" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜9-list-sublistä½¿ç”¨ä¸å½“stackoverflowerror" aria-hidden="true">#</a> å®æˆ˜9ï¼šList.subListä½¿ç”¨ä¸å½“StackOverflowError</h1><p>ç›¸ä¿¡æ¯ä¸ªå°ä¼™ä¼´éƒ½ä½¿ç”¨è¿‡<code>List.subList</code>æ¥è·å–å­åˆ—è¡¨ï¼Œæ—¥å¸¸ä½¿ç”¨å¯èƒ½æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œå®ƒçš„ä½¿ç”¨ï¼Œå¾ˆå¯èƒ½ä¸€ä¸å°å¿ƒå°±å¯èƒ½å¯¼è‡´oom</p><!-- more --><h2 id="_1-å®ä¾‹è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_1-å®ä¾‹è¯´æ˜" aria-hidden="true">#</a> 1.å®ä¾‹è¯´æ˜</h2><h3 id="_1-1-sublist" tabindex="-1"><a class="header-anchor" href="#_1-1-sublist" aria-hidden="true">#</a> 1.1. subList</h3><p>åœºæ™¯å¤ç°ï¼Œå¦‚åŸºäºlistå®ç°ä¸€ä¸ªå°é¡¶å †</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">minStack</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">,</span> <span class="token keyword">int</span> stackSzie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> stackSzie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> stackSzie<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFix</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        list <span class="token operator">=</span> <span class="token function">minStack</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªæ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå±…ç„¶å‡ºç°æ ˆæº¢å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// ....
[2147462802, 2147462803, 2147462804, 2147462805, 2147462806]
[2147462801, 2147462802, 2147462803, 2147462804, 2147462805]

java.lang.StackOverflowError
    at java.util.ArrayList$SubList.add(ArrayList.java:1057)
    at java.util.ArrayList$SubList.add(ArrayList.java:1057)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»å®ç°æ¥çœ‹ï¼Œæ„Ÿè§‰ä¹Ÿæ²¡å•¥é—®é¢˜å•Šï¼Œ æˆ‘ä»¬ç¨å¾®æ”¹ä¸€ä¸‹ä¸Šé¢çš„è¿”å›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">minStack</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">,</span> <span class="token keyword">int</span> stackSzie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> stackSzie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> stackSzie<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†æ¬¡æ‰§è¡Œï¼Œå´æ²¡æœ‰å¼‚å¸¸ï¼›æ‰€ä»¥å…³é”®ç‚¹å°±åœ¨ä¸</p><ul><li>list.subListçš„ä½¿ç”¨ä¸Š</li></ul><h3 id="_1-2-stackoverflowerroråˆ†æ" tabindex="-1"><a class="header-anchor" href="#_1-2-stackoverflowerroråˆ†æ" aria-hidden="true">#</a> 1.2. StackOverflowErroråˆ†æ</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸»è¦çœ‹ä¸€ä¸‹<code>list.subList</code>çš„å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">subList</span><span class="token punctuation">(</span><span class="token keyword">int</span> fromIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> toIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">subListRangeCheck</span><span class="token punctuation">(</span>fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SubList</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">SubList</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">RandomAccess</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> parent<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> parentOffset<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> offset<span class="token punctuation">;</span>
    <span class="token keyword">int</span> size<span class="token punctuation">;</span>

    <span class="token class-name">SubList</span><span class="token punctuation">(</span><span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> parent<span class="token punctuation">,</span>
            <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> toIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parentOffset <span class="token operator">=</span> fromIndex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>offset <span class="token operator">=</span> offset <span class="token operator">+</span> fromIndex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> toIndex <span class="token operator">-</span> fromIndex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modCount <span class="token operator">=</span> <span class="token class-name">ArrayList</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>modCount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿”å›çš„å­åˆ—è¡¨æ˜¯ArrayListçš„ä¸€ä¸ªå†…éƒ¨ç±»<code>SubList</code>ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ªæŒ‡å‘çˆ¶åˆ—è¡¨çš„æˆå‘˜<code>parrent</code></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»æºå¤´çš„ArryListå¼€å§‹ï¼Œåé¢æ¯æ¬¡è°ƒç”¨<code>subList</code>ï¼Œè¿™ä¸ªæŒ‡ä»£å…³ç³»å°±æ·±ä¸€å±‚</p><p>ç„¶åå®ƒçš„addæ–¹æ³•ä¹Ÿå¾ˆæœ‰æ„æ€</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">rangeCheckForAdd</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">checkForComodification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    parent<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>parentOffset <span class="token operator">+</span> index<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modCount <span class="token operator">=</span> parent<span class="token punctuation">.</span>modCount<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹çœ‹ <code>parent.add(parentOffset + index, e);</code>ï¼Œæ·»åŠ çš„æ•°æ®å®é™…ä¸Šæ˜¯åŠ åœ¨æœ€æºå¤´çš„ArrayListä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶ä½ ç°åœ¨æ‹¿åˆ°çš„SubListï¼Œåªæœ‰å‡ ä¸ªå…ƒç´ ï¼Œä½†æ˜¯å®ƒå¯¹åº”çš„æ•°ç»„ï¼Œå¯èƒ½è¶…ä¹ä½ çš„æƒ³è±¡</p><p>å½“ç„¶ä¸Šé¢è¿™ä¸ªå¼‚å¸¸ä¸»è¦æ˜¯ä»¥ä¸ºè°ƒç”¨æ ˆæº¢å‡ºï¼ˆä¸€ç›´å¾€ä¸Šæ‰¾parentï¼‰</p><p>è¿™é‡Œååº”çš„å¦å¤–ä¸€ä¸ªé‡è¦é—®é¢˜åˆ™æ˜¯å†…å­˜æ³„æ¼ï¼Œå°±ä¸ç»§ç»­è¯´äº†</p><p>å¦‚æœéœ€è¦è§£å†³ä¸Šé¢è¿™ä¸ªé—®é¢˜ï¼Œæ”¹é€ æ–¹æ³•å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">subList</span><span class="token punctuation">(</span><span class="token keyword">int</span> fromIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> toIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">subListRangeCheck</span><span class="token punctuation">(</span>fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SubList</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-4" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-4" aria-hidden="true">#</a> 2. å°ç»“</h2><p>jdkæä¾›çš„åŸç”Ÿæ–¹æ³•è™½ç„¶éå¸¸å¥½ç”¨ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦å¤šå®¶æ³¨æ„ï¼Œä¸€ä¸å°å¿ƒå°±å¯èƒ½æ‰è¿›å‘é‡Œï¼›è¿™ä¹Ÿå‘Šè¯‰æˆ‘ä»¬å¤šçœ‹æºç æ˜¯æœ‰å¿…è¦çš„</p><p>æœ€åä¸€å¥å…³é”®çŸ¥è¯†ç‚¹å°ç»“ï¼š</p><ul><li><code>ArrayList.subList</code> è¿”å›çš„æ˜¯å†…éƒ¨ç±»ï¼Œä¸åŸArrayListå…¬ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œåªæ˜¯é™å®šäº†è¿™ä¸ªæ•°ç»„çš„èµ·å§‹ä¸‹æ ‡å’Œç»“æŸä¸‹æ ‡è€Œå·²</li><li>åœ¨ä½¿ç”¨<code>subList</code>ï¼Œè¯·æ³¨æ„æ˜¯å¦ä¼šå­˜åœ¨å†…å­˜æ³„éœ²å’Œæ ˆæº¢å‡ºçš„é—®é¢˜</li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜10-ä¸å¯å˜å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜10-ä¸å¯å˜å®¹å™¨" aria-hidden="true">#</a> å®æˆ˜10ï¼šä¸å¯å˜å®¹å™¨</h1><p>ä¸å¯å˜å®¹å™¨ï¼Œçœ‹ç€å¥½åƒåœ¨å®é™…çš„ä¸šåŠ¡ä¸­ä¸æ€ä¹ˆä¼šç”¨åˆ°ï¼Œä½†å®åˆ™ä¸ç„¶ï¼Œç›¸ä¿¡æ¯ä¸ªå°ä¼™ä¼´éƒ½ç”¨è¿‡ï¼Œæˆ–è€…çœ‹åˆ°è¿‡ä¸‹é¢çš„ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»Šå¤©æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ä¸å¯å˜å®¹å™¨ï¼Œä»¥åŠä½¿ç”¨æ—¶çš„æ³¨æ„äº‹é¡¹</p><!-- more --><h2 id="_1-ä¸å¯å˜å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#_1-ä¸å¯å˜å®¹å™¨" aria-hidden="true">#</a> 1. ä¸å¯å˜å®¹å™¨</h2><h3 id="_1-1-jdkä¸å¯å˜å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#_1-1-jdkä¸å¯å˜å®¹å™¨" aria-hidden="true">#</a> 1.1. JDKä¸å¯å˜å®¹å™¨</h3><p>javaåŸç”Ÿæä¾›äº†ä¸€äº›ä¸å¯å˜å®¹å™¨ï¼Œå®ƒä»¬æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä¸æ”¯æŒæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹å®¹å™¨å†…çš„å€¼</p><p><code>Collections.emptyXxx</code>ç©ºå®¹å™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸‰ä¸ªæ˜¯æœ€å¸¸ç”¨çš„å‡ ä¸ªäº†ï¼Œé€šå¸¸å½“æˆ‘ä»¬ä¸€ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœå®šä¹‰ä¸ºå®¹å™¨ç±»å‹æ—¶ï¼Œå¯èƒ½ä¸ºäº†é¿å…npeï¼Œåœ¨è¿”å›ç©ºå®¹å™¨æ—¶ï¼Œä¼šå¦‚æ­¤ä½¿ç”¨</p><p>é™¤äº†ä¸Šé¢è¿™å‡ ä¸ªç©ºçš„ä¸å¯å˜å®¹å™¨ä¹‹å¤–ï¼Œè¿˜æœ‰</p><ul><li><code>UnmodifiableList</code></li><li><code>UnmodifiableMap</code></li><li><code>UnmodifiableSet</code></li></ul><p>å®ƒä»¬çš„ä½¿ç”¨å§¿åŠ¿ï¼Œé€šå¸¸æ˜¯å€ŸåŠ©<code>Collections</code>æ¥å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚ä¸Šé¢åˆ›å»ºçš„Listï¼Œå°±ä¸æ”¯æŒset/removeç­‰ä¿®æ”¹æ“ä½œ</p><p>ä½¿ç”¨ä¸å¯å˜å®¹å®¹å™¨ï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯åŸºäºå®ƒçš„ä¸å¯ä¿®æ”¹ç‰¹æ€§ï¼Œæ¥å®ç°å…¬ç”¨ï¼Œä¸”ä¸ä¼šè¢«æ±¡æŸ“</p><ul><li>æ‰€ä»¥ä¸€ä¸ªè‡ªç„¶è€Œç„¶èƒ½æƒ³åˆ°çš„åº”ç”¨åœºæ™¯å°±æ˜¯ <code>å…¨å±€å…±äº«çš„é…ç½®</code></li></ul><h3 id="_1-2-guavaä¸å¯å˜å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#_1-2-guavaä¸å¯å˜å®¹å™¨" aria-hidden="true">#</a> 1.2. Guavaä¸å¯å˜å®¹å™¨</h3><p>ä¸Šé¢æ˜¯jdkæä¾›çš„ä¸å¯å˜å®¹å™¨ï¼Œç›¸æ¯”è¾ƒä¸å®ƒä»¬ï¼Œåœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨Gauvaçš„ä¸å¯å˜å®¹å™¨çš„å¯èƒ½æ›´å¤š</p><ul><li><code>ImmutableXxx</code>ï¼›ä¸å¯å˜å®¹å™¨</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">ImmutableList</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token class-name">ImmutableSet</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token class-name">ImmutableMap</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢æ˜¯æœ€å¸¸è§çš„ä¸‰ä¸ªå®¹å™¨å¯¹åº”çš„ä¸å¯å˜å‹</p><p>ä»ä½¿ç”¨è§’åº¦æ¥çœ‹ï¼Œåˆå§‹åŒ–éå¸¸æ–¹ä¾¿ï¼ˆç›¸æ¯”è¾ƒä¸jdkç‰ˆè€Œè¨€ï¼‰</p><h2 id="_2-æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#_2-æ³¨æ„äº‹é¡¹" aria-hidden="true">#</a> 2. æ³¨æ„äº‹é¡¹</h2><p>ä¸å¯å˜å®¹å™¨è™½å¥½ï¼Œä½†æ˜¯ä½¿ç”¨ä¸å½“ä¹Ÿæ˜¯å¾ˆå‘çš„ï¼›å°±æˆ‘ä¸ªäººçš„ä¸€ä¸ªè§‚ç‚¹</p><ul><li>å¦‚æœæ˜¯åº”ç”¨å†…çš„æ¥å£æ–¹æ³•ï¼Œå®¹å™¨ä¼ å‚ï¼Œè¿”å›å®¹å™¨æ—¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ä¸å¯å˜å®¹å™¨ï¼›å› ä¸ºä½ æ²¡åŠæ³•ä¿è¯åˆ«äººæ‹¿åˆ°ä½ çš„è¿”å›å®¹å™¨ä¹‹åï¼Œä¼šå¯¹å®ƒè¿›è¡Œä»€ä¹ˆæ“ä½œ</li><li>å¦‚æœæ˜¯å¯¹å¤–æä¾›è¿”å›ç»“æœï¼Œç‰¹åˆ«æ˜¯nullçš„åœºæ™¯ï¼Œä½¿ç”¨ä¸å¯å˜çš„ç©ºå®¹å™¨ä¼˜äºè¿”å›null</li><li>ä¸å¯å˜å®¹å™¨ï¼Œç”¨äºå…¨å±€å…¬ç”¨èµ„æºï¼Œå…±äº«é…ç½®å‚æ•°ï¼›å¤šçº¿ç¨‹çš„æ•°æ®ä¼ é€’æ—¶ï¼Œå±äºæ¯”è¾ƒåˆé€‚çš„åœºæ™¯</li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜11-mapè½¬æ¢mapçš„å‡ ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜11-mapè½¬æ¢mapçš„å‡ ç§æ–¹å¼" aria-hidden="true">#</a> å®æˆ˜11ï¼šMapè½¬æ¢Mapçš„å‡ ç§æ–¹å¼</h1><p>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä»ä¸€ä¸ªMapè½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªMapå±äºåŸºæœ¬æ“ä½œäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬æ€ä¹ˆå»å®ç°è¿™ç§åœºæ™¯å‘¢ï¼Ÿæœ‰ä»€ä¹ˆæ›´ç®€æ´çœäº‹çš„æ–¹æ³•ä¹ˆï¼Ÿ</p><!-- more --><h2 id="_1-mapäº’è½¬" tabindex="-1"><a class="header-anchor" href="#_1-mapäº’è½¬" aria-hidden="true">#</a> 1.Mapäº’è½¬</h2><h3 id="_1-1-å®ä¾‹åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_1-1-å®ä¾‹åœºæ™¯" aria-hidden="true">#</a> 1.1 å®ä¾‹åœºæ™¯</h3><p>ç°åœ¨æˆ‘ä»¬ç»™ä¸€ä¸ªç®€å•çš„å®ä¾‹</p><p>å¸Œæœ›å°†ä¸€ä¸ª<code>Map&lt;String, Integer&gt;</code> è½¬æ¢æˆ <code>Map&lt;String, String&gt;</code>ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå„è‡ªçš„ä¼˜ç¼ºç‚¹</p><p>é¦–å…ˆæä¾›ä¸€ä¸ªåˆ›å»ºMapçš„å…¬å…±æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">T</span> val<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> kv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> size <span class="token operator">=</span> kv<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>kv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> kv<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1-1-åŸºæœ¬çš„forå¾ªç¯è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_1-1-1-åŸºæœ¬çš„forå¾ªç¯è½¬æ¢" aria-hidden="true">#</a> 1.1.1 åŸºæœ¬çš„forå¾ªç¯è½¬æ¢</h4><p>è¿™ç§æ–¹å¼æ˜¯æœ€å®¹æ˜“æƒ³åˆ°å’Œå®ç°çš„ï¼Œç›´æ¥forå¾ªç¯æ¥è½¬æ¢å³å¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">forEachParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> entry<span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾ï¼Œå®ç°å®¹æ˜“ï¼Œä¸šåŠ¡ç›´è§‚ï¼›</p><p>ç¼ºç‚¹å°±æ˜¯å¯å¤ç”¨æ€§è¾ƒå·®ï¼Œä»£ç é‡å¤šï¼ˆç›¸æ¯”äºä¸‹é¢çš„caseï¼‰</p><h4 id="_1-1-2-å®¹å™¨çš„æµå¼ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-1-2-å®¹å™¨çš„æµå¼ä½¿ç”¨" aria-hidden="true">#</a> 1.1.2 å®¹å™¨çš„æµå¼ä½¿ç”¨</h4><p>åœ¨jdk1.8æä¾›äº†æµå¼æ“ä½œï¼ŒåŒæ ·ä¹Ÿå¯ä»¥é‡‡ç”¨è¿™ç§æ–¹å¼æ¥å®ç°è½¬æ¢</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>
            <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getKey</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨streamçš„æ–¹å¼ï¼Œä¼˜ç‚¹å°±æ˜¯é“¾å¼ï¼Œä»£ç é‡å°‘ï¼›ç¼ºç‚¹æ˜¯ç›¸è¾ƒäºä¸Šé¢çš„é˜…è¯»ä½“éªŒä¼šå·®ä¸€äº›ï¼ˆå½“ç„¶è¿™ä¸ªå–å†³äºä¸ªäººï¼Œæœ‰äº›å°ä¼™ä¼´å°±æ›´ä¹ æƒ¯çœ‹è¿™ç§é“¾å¼çš„ä»£ç ï¼‰</p><h4 id="_1-1-3-guavaçš„trasformæ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-1-3-guavaçš„trasformæ–¹å¼" aria-hidden="true">#</a> 1.1.3 Guavaçš„trasformæ–¹å¼</h4><p>ä»ä»£ç å±‚é¢æ¥çœ‹ï¼Œä¸Šé¢ä¸¤ä¸ªéƒ½ä¸å¤Ÿç›´è§‚ï¼Œå¦‚æœå¯¹guavaç†Ÿæ‚‰çš„å°ä¼™ä¼´å¯¹ä¸‹é¢çš„ä»£ç å¯èƒ½å°±å¾ˆç†Ÿæ‚‰äº†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span>  <span class="token class-name">Maps</span><span class="token punctuation">.</span><span class="token function">transformValues</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¸å¿ƒé€»è¾‘å°±ä¸€è¡Œ <code>Maps.transformValues(map, String::valueOf)</code>ï¼Œå®ç°äº†æˆ‘ä»¬çš„Mapè½¬æ¢çš„è¯‰æ±‚</p><p>å¾ˆæ˜æ˜¾ï¼Œè¿™ç§æ–¹å¼çš„ä¼˜ç‚¹å°±æ˜¯é—´æ¥ã€ç›´è§‚ï¼›å½“ç„¶ç¼ºç‚¹å°±æ˜¯éœ€è¦å¼•å…¥guavaï¼Œå¹¶ä¸”ç†Ÿæ‚‰guava</p><h3 id="_1-2-æœ€åä¸€é—®-è¿™ç¯‡æ–‡ç« ç›®çš„æ˜¯å•¥" tabindex="-1"><a class="header-anchor" href="#_1-2-æœ€åä¸€é—®-è¿™ç¯‡æ–‡ç« ç›®çš„æ˜¯å•¥" aria-hidden="true">#</a> 1.2 æœ€åä¸€é—®ï¼Œè¿™ç¯‡æ–‡ç« ç›®çš„æ˜¯å•¥ï¼Ÿ</h3><p>æ—¢ç„¶æˆ‘ä»¬çš„æ ‡é¢˜æ˜¯å®æˆ˜å°æŠ€å·§ï¼Œæœ¬æ–‡é™¤äº†ç»™å¤§å®¶ä»‹ç»å¯ä»¥ä½¿ç”¨guavaçš„<code>Maps.transformValues</code>æ¥å®ç°mapè½¬æ¢ä¹‹å¤–ï¼Œæ›´ä¸»è¦çš„ä¸€ä¸ªç›®çš„æ˜¯å¦‚æœè®©æˆ‘ä»¬è‡ªå·±æ¥å®ç°ä¸€ä¸ªå·¥å…·ç±»ï¼Œæ¥æ”¯æŒè¿™ä¸ªåœºæ™¯ï¼Œåº”è¯¥æ€ä¹ˆåšï¼Ÿ</p><p>ç›´æ¥æä¾›ä¸€ä¸ªè½¬æ¢æ–¹æ³•ï¼Ÿ</p><p><strong>ç¬¬ä¸€æ­¥ï¼šä¸€ä¸ªæ³›å‹çš„è½¬æ¢æ¥å£</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®šä¹‰ä¸Šé¢è¿™ä¸ªæ¥å£ä¹‹åï¼Œè‡ªç„¶è€Œç„¶æƒ³åˆ°çš„ç¼ºç‚¹å°±æ˜¯å·®ä¸€ä¸ªvalueçš„è½¬æ¢å®ç°</p><p><strong>ç¬¬äºŒæ­¥ï¼švalueè½¬æ¢çš„å®šä¹‰</strong></p><p>è¿™é‡Œé‡‡ç”¨Functionæ¥å£æ€æƒ³æ¥å®šä¹‰è½¬æ¢ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶åˆ°è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦æ³¨æ„jdk1.8ä»¥ä¸‹æ˜¯ä¸æ”¯æŒå‡½æ•°ç¼–ç¨‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ€ä¹ˆæ¥å®ç°å‘¢ï¼Ÿ</p><p>è¿™ä¸ªæ—¶å€™å†å¯¹ç…§ä¸€ä¸‹guavaçš„å®ç°ï¼Œç„¶åå†æ‰‹æ’¸ä¸€ä¸ªï¼ŒçŸ¥è¯†ç‚¹å°±åˆ°æ‰‹äº†</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜12-å·§ç”¨å‡½æ•°æ–¹æ³•å®ç°äºŒç»´æ•°ç»„éå†" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜12-å·§ç”¨å‡½æ•°æ–¹æ³•å®ç°äºŒç»´æ•°ç»„éå†" aria-hidden="true">#</a> å®æˆ˜12ï¼šå·§ç”¨å‡½æ•°æ–¹æ³•å®ç°äºŒç»´æ•°ç»„éå†</h1><p>å¯¹äºæ•°ç»„éå†ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸ªå¼€å‘è€…éƒ½å†™è¿‡ï¼Œéå†æœ¬èº«æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›å¤æ‚çš„ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œå°†ä¼šå‘ç°ä»£ç çš„å±‚çº§ä¼šé€æ¸åŠ æ·±</p><!-- more --><p>å¦‚ä¸€ä¸ªç®€å•çš„caseï¼Œå°†ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­çš„å¶æ•°æ‰¾å‡ºæ¥ï¼Œä¿å­˜åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­</p><p>äºŒç»´æ•°ç»„éå†ï¼Œæ¯ä¸ªå…ƒç´ åˆ¤æ–­ä¸‹æ˜¯å¦ä¸ºå¶æ•°ï¼Œå¾ˆå®¹æ˜“å°±å¯ä»¥å†™å‡ºæ¥ï¼Œå¦‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cells <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cells<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cells<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªå®ç°æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç çš„æ·±åº¦å¾ˆå®¹æ˜“å°±æœ‰ä¸‰å±‚äº†ï¼›å½“ä¸Šé¢è¿™ä¸ªifä¸­å¦‚æœå†æœ‰å…¶ä»–çš„åˆ¤å®šæ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªä»£ç å±‚çº§å¾ˆå®¹æ˜“å¢åŠ äº†ï¼›äºŒç»´æ•°ç»„è¿˜å¥½ï¼Œå¦‚æœæ˜¯ä¸‰ç»´æ•°ç»„ï¼Œä¸€ä¸ªéå†å°±æ˜¯ä¸‰å±‚ï¼›å†åŠ ç‚¹é€»è¾‘ï¼Œå››å±‚ã€äº”å±‚ä¸ä¹Ÿæ˜¯åˆ†åˆ†é’Ÿçš„äº‹æƒ…ä¹ˆ</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»£ç å±‚çº§å˜å¤šä¹‹åä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p><blockquote><p>åªè¦ä»£ç èƒ½è·‘ï¼Œåˆèƒ½æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿï¼</p></blockquote><h2 id="_1-å‡½æ•°æ–¹æ³•æ¶ˆå‡ä»£ç å±‚çº§" tabindex="-1"><a class="header-anchor" href="#_1-å‡½æ•°æ–¹æ³•æ¶ˆå‡ä»£ç å±‚çº§" aria-hidden="true">#</a> 1. å‡½æ•°æ–¹æ³•æ¶ˆå‡ä»£ç å±‚çº§</h2><p>ç”±äºå¤šç»´æ•°ç»„çš„éå†å±‚çº§å¤©ç„¶å°±å¾ˆæ·±ï¼Œé‚£ä¹ˆæœ‰åŠæ³•è¿›è¡Œæ¶ˆå‡ä¹ˆï¼Ÿ</p><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…³é”®æ˜¯è¦æŠ“ä½é‡ç‚¹ï¼Œéå†çš„é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿè·å–æ¯ä¸ªå…ƒç´ çš„åæ ‡ï¼é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ€ä¹ˆåŠï¼Ÿ</p><blockquote><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°æ–¹æ³•ï¼Œè¾“å…¥çš„å°±æ˜¯å‡½æ•°åæ ‡ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä½“ä¸­æ‰§è¡Œæˆ‘ä»¬çš„éå†é€»è¾‘å³å¯</p></blockquote><p>åŸºäºä¸Šé¢è¿™ä¸ªæ€è·¯ï¼Œç›¸ä¿¡æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å†™ä¸€ä¸ªäºŒç»´çš„æ•°ç»„éå†é€šç”¨æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">scan</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxX<span class="token punctuation">,</span> <span class="token keyword">int</span> maxY<span class="token punctuation">,</span> <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> maxY<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            consumer<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸»è¦ä¸Šé¢çš„å®ç°ï¼Œå‡½æ•°æ–¹æ³•ç›´æ¥ä½¿ç”¨äº†JDKé»˜è®¤æä¾›çš„BiConsumerï¼Œä¸¤ä¸ªä¼ å‚ï¼Œéƒ½æ˜¯int æ•°ç»„ä¸‹è¡¨ï¼›æ— è¿”å›å€¼</p><p>é‚£ä¹ˆä¸Šé¢è¿™ä¸ªæ€ä¹ˆç”¨å‘¢ï¼Ÿ</p><p>åŒæ ·æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œæ”¹ä¸€ä¸‹ä¹‹åï¼Œå¦‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cells <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scan</span><span class="token punctuation">(</span>cells<span class="token punctuation">.</span>length<span class="token punctuation">,</span> cells<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›¸æ¯”äºå‰é¢çš„ï¼Œè²Œä¼¼ä¹Ÿå°±å°‘äº†ä¸€å±‚è€Œå·²ï¼Œå¥½åƒä¹Ÿæ²¡ä»€ä¹ˆäº†ä¸èµ·çš„</p><p>ä½†æ˜¯ï¼Œå½“æ•°ç»„å˜ä¸ºä¸‰ç»´ã€å››ç»´ã€æ— ç»´æ—¶ï¼Œè¿™ä¸ªæ”¹åŠ¨çš„å†™æ³•å±‚çº§éƒ½ä¸ä¼šå˜å“¦</p><h2 id="_2-éå†ä¸­returnæ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#_2-éå†ä¸­returnæ”¯æŒ" aria-hidden="true">#</a> 2. éå†ä¸­returnæ”¯æŒ</h2><p>å‰é¢çš„å®ç°å¯¹äºæ­£å¸¸çš„éå†æ²¡å•¥é—®é¢˜ï¼›ä½†æ˜¯å½“æˆ‘ä»¬åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°æŸä¸ªæ¡ä»¶ç›´æ¥è¿”å›ï¼Œèƒ½æ”¯æŒä¹ˆï¼Ÿ</p><p>å¦‚ä¸€ä¸ªéå†äºŒç»´æ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ¤æ–­å…¶ä¸­æ˜¯å¦æœ‰å¶æ•°ï¼Œé‚£ä¹ˆå¯ä»¥æ€ä¹ˆæ•´ï¼Ÿ</p><p>ä»”ç»†ç¢ç£¨ä¸€ä¸‹æˆ‘ä»¬çš„scanæ–¹æ³•ï¼Œå¸Œæœ›å¯ä»¥æ”¯æŒreturnï¼Œä¸»è¦çš„é—®é¢˜ç‚¹å°±æ˜¯è¿™ä¸ªå‡½æ•°æ–¹æ³•æ‰§è¡Œä¹‹åï¼Œæˆ‘è¯¥æ€ä¹ˆçŸ¥é“æ˜¯ç»§ç»­å¾ªç¯è¿˜æ˜¯ç›´æ¥returnå‘¢?</p><p>å¾ˆå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯æ‰§è¡Œé€»è¾‘ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªé¢å¤–çš„è¿”å›å€¼ï¼Œç”¨äºæ ‡è®°æ˜¯å¦ä¸­æ–­å¾ªç¯ç›´æ¥è¿”å›</p><p>åŸºäºæ­¤æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªç®€å•çš„demoç‰ˆæœ¬</p><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°æ–¹æ³•ï¼Œæ¥å—å¾ªç¯çš„ä¸‹æ ‡ + è¿”å›å€¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ScanProcess</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">ImmutablePair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾ªç¯é€šç”¨æ–¹æ³•å°±å¯ä»¥ç›¸åº”çš„æ”¹æˆ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">scanReturn</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">ScanProcess</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> x<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> y<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">ImmutablePair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> func<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ans <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> ans<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> ans<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸºäºä¸Šé¢è¿™ç§æ€è·¯ï¼Œæˆ‘ä»¬çš„å®é™…ä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cells <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scanReturn</span><span class="token punctuation">(</span>cells<span class="token punctuation">.</span>length<span class="token punctuation">,</span> cells<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">ImmutablePair</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token class-name">ImmutablePair</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªå®ç°å¯æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå”¯ä¸€æœ‰ä¸ªåˆ«æ‰­çš„åœ°æ–¹å°±æ˜¯è¿”å›ï¼Œæ€»æœ‰ç‚¹ä¸å¤ªä¼˜é›…ï¼›é‚£ä¹ˆé™¤äº†è¿™ç§æ–¹å¼ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„æ–¹å¼ä¹ˆï¼Ÿ</p><p>æ—¢ç„¶è€ƒè™‘äº†è¿”å›å€¼ï¼Œé‚£ä¹ˆå†è€ƒè™‘ä¸€ä¸‹ä¼ å‚å‘¢ï¼Ÿé€šè¿‡ä¸€ä¸ªå®šä¹‰çš„å‚æ•°æ¥è£…åœ¨æ˜¯å¦ä¸­æ–­ä»¥åŠè¿”å›ç»“æœï¼Œæ˜¯å¦å¯è¡Œå‘¢ï¼Ÿ</p><p>åŸºäºè¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå®šä¹‰ä¸€ä¸ªå‚æ•°åŒ…è£…ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Ans</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> ans<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> tag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Ans</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">setAns</span><span class="token punctuation">(</span><span class="token class-name">T</span> ans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ans <span class="token operator">=</span> ans<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getAns</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ScanFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">,</span> <span class="token class-name">Ans</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> ans<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¸Œæœ›é€šè¿‡Ansè¿™ä¸ªç±»æ¥è®°å½•å¾ªç¯ç»“æœï¼Œå…¶ä¸­tag=trueï¼Œåˆ™è¡¨ç¤ºä¸ç”¨ç»§ç»­å¾ªç¯äº†ï¼Œç›´æ¥è¿”å›ansç»“æœå§</p><p>ä¸ä¹‹å¯¹åº”çš„æ–¹æ³•æ”¹é€ åŠå®ä¾‹å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">scanReturn</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">ScanFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Ans</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ans</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> x<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> y<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            func<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> ans<span class="token punctuation">.</span>ans<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cells <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> ans <span class="token operator">=</span> <span class="token function">scanReturn</span><span class="token punctuation">(</span>cells<span class="token punctuation">.</span>length<span class="token punctuation">,</span> cells<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            a<span class="token punctuation">.</span><span class="token function">setAns</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·çœ‹èµ·æ¥å°±æ¯”å‰é¢çš„è¦å¥½ä¸€ç‚¹äº†</p><p>å®é™…è·‘ä¸€ä¸‹ï¼Œçœ‹ä¸‹è¾“å‡ºæ˜¯å¦å’Œæˆ‘ä»¬é¢„æœŸçš„ä¸€è‡´ï¼›</p><figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/546a699ae4334df4b6525332da4e5770~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜13-listè½¬map-listçš„å‡ ç§å§¿åŠ¿" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜13-listè½¬map-listçš„å‡ ç§å§¿åŠ¿" aria-hidden="true">#</a> å®æˆ˜13ï¼šListè½¬Map Listçš„å‡ ç§å§¿åŠ¿</h1><p>ä»Šå¤©ä»‹ç»ä¸€ä¸ªå®ç”¨çš„å°çŸ¥è¯†ç‚¹ï¼Œå¦‚ä½•å°†Listè½¬ä¸º<code>Map&lt;Object, List&lt;Object&gt;&gt;</code></p><!-- more --><h2 id="_1-è½¬æ¢æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-è½¬æ¢æ–¹å¼" aria-hidden="true">#</a> 1. è½¬æ¢æ–¹å¼</h2><h3 id="_1-1-åŸºæœ¬å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_1-1-åŸºæœ¬å†™æ³•" aria-hidden="true">#</a> 1.1. åŸºæœ¬å†™æ³•</h3><p>æœ€å¼€å§‹ä»‹ç»çš„å½“ç„¶æ˜¯æœ€å¸¸è§ã€æœ€ç›´è§‚çš„å†™æ³•ï¼Œå½“ç„¶ä¹Ÿæ˜¯ä»»ä½•é™åˆ¶çš„å†™æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ¯”å¦‚å°†ä¸‹é¢çš„åˆ—è¡¨ï¼ŒæŒ‰ç…§å­—ç¬¦ä¸²é•¿åº¦è¿›è¡Œåˆ†ç»„</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;word&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;come&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sub <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sub <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºjdk8+ï¼Œä¸Šé¢forå¾ªç¯ä¸­çš„å†…å®¹å¯ä»¥åˆ©ç”¨<code>Map.computeIfAbsent</code>æ¥æ›¿æ¢ï¼Œå…·ä½“å†™æ³•å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ans<span class="token punctuation">.</span><span class="token function">computeIfAbsent</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> k <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶æ—¢ç„¶å·²ç»æ˜¯jdk1.8äº†ï¼Œå€ŸåŠ©Streamçš„æµå¤„ç†ï¼Œå¯ä»¥å°†ä¸Šé¢çš„æ›´ä¸€æ­¥è¿›è¡Œç®€åŒ–ï¼Œå¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-2-é€šç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_1-2-é€šç”¨æ–¹æ³•" aria-hidden="true">#</a> 1.2. é€šç”¨æ–¹æ³•</h3><p>ä¸Šé¢æ˜¯é’ˆå¯¹ç‰¹å®šçš„åˆ—è¡¨ï¼Œé’ˆå¯¹ä¸šåŠ¡è¿›è¡Œå¼€å‘è½¬æ¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å°è¯•æ„å»ºä¸€ä¸ªé€šç”¨çš„å·¥å…·ç±»</p><p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦å€ŸåŠ©çš„çŸ¥è¯†ç‚¹å°±æ˜¯æ³›å‹ï¼Œä¸€ä¸ªé‡è¦çš„ç‚¹å°±æ˜¯å¦‚ä½•è·å–Mapä¸­çš„key</p><p>å¯¹äºjdk &lt; 1.8çš„å†™æ³•ï¼Œé€šè¿‡æ¥å£æ¥å®šä¹‰å®ç°keyçš„è·å–å§¿åŠ¿</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">toMapList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">KeyFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keyFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">V</span> item<span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">K</span> key <span class="token operator">=</span> keyFunc<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">interface</span> <span class="token class-name">KeyFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">K</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨demoå¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;word&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;come&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> res <span class="token operator">=</span> <span class="token function">toMapList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">KeyFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å†çœ‹ä¸€ä¸‹jdk1.8ä¹‹åçš„å†™æ³•ï¼Œç»“åˆstream + å‡½æ•°æ–¹æ³•æ¥å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">toMapList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å¯¹åº”çš„ä½¿ç”¨æ–¹å¼åˆ™å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;word&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;come&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> res <span class="token operator">=</span> <span class="token function">toMapList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> <span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#_1-3-å·¥å…·ç±»" aria-hidden="true">#</a> 1.3. å·¥å…·ç±»</h3><p>ä¸Šä¸€èŠ‚ä»‹ç»äº†åŸºäºæ³›å‹ + jdk8 Stream + å‡½æ•°æ–¹æ³•æ¥å®ç°é€šç”¨è½¬æ¢å·¥å…·ç±»çš„å®ç°å§¿åŠ¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°ç»“ä¸€ä¸‹ï¼Œè¾“å‡ºä¸€ä¸ªé€‚ç”¨äº1.8ä¹‹åçš„å·¥å…·ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>V</span><span class="token punctuation">&gt;</span></span>è½¬æ¢ä¸ºMap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>K,</span> <span class="token attr-name">List&lt;V</span><span class="token punctuation">&gt;</span></span>&gt; ç‰¹ç‚¹åœ¨äºMapä¸­çš„valueï¼Œæ˜¯ä¸ªåˆ—è¡¨ï¼Œä¸”åˆ—è¡¨ä¸­çš„å…ƒç´ å°±æ˜¯ä»åŸåˆ—è¡¨ä¸­çš„å…ƒç´ 
 *
 * <span class="token keyword">@param</span> <span class="token parameter">list</span>
 * <span class="token keyword">@param</span> <span class="token parameter">func</span> åŸºäºlist#itemç”ŸæˆMap.keyçš„å‡½æ•°æ–¹æ³•
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>K<span class="token punctuation">&gt;</span></span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>V<span class="token punctuation">&gt;</span></span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">toMapList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>I</span><span class="token punctuation">&gt;</span></span>è½¬æ¢ä¸ºMap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>K,</span> <span class="token attr-name">List&lt;V</span><span class="token punctuation">&gt;</span></span>&gt; ç‰¹ç‚¹åœ¨äºMapä¸­çš„valueæ˜¯ä¸ªåˆ—è¡¨ï¼Œä¸”åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯ç”±list.itemè½¬æ¢è€Œæ¥
 *
 * <span class="token keyword">@param</span> <span class="token parameter">list</span>
 * <span class="token keyword">@param</span> <span class="token parameter">keyFunc</span> åŸºäºlist#itemç”Ÿæˆçš„Map.keyçš„å‡½æ•°æ–¹æ³•
 * <span class="token keyword">@param</span> <span class="token parameter">valFunc</span> åŸºäºlist#itemè½¬æ¢Map.valueåˆ—è¡¨ä¸­å…ƒç´ çš„å‡½æ•°æ–¹æ³•
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>K<span class="token punctuation">&gt;</span></span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>I<span class="token punctuation">&gt;</span></span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>V<span class="token punctuation">&gt;</span></span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">I</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">toMapList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">I</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">I</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keyFunc<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">I</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>keyFunc<span class="token punctuation">,</span> <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">mapping</span><span class="token punctuation">(</span>valFunc<span class="token punctuation">,</span> <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-4-guava-hashmultimapæ‰©å±•çŸ¥è¯†ç‚¹" tabindex="-1"><a class="header-anchor" href="#_1-4-guava-hashmultimapæ‰©å±•çŸ¥è¯†ç‚¹" aria-hidden="true">#</a> 1.4.guava HashMultimapæ‰©å±•çŸ¥è¯†ç‚¹</h3><p>æœ€åå†ä»‹ç»ä¸€ä¸ªæ‰©å±•çŸ¥è¯†ç‚¹ï¼ŒGauvaå·¥å…·åŒ…ä¸­æä¾›äº†ä¸€ä¸ª<code>HashMultimap</code>çš„å·¥å…·ç±»ï¼Œä»–çš„ä½¿ç”¨å§¿åŠ¿å’Œæˆ‘ä»¬å¹³å¸¸çš„Mapå¹¶æ— å·®åˆ«ï¼Œä½†æ˜¯éœ€è¦åœ¨æ³¨æ„çš„æ˜¯ï¼Œå®ƒçš„valueæ˜¯ä¸ªé›†åˆ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;word&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;come&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HashMultimap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token class-name">HashMultimap</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token operator">:</span> strList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…è¾“å‡ºå¦‚ä¸‹ï¼ŒéªŒè¯äº†valueå®é™…ä¸Šæ˜¯ä¸ªé›†åˆï¼ˆonåªæœ‰ä¸€ä¸ªï¼Œå¦‚æœæ˜¯æˆ‘ä»¬ä¸Šé¢çš„å·¥å…·ç±»ï¼Œä¼šè¾“å‡ºä¸¤ä¸ªï¼‰</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{2=[on], 4=[word, come], 5=[hello]}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜14-åˆ†é¡µéå†å¾—ä¸¤ç§å®ç°ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜14-åˆ†é¡µéå†å¾—ä¸¤ç§å®ç°ç­–ç•¥" aria-hidden="true">#</a> å®æˆ˜14ï¼šåˆ†é¡µéå†å¾—ä¸¤ç§å®ç°ç­–ç•¥</h1><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œåˆ†é¡µéå†è¿­ä»£çš„åœºæ™¯å¯ä»¥è¯´éå¸¸æ™®éäº†ï¼Œæ¯”å¦‚æ‰«è¡¨ï¼Œæ¯æ¬¡æ100æ¡æ•°æ®ï¼Œç„¶åéå†è¿™100æ¡æ•°æ®ï¼Œä¾æ¬¡æ‰§è¡ŒæŸä¸ªä¸šåŠ¡é€»è¾‘ï¼›è¿™100æ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå†åŠ è½½ä¸‹ä¸€ç™¾æ¡æ•°æ®ï¼Œç›´åˆ°æ‰«æå®Œæ¯•</p><p>é‚£ä¹ˆè¦å®ç°ä¸Šé¢è¿™ç§åˆ†é¡µè¿­ä»£éå†çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥æ€ä¹ˆåšå‘¢</p><p>æœ¬æ–‡å°†ä»‹ç»ä¸¤ç§ä½¿ç”¨å§¿åŠ¿</p><ul><li>å¸¸è§„çš„ä½¿ç”¨æ–¹æ³•</li><li>å€ŸåŠ©Iteratorçš„ä½¿ç”¨å§¿åŠ¿</li></ul><!-- more --><h2 id="_1-å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-å®ç°æ–¹å¼" aria-hidden="true">#</a> 1. å®ç°æ–¹å¼</h2><h3 id="_1-1-æ•°æ®æŸ¥è¯¢æ¨¡æ‹Ÿ" tabindex="-1"><a class="header-anchor" href="#_1-1-æ•°æ®æŸ¥è¯¢æ¨¡æ‹Ÿ" aria-hidden="true">#</a> 1.1. æ•°æ®æŸ¥è¯¢æ¨¡æ‹Ÿ</h3><p>é¦–å…ˆmockä¸€ä¸ªåˆ†é¡µè·å–æ•°æ®çš„é€»è¾‘ï¼Œç›´æ¥éšæœºç”Ÿæˆæ•°æ®ï¼Œå¹¶ä¸”æ§åˆ¶æœ€å¤šè¿”å›ä¸‰é¡µ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">randStr</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">++</span>cnt<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        size <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;======================= start to gen randList ====================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">(</span>start <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-åŸºæœ¬å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-åŸºæœ¬å®ç°æ–¹å¼" aria-hidden="true">#</a> 1.2. åŸºæœ¬å®ç°æ–¹å¼</h3><p>é’ˆå¯¹è¿™ç§åœºæ™¯ï¼Œæœ€å¸¸è§ä¹Ÿæ˜¯æœ€ç®€å•ç›´è§‚çš„å®ç°æ–¹å¼</p><ul><li>whileæ­»å¾ªç¯</li><li>å†…éƒ¨éå†</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">scanByNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token function">randStr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        start <span class="token operator">+=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-è¿­ä»£å™¨å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-3-è¿­ä»£å™¨å®ç°æ–¹å¼" aria-hidden="true">#</a> 1.3. è¿­ä»£å™¨å®ç°æ–¹å¼</h3><p>æ¥ä¸‹æ¥ä»‹ç»ä¸€ç§æ›´æœ‰æ„æ€çš„æ–¹å¼ï¼Œå€ŸåŠ©è¿­ä»£å™¨çš„éå†ç‰¹æ€§æ¥å®ç°ï¼Œé¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªé€šç”¨åˆ†é¡µè¿­ä»£å™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">MyIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> currentIndex<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> hasMore <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> currentIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// å½“å‰çš„æ•°æ®å·²ç»åŠ è½½å®Œæ¯•ï¼Œå°è¯•åŠ è½½ä¸‹ä¸€æ‰¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasMore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        list <span class="token operator">=</span> <span class="token function">load</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ²¡æœ‰åŠ è½½åˆ°æ•°æ®ï¼Œç»“æŸ</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è¿”å›æ¡æ•°å°äºé™åˆ¶æ¡æ•°ï¼Œè¡¨ç¤ºè¿˜æœ‰æ›´å¤šçš„æ•°æ®å¯ä»¥åŠ è½½</span>
            hasMore <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        currentIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        start <span class="token operator">+=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentIndex<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å€ŸåŠ©ä¸Šé¢çš„è¿­ä»£å™¨å¯ä»¥æ¯”è¾ƒç®€å•çš„å®ç°æˆ‘ä»¬çš„éœ€æ±‚äº†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">scanByIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">MyIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">randStr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸Šé¢è¿™ç§ä½¿ç”¨æ–¹å¼æ¯”å‰é¢çš„ä¼˜åŠ¿ä½“ç°å†å“ªå„¿å‘¢ï¼Ÿ</p><ul><li>åŒå±‚å¾ªç¯æ”¹ä¸ºå•å±‚å¾ªç¯</li></ul><p>æ¥ä¸‹æ¥æ¥å…¥é‡ç‚¹äº†ï¼Œåœ¨jdk1.8å¼•å…¥äº†å‡½æ•°æ–¹æ³• + lambdaä¹‹åï¼Œåˆæä¾›äº†ä¸€ä¸ªæ›´ç®€æ´çš„ä½¿ç”¨å§¿åŠ¿</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IteratorTestForJdk18</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@FunctionalInterface</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LoadFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token keyword">int</span> currentIndex<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> hasMore <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">LoadFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> loadFunc<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">MyIterator</span><span class="token punctuation">(</span><span class="token class-name">LoadFunc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> loadFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>loadFunc <span class="token operator">=</span> loadFunc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> currentIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// å½“å‰çš„æ•°æ®å·²ç»åŠ è½½å®Œæ¯•ï¼Œå°è¯•åŠ è½½ä¸‹ä¸€æ‰¹</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasMore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            list <span class="token operator">=</span> loadFunc<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// æ²¡æœ‰åŠ è½½åˆ°æ•°æ®ï¼Œç»“æŸ</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// è¿”å›æ¡æ•°å°äºé™åˆ¶æ¡æ•°ï¼Œè¡¨ç¤ºè¿˜æœ‰æ›´å¤šçš„æ•°æ®å¯ä»¥åŠ è½½</span>
                hasMore <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            currentIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            start <span class="token operator">+=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentIndex<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨jdk1.8åŠä¹‹åçš„ä½¿ç”¨å§¿åŠ¿ï¼Œä¸€è¡Œä»£ç å³å¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">scanByIteratorInJdk8</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">MyIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">IteratorTestForJdk18</span><span class="token operator">::</span><span class="token function">randStr</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">forEachRemaining</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¬¡å¯¹æ¯”æ•ˆæœæ˜¯ä¸æ˜¯éå¸¸æ˜¾çœ¼äº†ï¼Œä»æ­¤ä»¥ååˆ†é¡µè¿­ä»£éå†å†ä¹Ÿä¸ç”¨å†—é•¿çš„åŒé‡è¿­ä»£äº†</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜15-æ•°ç»„æ‹·è´" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜15-æ•°ç»„æ‹·è´" aria-hidden="true">#</a> å®æˆ˜15ï¼šæ•°ç»„æ‹·è´</h1><p>è¯´å®è¯ï¼Œåœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸Šå¾ˆå°‘å¾ˆå°‘å¾ˆå°‘...ä¼šé‡åˆ°æ•°ç»„æ‹·è´çš„åœºæ™¯ï¼Œç”šè‡³æ˜¯æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¸æ€ä¹ˆç”¨æ•°ç»„ï¼ŒListå®ƒä¸é¦™å˜›ï¼Œä¸ºå•¥è¦ç”¨æ•°ç»„</p><p>ç°åœ¨é—®é¢˜æ¥äº†ï¼Œè¦å®ç°æ•°ç»„æ‹·è´ï¼Œæ€ä¹ˆæ•´ï¼Ÿ</p><!-- more --><h2 id="_1-å®ç°æ–¹å¼-1" tabindex="-1"><a class="header-anchor" href="#_1-å®ç°æ–¹å¼-1" aria-hidden="true">#</a> 1. å®ç°æ–¹å¼</h2><h3 id="_1-1-åŸºç¡€å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_1-1-åŸºç¡€å†™æ³•" aria-hidden="true">#</a> 1.1. åŸºç¡€å†™æ³•</h3><p>æœ€ç®€å•ç›´æ¥çš„å†™æ³•ï¼Œé‚£å°±æ˜¯æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªä¸€ä¸ªæ‹·è´è¿›å»ï¼Œä¸å°±å®Œäº‹äº†ä¹ˆ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>data<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ans<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-å€Ÿç”¨å®¹å™¨ä¸­è½¬" tabindex="-1"><a class="header-anchor" href="#_1-2-å€Ÿç”¨å®¹å™¨ä¸­è½¬" aria-hidden="true">#</a> 1.2. å€Ÿç”¨å®¹å™¨ä¸­è½¬</h3><p>æ•°ç»„ç”¨èµ·æ¥æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜æ˜¯ç”¨å®¹å™¨èˆ’çˆ½ï¼Œå€ŸåŠ©Listæ¥å®ç°æ•°ç»„çš„æ‹·è´ï¼Œä¹Ÿå°±å‡ è¡Œä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>data<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-array-copy" tabindex="-1"><a class="header-anchor" href="#_1-3-array-copy" aria-hidden="true">#</a> 1.3. Array.copy</h3><p>ä¸Šé¢è¿™ä¸ªæœ‰ç‚¹ç»•å¾—è¿œäº†ï¼Œ ç›´æ¥ä½¿ç”¨Array.copy</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> out <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-4-system-arraycopy" tabindex="-1"><a class="header-anchor" href="#_1-4-system-arraycopy" aria-hidden="true">#</a> 1.4. System.arraycopy</h3><p>é™¤äº†ä¸Šé¢çš„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ›´åŸºç¡€çš„ç”¨æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>data<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> out<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæœ‰çœ‹è¿‡jdkæºç çš„å°ä¼™ä¼´ï¼Œä¸Šé¢è¿™ä¸ªç”¨æ³•åº”è¯¥ä¸ä¼šé™Œç”Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨å®¹å™¨ç±»ï¼Œè¿™ç§æ•°ç»„æ‹·è´çš„æ–¹å¼æ¯”æ¯”å¯è§</p><p>å‚æ•°è¯´æ˜:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">arraycopy</span><span class="token punctuation">(</span><span class="token class-name">Object</span> src<span class="token punctuation">,</span>  <span class="token keyword">int</span>  srcPos<span class="token punctuation">,</span>
        <span class="token class-name">Object</span> dest<span class="token punctuation">,</span> <span class="token keyword">int</span> destPos<span class="token punctuation">,</span>
        <span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>src : åŸæ•°ç»„</li><li>srcPos: åŸæ•°ç»„ç”¨äºæ‹·è´çš„èµ·å§‹ä¸‹æ ‡</li><li>dest: æ‹·è´åçš„æ•°ç»„</li><li>destPos: ç›®æ ‡æ•°ç»„çš„å°æ ‡</li><li>length: åŸæ•°ç»„ä¸­æ‹·è´è¿‡å»çš„æ•°ç»„é•¿åº¦</li></ul><p>ä»ä¸Šé¢çš„æè¿°ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä»…èƒ½å®ç°æ•°ç»„æ‹·è´ï¼Œè¿˜å¯ä»¥å®ç°æ•°ç»„å†…æŒ‡å®šç‰‡æ®µçš„æ‹·è´</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜16-åˆ¤æ–­ç±»ä¸ºåŸºç¡€ç±»å‹oråŸºç¡€ç±»å‹çš„åŒ…è£…ç±»" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜16-åˆ¤æ–­ç±»ä¸ºåŸºç¡€ç±»å‹oråŸºç¡€ç±»å‹çš„åŒ…è£…ç±»" aria-hidden="true">#</a> å®æˆ˜16ï¼šåˆ¤æ–­ç±»ä¸ºåŸºç¡€ç±»å‹oråŸºç¡€ç±»å‹çš„åŒ…è£…ç±»</h1><p>åˆ¤æ–­ä¸€ä¸ªç±»æ˜¯å¦ä¸ºåŸºç¡€ç±»å‹å±äºå¸¸è§„æ“ä½œäº†ï¼Œä¸€èˆ¬æˆ‘ä»¬é‡åˆ°è¿™ç§caseï¼Œè¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>ä¸€ä¸ªä¸€ä¸ªçš„if/elseåˆ¤æ–­? è¿˜æ˜¯å…¶ä»–çš„æ“ä½œå§¿åŠ¿ï¼Ÿ</p><!-- more --><h2 id="_1-åŸºç¡€ç±»å‹åˆ¤æ–­" tabindex="-1"><a class="header-anchor" href="#_1-åŸºç¡€ç±»å‹åˆ¤æ–­" aria-hidden="true">#</a> 1. åŸºç¡€ç±»å‹åˆ¤æ–­</h2><p>åŸºç¡€ç±»å‹å¯ä»¥å€ŸåŠ©classç±»çš„<code>isPrimitive</code>æ–¹æ³•æ¥å®ç°åˆ¤å®šï¼Œä½¿ç”¨å§¿åŠ¿ä¹Ÿç®€å•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœè¿”å›trueï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±æ˜¯åŸºæœ¬ç±»å‹</p><ul><li>boolean</li><li>char</li><li>byte</li><li>short</li><li>int</li><li>long</li><li>float</li><li>double</li><li>void</li></ul><p>ä½†æ˜¯è¯·æ³¨æ„ï¼Œå¯¹äºå°è£…ç±»å‹ï¼Œæ¯”å¦‚Longï¼Œè®¿é—®isPrimitiveè¿”å›çš„æ˜¯false</p><h2 id="_2-å°è£…ç±»å‹åˆ¤æ–­" tabindex="-1"><a class="header-anchor" href="#_2-å°è£…ç±»å‹åˆ¤æ–­" aria-hidden="true">#</a> 2. å°è£…ç±»å‹åˆ¤æ–­</h2><p>é‚£ä¹ˆå°è£…ç±»å‹å¯ä»¥æ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿéš¾é“ä¸€ä¸ªä¸€ä¸ªçš„åˆ¤å®šä¸æˆï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬æ³¨æ„åˆ°<code>Class#isPrimitive</code>çš„æ–¹æ³•ç­¾åï¼Œå¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Boolean</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Character</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Byte</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Short</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Integer</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Long</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Float</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Double</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@see</span>     <span class="token reference"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Void</span><span class="token punctuation">#</span><span class="token field">TYPE</span></span>
 * <span class="token keyword">@since</span> JDK1.1
 */</span>
<span class="token keyword">public</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„æ³¨é‡Šä¸­ï¼Œæåˆ°äº†Boolean#Typeä¹‹ç±»çš„é™æ€æˆå‘˜ï¼Œä¹Ÿå°±æ˜¯è¯´åŒ…è£…ç±»å‹ï¼Œéƒ½æœ‰ä¸€ä¸ªTYPEçš„é™æ€æˆå‘˜</p><p>æ¯”å¦‚booleançš„æ˜¯è¿™ä¸ª</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token constant">TYPE</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">getPrimitiveClass</span><span class="token punctuation">(</span><span class="token string">&quot;boolean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªTYPEæ¥åˆ¤å®šï¼Œå½“å‰å¯¹è±¡æ˜¯å¦ä¸ºå°è£…å¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token punctuation">)</span> clz<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;TYPE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœClasså¯¹è±¡æ²¡æœ‰TYPEå­—æ®µï¼Œé‚£ä¹ˆå°±ä¸æ˜¯å°è£…ç±»ï¼Œç›´æ¥æŠ›å¼‚å¸¸ï¼Œè¿”å›falseï¼›å½“ç„¶è¿™ç§é€šè¿‡å¼‚å¸¸çš„æ–¹å¼æ¥åˆ¤å®šï¼Œå¹¶ä¸ä¼˜é›…ï¼›ä½†æ˜¯å†™æ³•ä¸Šæ¯”æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªçš„if/elseè¿›è¡Œå¯¹æ¯”ï¼Œè¦å¥½å¾—å¤šäº†</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜17-javaå¯¹è±¡å†…å­˜åœ°å€è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜17-javaå¯¹è±¡å†…å­˜åœ°å€è¾“å‡º" aria-hidden="true">#</a> å®æˆ˜17ï¼šJavaå¯¹è±¡å†…å­˜åœ°å€è¾“å‡º</h1><h2 id="è¾“å‡ºå¯¹è±¡åœ°å€" tabindex="-1"><a class="header-anchor" href="#è¾“å‡ºå¯¹è±¡åœ°å€" aria-hidden="true">#</a> è¾“å‡ºå¯¹è±¡åœ°å€</h2><p>å½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰é‡å†™<code>hascode</code>æ–¹æ³•æ—¶ï¼Œå®ƒè¿”å›çš„å†…å­˜åœ°å€ï¼Œå½“è¦†ç›–ä¹‹åï¼Œæˆ‘ä»¬æœ‰ä»€ä¹ˆåŠæ³•è·å–å¯¹è±¡çš„å†…å­˜åœ°å€ä¹ˆ?</p><ul><li>ä½¿ç”¨ <code>System.identityHashCode()</code> è¾“å‡ºå†…å­˜åœ°å€</li></ul><!-- more --><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BaseDo</span> base <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaseDo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    base<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> addr <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">identityHashCode</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>base<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;|&quot;</span> <span class="token operator">+</span> addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">BaseDo</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>997608398|997608398
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªæœ‰å•¥ç”¨ï¼Ÿ</p><ul><li>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯ä»¥å€Ÿç”¨ï¼ˆæˆ‘æ˜¯åœ¨éªŒè¯Mybatisçš„ä¸€çº§ç¼“å­˜çš„ï¼Œåˆ¤æ–­è¿”å›çš„Entityæ˜¯å¦ç¡®å®æ˜¯åŒä¸€ä¸ªçš„æ—¶å€™ä»¥æ­¤æ¥åˆ¤å®šçš„ï¼‰</li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜18-éšæœºæ•°ç”Ÿæˆæ€ä¹ˆé€‰" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜18-éšæœºæ•°ç”Ÿæˆæ€ä¹ˆé€‰" aria-hidden="true">#</a> å®æˆ˜18ï¼šéšæœºæ•°ç”Ÿæˆæ€ä¹ˆé€‰</h1><p>éšæœºæ•°ç”Ÿæˆï¼Œjavaä¸­æœ‰ä¸€ä¸ªä¸“é—¨çš„Randomç±»æ¥å®ç°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨<code>Math.random</code>çš„ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•å­¦ä¹ ä¸‹ï¼Œéšæœºæ•°çš„ä½¿ç”¨å§¿åŠ¿</p><!-- more --><h2 id="_1-éšæœºæ•°ç”Ÿæˆ" tabindex="-1"><a class="header-anchor" href="#_1-éšæœºæ•°ç”Ÿæˆ" aria-hidden="true">#</a> 1.éšæœºæ•°ç”Ÿæˆ</h2><h3 id="_1-1-math-random" tabindex="-1"><a class="header-anchor" href="#_1-1-math-random" aria-hidden="true">#</a> 1.1. Math.random</h3><p>jdkæä¾›çš„åŸºç¡€å·¥å…·ç±»Mathä¸­å°è£…ä¸€äº›å¸¸ç”¨çš„åŸºç¡€æ–¹æ³•ï¼Œæ¯”å¦‚æˆ‘ä»¬ä»Šå¤©çš„ä¸»é¢˜ï¼Œç”Ÿæˆéšæœºæ•°ï¼Œä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">double</span> val <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œç”Ÿæˆçš„æ˜¯[0,1)ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼Œä½†æ˜¯ä¸è¦ä»¥ä¸ºå®ƒå°±çœŸçš„åªèƒ½ç”Ÿæˆ0-1ä¹‹é—´çš„éšæœºæ•°ï¼Œä¸¾ä¾‹å¦‚ä¸‹</p><p>å¦‚æœæƒ³åˆ©ç”¨å®ƒï¼Œç”Ÿæˆä¸€ä¸ª <code>[120, 500]</code> è¿™ä¸ªåŒºé—´çš„éšæœºæ•°ï¼Œæ€ä¹ˆæ•´ï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">381</span> <span class="token operator">+</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸ºå•¥ä¸Šé¢çš„å¯è¡Œï¼Ÿ</p><p>å°†ä¸Šé¢çš„ä»£ç ç¿»è¯‘ä¸€ä¸‹ï¼Œå–å€¼åŒºé—´å¦‚</p><p><code>Math.random() * 381 + 120</code> å–å€¼èŒƒå›´å¦‚ä¸‹</p><ul><li>[0, 1) * 381 + 120</li><li>[0, 381) + 120</li><li>[120, 501)</li></ul><p>å€ŸåŠ©<code>Math.ceil</code>åªå–æµ®ç‚¹æ•°ä¸­çš„æ•´æ•°éƒ¨åˆ†ï¼Œè¿™æ ·æˆ‘ä»¬çš„å–å€¼èŒƒå›´å°±æ˜¯ [120, 500]äº†ï¼Œå’Œæˆ‘ä»¬çš„é¢„æœŸä¸€è‡´</p><p>æœ€åç®€å•æ¥çœ‹ä¸‹ï¼Œ<code>Math.random()</code>æ˜¯æ€ä¹ˆå®ç°éšæœºæ•°çš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">RandomNumberGeneratorHolder</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Random</span> randomNumberGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">RandomNumberGeneratorHolder</span><span class="token punctuation">.</span>randomNumberGenerator<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ä¸Šé¢çš„å®ç°ï¼ŒåŸæ¥åº•å±‚ä¾ç„¶ä½¿ç”¨çš„æ˜¯<code>Random</code>ç±»æ¥ç”Ÿæˆéšæœºæ•°ï¼Œè€Œä¸”ä¸Šé¢è¿™ç§å†™æ³•å±äºéå¸¸ç»å…¸çš„å•ä¾‹æ¨¡å¼å†™æ³•ï¼ˆä¸åŒäºæˆ‘ä»¬å¸¸è§çš„åŒé‡åˆ¤å®šæ–¹å¼ï¼Œè¿™ç§å±äºå†…éƒ¨ç±»çš„ç©æ³•ï¼Œåé¢å†è¯´ä¸ºå•¥å¯ä»¥è¿™ä¹ˆç”¨ï¼‰</p><h3 id="_1-2-random" tabindex="-1"><a class="header-anchor" href="#_1-2-random" aria-hidden="true">#</a> 1.2. Random</h3><p>é™¤äº†ä½¿ç”¨ä¸Šé¢çš„Math.randomæ¥è·å–éšæœºæ•°ä¹‹å¤–ï¼Œç›´æ¥ä½¿ç”¨Randomç±»ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„caseï¼›æ¥ä¸‹æ¥å…ˆç®€å•çœ‹ä¸€ä¸‹Randomçš„ä½¿ç”¨å§¿åŠ¿</p><p><strong>åˆ›å»ºRandomå¯¹è±¡</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ä»¥å½“å‰æ—¶é—´æˆ³ä½œä¸ºéšæœºç§å­</span>
<span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä»¥å›ºå®šçš„æ•°å­—ä½œä¸ºéšæœºç§å­ï¼Œå¥½å¤„æ˜¯æ¯æ¬¡æ‰§è¡Œæ—¶ç”Ÿæˆçš„éšæœºæ•°æ˜¯ä¸€è‡´çš„ï¼Œä¾¿äºåœºæ™¯å¤ç°</span>
<span class="token class-name">Random</span> random2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç”Ÿæˆéšæœºæ•°</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// [0, max) ä¹‹é—´çš„éšæœºæ•´æ•°</span>
random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// éšæœºè¿”å›ture/false</span>
random<span class="token punctuation">.</span><span class="token function">nextBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// éšæœºé•¿æ•´æ•°</span>
random<span class="token punctuation">.</span><span class="token function">nextLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// éšæœºæµ®ç‚¹æ•°</span>
random<span class="token punctuation">.</span><span class="token function">nextFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼ªéšæœºé«˜æ–¯åˆ†å¸ƒåŒç²¾åº¦æ•°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>random<span class="token punctuation">.</span><span class="token function">nextGaussian</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>éšæœºç±»çš„nextGaussian()æ–¹æ³•è¿”å›ä¸‹ä¸€ä¸ªä¼ªéšæœºæ•°ï¼Œå³ä¸éšæœºæ•°ç”Ÿæˆå™¨åºåˆ—çš„å¹³å‡å€¼ä¸º0.0ï¼Œæ ‡å‡†å·®ä¸º1.0çš„é«˜æ–¯(æ­£æ€)åˆ†å¸ƒåŒç²¾åº¦å€¼</p><p>è¿™ç§ä½¿ç”¨åœºæ™¯å¯èƒ½ç”¨åœ¨æ›´ä¸“ä¸šçš„åœºæ™¯ï¼Œè‡³å°‘æˆ‘æ¥è§¦è¿‡çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæ²¡æœ‰ç”¨è¿‡è¿™ä¸ªğŸ˜‚</p><h3 id="_1-3-math-random-ä¸-randomå¦‚ä½•é€‰" tabindex="-1"><a class="header-anchor" href="#_1-3-math-random-ä¸-randomå¦‚ä½•é€‰" aria-hidden="true">#</a> 1.3. Math.random ä¸ Randomå¦‚ä½•é€‰</h3><p>ä¸Šé¢ä¸¤ä¸ªéƒ½å¯ä»¥ç”¨æ¥ç”Ÿæˆéšæœºæ•°ï¼Œé‚£ä¹ˆåœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œæ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿ</p><p>ä»å‰é¢çš„æè¿°ä¹Ÿå¯ä»¥çŸ¥é“ï¼Œå®ƒä»¬ä¸¤æ²¡å•¥æœ¬è´¨åŒºåˆ«ï¼Œåº•å±‚éƒ½æ˜¯ç”¨çš„Randomç±»ï¼Œåœ¨å®é™…çš„è¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å¯ä»¥åœºæ™¯å¤ç°ï¼Œæ¯”å¦‚æµ‹è¯•ä¸­å¥–æ¦‚ç‡çš„åœºæ™¯ä¸‹ï¼Œé€‰æ‹©Randomç±»ï¼ŒæŒ‡å®šéšæœºç§å­å¯èƒ½æ›´å‹å¥½ï¼›å¦‚æœåªæ˜¯ç®€å•çš„éšæœºæ•°ç”Ÿæˆä½¿ç”¨ï¼Œé‚£ä¹ˆé€‰æ‹©<code>Math.random</code>å³å¯ï¼Œè‡³å°‘ä½¿ç”¨èµ·æ¥ä¸€è¡Œä»£ç å³å¯</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜19-æ•°å­—æ ¼å¼åŒ–" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜19-æ•°å­—æ ¼å¼åŒ–" aria-hidden="true">#</a> å®æˆ˜19ï¼šæ•°å­—æ ¼å¼åŒ–</h1><p>æ•°å­—çš„æ ¼å¼åŒ–åœºæ™¯ï¼Œæ›´å¤šçš„æ˜¯åœ¨æ—¥å¿—è¾“å‡ºã€é‡‘é¢è®¡ç®—ç›¸å…³çš„é¢†åŸŸä¸­ä¼šç”¨åˆ°ï¼Œå¹³å¸¸æˆ‘ä»¬å¯èƒ½æ›´å¤šä½¿ç”¨<code>String.format</code>æ¥æ ¼å¼åŒ–ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œæ•°å­—æ ¼å¼åŒ–æ˜¯æœ‰ä¸€ä¸ª<code>DecimalFormat</code>ï¼Œä¸“é—¨æ¥é’ˆå¯¹æ•°å­—è¿›è¡Œæ ¼å¼åŒ–</p><p>ä»Šå¤©æˆ‘ä»¬çš„çŸ¥è¯†ç‚¹å°±æ˜¯DecimalFormatæ¥å®ç°æ•°å­—æ ¼å¼åŒ–</p><!-- more --><h2 id="_1-æ ¼å¼åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-æ ¼å¼åŒ–" aria-hidden="true">#</a> 1. æ ¼å¼åŒ–</h2><h3 id="_1-1-decimalformatä½¿ç”¨è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_1-1-decimalformatä½¿ç”¨è¯´æ˜" aria-hidden="true">#</a> 1.1. DecimalFormatä½¿ç”¨è¯´æ˜</h3><p>å¯¹äºDecimalFormatçš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯å€ŸåŠ©ä¸¤ä¸ªå ä½<code>0</code>ä¸<code>#</code>ï¼ŒåŒºåˆ«åœ¨äºå½“æ ¼å¼åŒ–çš„å ä½æ•°ï¼Œå¤šä½™å®é™…æ•°çš„æ—¶å€™ï¼Œå ä½<code>0</code>çš„åœºæ™¯ä¸‹ï¼Œä¼šç”¨å‰ç¼€0æ¥è¡¥é½ï¼›è€Œ<code>#</code>åˆ™ä¸éœ€è¦è¡¥é½</p><p>ä¸Šé¢è¿™ä¸ªå¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œä¸¾ä¾‹è¯´æ˜å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">double</span> num <span class="token operator">=</span> <span class="token number">3.1415926</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;000&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;###&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸¤ä¸ªéƒ½æ˜¯åªè¾“å‡ºæ•´æ•°ï¼Œä½†æ˜¯è¾“å‡ºç»“æœä¸åŒï¼Œå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>003
3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯<code>0</code>ï¼Œä¸»è¦ç”¨äºå®šé•¿çš„è¾“å‡ºï¼Œå¯¹äºä¸è¶³çš„ï¼Œå‰ç¼€è¡¥0</p><p><strong>æ•´æ•°#å°æ•°</strong></p><p>é™¤äº†ä¸Šé¢çš„åŸºæœ¬å§¿åŠ¿ä¹‹å¤–ï¼Œæ›´å¸¸è§çš„æ˜¯è®¾ç½®æ•´æ•°ã€å°æ•°çš„ä½æ•°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;000.00&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;###.##&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>003.14
3.14
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç™¾åˆ†æ¯”</strong></p><p>ç™¾åˆ†æ¯”çš„è¾“å‡ºä¹Ÿå±äºå¸¸è§çš„caseï¼Œä½¿ç”¨DecimalFormatå°±å¾ˆç®€å•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;000.00%&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;###.##%&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>314.16%
314.16%
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç§‘å­¦è®¡æ•°</strong></p><p>éä¸“ä¸šåœºæ™¯ä¸‹ï¼Œç§‘å­¦æŠ€æœ¯çš„å¯èƒ½æ€§æ¯”è¾ƒå°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;000.00E0&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;###.##E0&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>314.16E-2
3.1416E0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é‡‘é’±æ ·å¼è¾“å‡º</strong></p><p>é‡‘èç›¸å…³çš„é’±è¾“å‡ºæ—¶ï¼Œéå¸¸æœ‰æ„æ€çš„æ˜¯æ¯ä¸‰ä½åŠ ä¸€ä¸ªé€—å·åˆ†éš”ï¼Œå¦‚æœæƒ³å®ç°è¿™ä¸ªæ•ˆæœï¼Œä¹Ÿå¯ä»¥å¾ˆç®€å•å®Œæˆ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">double</span> num <span class="token operator">=</span> <span class="token number">31415926</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;,###&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>31,415,926
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åµŒå…¥æ¨¡æ¿è¾“å‡º</strong></p><p>æ ¼å¼åŒ–æ¨¡æ¿ï¼Œé™¤äº†åŸºç¡€çš„<code>000, ###</code>ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥æ”¾åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå®ç°ç±»ä¼¼<code>String.format</code>çš„æ•ˆæœ</p><p>æ¯”å¦‚æ˜¾ç¤ºä½™é¢</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">double</span> num <span class="token operator">=</span> <span class="token number">31415926</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;æ‚¨çš„ä½™é¢,###ï¿¥&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>æ‚¨çš„ä½™é¢31,415,926ï¿¥
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜20-è¿›åˆ¶è½¬æ¢å¾ˆç®€å•" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜20-è¿›åˆ¶è½¬æ¢å¾ˆç®€å•" aria-hidden="true">#</a> å®æˆ˜20ï¼šè¿›åˆ¶è½¬æ¢å¾ˆç®€å•</h1><p>è¿›åˆ¶è½¬æ¢ï¼Œå±äºåŸºæœ¬æŠ€èƒ½äº†ï¼Œåœ¨javaä¸­è¦å®ç°è¿›åˆ¶è½¬æ¢å¾ˆç®€å•ï¼Œå¯ä»¥éå¸¸ç®€å•çš„å®ç°ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸‹å®ƒçš„ä½¿ç”¨å§¿åŠ¿</p><!-- more --><h2 id="_1-è¿›åˆ¶è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_1-è¿›åˆ¶è½¬æ¢" aria-hidden="true">#</a> 1. è¿›åˆ¶è½¬æ¢</h2><h3 id="_1-1-tostringå®ç°è¿›åˆ¶è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_1-1-tostringå®ç°è¿›åˆ¶è½¬æ¢" aria-hidden="true">#</a> 1.1. toStringå®ç°è¿›åˆ¶è½¬æ¢</h3><p>Integer/Long#toString(int i, int radix) å¯ä»¥å°†ä»»ä¸€è¿›åˆ¶çš„æ•´æ•°ï¼Œè½¬æ¢ä¸ºå…¶ä»–ä»»æ„è¿›åˆ¶çš„æ•´æ•°</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå¾…è½¬æ¢çš„æ•°å­—</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šè½¬æ¢åçš„è¿›åˆ¶ä½</li></ul><p><strong>åå…­è¿›åˆ¶è½¬åè¿›åˆ¶</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">0x12</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å…«è¿›åˆ¶è½¬æ˜¯åè¿›åˆ¶</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">012</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å…«è¿›åˆ¶è½¬äºŒè¿›åˆ¶</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">012</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-2-åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-2-åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" aria-hidden="true">#</a> 1.2. åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h3><p>é™¤äº†ä½¿ç”¨ä¸Šé¢çš„å§¿åŠ¿ä¹‹å¤–ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>toBinaryString</code>æ¥å®ç°è½¬äºŒè¿›åˆ¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toBinaryString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">toBinaryString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-åè¿›åˆ¶è½¬å…«è¿›åˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-3-åè¿›åˆ¶è½¬å…«è¿›åˆ¶" aria-hidden="true">#</a> 1.3. åè¿›åˆ¶è½¬å…«è¿›åˆ¶</h3><p><code>Integer/Long#toOctalString</code>: è½¬å…«è¿›åˆ¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toOctalString</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-4-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-4-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶" aria-hidden="true">#</a> 1.4. åè¿›åˆ¶è½¬åå…­è¿›åˆ¶</h3><p><code>Integer/Long#toHexString</code>: è½¬åå…­è¿›åˆ¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜21-propertiesé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜21-propertiesé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> å®æˆ˜21ï¼šPropertiesé…ç½®æ–‡ä»¶</h1><p>propertiesé…ç½®æ–‡ä»¶ï¼Œç›¸ä¿¡å„ä½å°ä¼™ä¼´éƒ½ä¸ä¼šå¤ªé™Œç”Ÿï¼Œå¸¸ç”¨Springçš„å¯èƒ½ä¼šç»å¸¸çœ‹åˆ°å®ƒï¼Œè™½è¯´ç°åœ¨æ›´æ¨èçš„æ˜¯ä½¿ç”¨Yamlé…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯propertiesé…ç½®æ–‡ä»¶çš„ä½¿ç”¨é¢‘ç‡ä¹Ÿä¸ä½</p><p>åœ¨jdkä¸­æœ‰ä¸€ä¸ªç›´æ¥å…³è¿çš„ç±»Propertiesï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„ç”¨æ³•</p><!-- more --><h2 id="_1-propertiesé…ç½®ç±»" tabindex="-1"><a class="header-anchor" href="#_1-propertiesé…ç½®ç±»" aria-hidden="true">#</a> 1. Propertiesé…ç½®ç±»</h2><h3 id="_1-1-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-1-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 1.1. é…ç½®æ–‡ä»¶</h3><p>propertiesæ–‡ä»¶çš„æ ¼å¼æ¯”è¾ƒç®€å•</p><ul><li><code>key = value</code>: ç­‰å·å·¦è¾¹çš„ä¸ºé…ç½®keyï¼Œå³è¾¹çš„ä¸ºé…ç½®valueï¼ˆvalueå€¼ä¼šå»é™¤å‰åçš„ç©ºæ ¼ï¼‰</li><li><code>#</code>ï¼šä»¥<code>#</code>æ¥åŒºåˆ†æ³¨é‡Š</li></ul><p>ä¸€ä¸ªåŸºç¡€çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># æµ‹è¯•

key = value
user.name = ä¸€ç°ç°blog
user.age = 18
user.skill = java,python,js,shell
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-é…ç½®æ–‡ä»¶åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_1-2-é…ç½®æ–‡ä»¶åŠ è½½" aria-hidden="true">#</a> 1.2. é…ç½®æ–‡ä»¶åŠ è½½</h3><p>å¯¹äºPropertiesé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸ç®€å•çš„å€ŸåŠ©<code>Properties</code>ç±»ï¼Œæ¥å®ç°é…ç½®çš„åŠ è½½</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesUtil</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * ä»æ–‡ä»¶ä¸­è¯»å–é…ç½®
     *
     * <span class="token keyword">@param</span> <span class="token parameter">propertyFile</span>
     * <span class="token keyword">@return</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> <span class="token function">loadProperties</span><span class="token punctuation">(</span><span class="token class-name">String</span> propertyFile<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">PropertiesUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>propertyFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> config<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›´æ¥ä½¿ç”¨<code>Properties#config</code>å°±å¯ä»¥è¯»å–é…ç½®æ–‡ä»¶å†…å®¹ï¼Œå¹¶èµ‹å€¼åˆ°javaå¯¹è±¡</p><p><strong>é‡ç‚¹æ³¨æ„ï¼š</strong></p><p>é‡ç‚¹çœ‹ä¸€ä¸‹Propertiesç±»çš„ç»§æ‰¿å…³ç³»ï¼Œå®ƒçš„çˆ¶ç±»æ˜¯Hashtable, ä¹Ÿå°±æ˜¯è¯´å®ƒçš„æœ¬è´¨æ˜¯Mapå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span>
<span class="token keyword">class</span> <span class="token class-name">Properties</span> <span class="token keyword">extends</span> <span class="token class-name">Hashtable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-propertieså¯¹è±¡ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-3-propertieså¯¹è±¡ä½¿ç”¨" aria-hidden="true">#</a> 1.3. Propertieså¯¹è±¡ä½¿ç”¨</h3><p>å› ä¸º<code>Properties</code>æ˜¯ç»§æ‰¿è‡ªHashtableï¼Œè€ŒHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„Mapå®¹å™¨ï¼Œå› æ­¤Propertiesä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒåŒæ ·çš„ï¼Œåœ¨å¤šçº¿ç¨‹å¹¶å‘è·å–é…ç½®çš„æ—¶å€™ï¼Œå®ƒçš„æ€§èƒ½è¡¨ç°ä¹Ÿå°±ä¸å’‹åœ°äº†ï¼Œwhy?</p><p>é¦–å…ˆçœ‹ä¸€ä¸‹é…ç½®è·å–</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è·å–é…ç½®å±æ€§</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> oval <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> sval <span class="token operator">=</span> <span class="token punctuation">(</span>oval <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>oval <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>sval <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>defaults <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> defaults<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">:</span> sval<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·å–é…ç½®å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›é»˜è®¤å€¼</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> defaultValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> val <span class="token operator">=</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>val <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> defaultValue <span class="token operator">:</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•çš„ä½¿ç”¨é¢‘ç‡å¾ˆé«˜ï¼Œä»ç­¾åä¸Šä¹Ÿå¾ˆå®¹æ˜“çŸ¥é“ä½¿ç”¨å§¿åŠ¿ï¼›æ¥ä¸‹æ¥éœ€è¦çœ‹ä¸€ä¸‹çš„ä¸ºå•¥è¯´å¹¶å‘æ•ˆç‡å¾ˆä½</p><p>å…³é”®ç‚¹å°±åœ¨ç¬¬ä¸€ä¸ªæ–¹æ³•çš„<code>super.get()</code>ï¼Œå®ƒå¯¹åº”çš„æºç æ­£æ˜¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token class-name">V</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–¹æ³•ç­¾åä¸Šæœ‰<code>synchronized</code>ï¼Œæ‰€ä»¥ä¸ºå•¥è¯´å¹¶å‘ç¯å¢ƒä¸‹çš„æ€§èƒ½è¡¨ç°ä¸ä¼šç‰¹åˆ«å¥½ä¹Ÿå°±çŸ¥é“åŸå› äº†</p><p>é™¤äº†è·å–é…ç½®ä¹‹å¤–ï¼Œå¦å¤–ä¸€ä¸ªå¸¸ç”¨çš„å°±æ˜¯æ›´æ–°é…ç½®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token class-name">Object</span> <span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-5" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-5" aria-hidden="true">#</a> 2. å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»çš„çŸ¥è¯†ç‚¹ä¸»è¦æ˜¯propertiesé…ç½®æ–‡ä»¶çš„å¤„ç†ï¼Œä½¿ç”¨åŒåçš„javaç±»æ¥æ“ä½œï¼›éœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯Propertiesç±»å±äºHashtableçš„å­ç±»ï¼ŒåŒæ ·å±äºå®¹å™¨çš„èŒƒç•´</p><p>æœ€åæä¸€ä¸ªæ‰©å±•çš„é—®é¢˜ï¼Œåœ¨SpringBootçš„é…ç½®è‡ªåŠ¨è£…è½½ä¸­ï¼Œå¯ä»¥å°†é…ç½®å†…å®¹è‡ªåŠ¨è£…è½½åˆ°é…ç½®ç±»ä¸­ï¼Œç®€å•æ¥è®²å°±æ˜¯æ”¯æŒé…ç½®åˆ°java beançš„æ˜ å°„ï¼Œå¦‚æœç°åœ¨è®©æˆ‘ä»¬æ¥å®ç°è¿™ä¸ªï¼Œå¯ä»¥æ€ä¹ˆæ•´ï¼Ÿ</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜22-propertiesé…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½javabean" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜22-propertiesé…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½javabean" aria-hidden="true">#</a> å®æˆ˜22ï¼šPropertiesé…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½JavaBean</h1><p>SpringBootçš„é…ç½®è‡ªåŠ¨è£…è½½ï¼Œä½¿ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆèˆ’çˆ½çš„ï¼Œå¯ä»¥éå¸¸ç®€å•çš„å°†propertiesé…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œå¡«å……åˆ°Java beanå¯¹è±¡ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨æ˜¯ä¸€ä¸ªè„±ç¦»äºSpringbootæ¡†æ¶çš„é¡¹ç›®ï¼Œæƒ³å®ç°ä¸Šé¢è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥æ€ä¹ˆæ¥åšå‘¢ï¼Ÿ</p><!-- more --><h2 id="_1-é…ç½®å°è£…" tabindex="-1"><a class="header-anchor" href="#_1-é…ç½®å°è£…" aria-hidden="true">#</a> 1.é…ç½®å°è£…</h2><h3 id="_1-1-é…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½" tabindex="-1"><a class="header-anchor" href="#_1-1-é…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½" aria-hidden="true">#</a> 1.1. é…ç½®æ–‡ä»¶è‡ªåŠ¨è£…è½½</h3><p>å‰é¢ä»‹ç»äº†Propertiesæ–‡ä»¶çš„è¯»å–ä»¥åŠåŸºæœ¬ä½¿ç”¨å§¿åŠ¿ï¼Œé€šè¿‡ä¸Šç¯‡åšæ–‡å·²çŸ¥Propertiesç±»çš„æœ¬è´¨æ˜¯ä¸€ä¸ªMapï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¹²çš„å°±æ˜¯å°†Mapå®¹å™¨çš„å€¼ï¼Œèµ‹å€¼åˆ°JavaBeançš„æˆå‘˜å±æ€§ä¸­</p><p>è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œè‡ªç„¶è€Œç„¶ä¼šæƒ³åˆ°çš„å°±æ˜¯åˆ©ç”¨åå°„ï¼ˆè€ƒè™‘åˆ°æˆ‘ä»¬èµ‹å€¼çš„é€šå¸¸ä¸ºæ ‡å‡†çš„java beanï¼Œä½¿ç”¨å†…çœæ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼‰</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å®ç°çš„ä¹Ÿæ¯”è¾ƒæ¸…æ™°äº†ï¼Œç¬¬ä¸€æ­¥è·å–æˆå‘˜å±æ€§ï¼Œä¸¤ç§æ–¹å¼</p><ul><li>å†…çœ: <code>BeanInfo bean = Introspector.getBeanInfo(clz); PropertyDescriptor[] propertyDescriptors = bean.getPropertyDescriptors();</code></li><li>åå°„: <code>Field[] fields = clz.getDeclaredFields();</code></li></ul><p>ç¬¬äºŒæ­¥éå†æˆå‘˜å±æ€§ï¼Œè¿›è¡Œèµ‹å€¼</p><ul><li>å†…çœï¼šå€ŸåŠ©å‰é¢è·å–çš„<code>PropertyDescriptor</code>å¯¹è±¡ï¼Œæ‹¿åˆ°setæ–¹æ³•ï¼Œè¿›è¡Œèµ‹å€¼ <ul><li><code>descriptor.getWriteMethod().invoke(obj, value)</code></li></ul></li><li>åå°„ï¼šé€‚åº”<code>Field.set</code>æ¥èµ‹å€¼ <ul><li><code>field.set(obj, value);</code></li></ul></li></ul><p><strong>æ³¨æ„</strong></p><ul><li>ä¸Šé¢çš„ä¸¤ç§èµ‹å€¼æ–¹å¼ï¼Œéƒ½è¦æ±‚æˆ‘ä»¬ä¼ å…¥çš„valueå¯¹è±¡ç±»å‹ä¸å®šä¹‰ç±»å‹ä¸€ç›´ï¼Œå¦åˆ™ä¼šæŠ›ç±»å‹è½¬æ¢å¼‚å¸¸</li></ul><p>ä¸ºäº†é¿å…å¤æ‚çš„ç±»å‹è½¬æ¢ä¸åˆ¤å®šï¼Œæˆ‘ä»¬è¿™é‡Œä»‹ç»ä¸‹apacheçš„<code>commons-beanutils</code>æ¥å®ç°å±æ€§æ‹·è´</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-beanutils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-beanutils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥æ ¸å¿ƒçš„å®ç°é€»è¾‘å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token class-name">Class</span> clz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clz<span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token punctuation">)</span> clz<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;TYPE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toBean</span><span class="token punctuation">(</span><span class="token class-name">Properties</span> properties<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> type<span class="token punctuation">,</span> <span class="token class-name">String</span> prefix<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IntrospectionException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prefix <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        prefix <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prefix<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>prefix<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        prefix <span class="token operator">+=</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    type<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å†…çœæ–¹å¼æ¥åˆå§‹åŒ–</span>
    <span class="token class-name">T</span> obj <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BeanInfo</span> bean <span class="token operator">=</span> <span class="token class-name">Introspector</span><span class="token punctuation">.</span><span class="token function">getBeanInfo</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">PropertyDescriptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> propertyDescriptors <span class="token operator">=</span> bean<span class="token punctuation">.</span><span class="token function">getPropertyDescriptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">PropertyDescriptor</span> descriptor <span class="token operator">:</span> propertyDescriptors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åªæ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹çš„æ‹·è´</span>
        <span class="token class-name">Class</span> fieldType <span class="token operator">=</span> descriptor<span class="token punctuation">.</span><span class="token function">getPropertyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fieldType <span class="token operator">==</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span>fieldType<span class="token punctuation">)</span> <span class="token operator">||</span> fieldType <span class="token operator">==</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ”¯æŒåŸºæœ¬ç±»å‹çš„è½¬æ¢ï¼Œå¦‚æœä½¿ç”¨ PropertyUtils, åˆ™ä¸ä¼šå®ç°åŸºæœ¬ç±»å‹ + Stringçš„è‡ªåŠ¨è½¬æ¢</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>prefix <span class="token operator">+</span> descriptor<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">toBean</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> fieldType<span class="token punctuation">,</span> prefix <span class="token operator">+</span> descriptor<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸Šé¢çš„å®ç°ï¼Œé¦–å…ˆé€šè¿‡å†…çœçš„æ–¹å¼è·å–æ‰€æœ‰çš„æˆå‘˜ï¼Œç„¶åè¿›è¡Œéå†ï¼Œå€ŸåŠ©<code>BeanUtils.setProperty</code>æ¥å®ç°å±æ€§å€¼è®¾ç½®</p><p>è¿™é‡Œé¢æœ‰ä¸¤ä¸ªçŸ¥è¯†ç‚¹</p><ul><li><code>BeanUtil</code> è¿˜æ˜¯ <code>PropertyUtil</code><ul><li>å®ƒä»¬ä¸¤éƒ½æœ‰ä¸ªè®¾ç½®å±æ€§çš„æ–¹æ³•ï¼Œä½†æ˜¯BeanUtilæ”¯æŒç®€å•ç±»å‹çš„è‡ªåŠ¨è½¬æ¢ï¼›è€Œåè€…ä¸è¡Œï¼Œè¦æ±‚ç±»å‹å®Œå…¨ä¸€è‡´</li></ul></li><li>éç®€å•ç±»å‹ <ul><li>å¯¹äºéç®€å•ç±»å‹ï¼Œä¸Šé¢é‡‡ç”¨äº†é€’å½’çš„è°ƒç”¨æ–¹å¼æ¥å¤„ç†ï¼›è¯·æ³¨æ„ï¼Œè¿™é‡Œå¹¶ä¸å®Œå–„ï¼Œæ¯”å¦‚BigDecimal, Date, List, Mapè¿™äº›ç›¸å¯¹åŸºç¡€çš„ç±»å‹ï¼Œæ˜¯ä¸å¤ªé€‚ç”¨çš„å“¦</li></ul></li></ul><h3 id="_1-2-åŠŸèƒ½æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_1-2-åŠŸèƒ½æµ‹è¯•" aria-hidden="true">#</a> 1.2. åŠŸèƒ½æµ‹è¯•</h3><p>æœ€åé’ˆå¯¹ä¸Šé¢çš„å®ç°åŠŸèƒ½ï¼Œç®€å•çš„æµ‹è¯•ä¸€ä¸‹ï¼Œæ˜¯å¦å¯è¡Œ</p><p>é…ç½®æ–‡ä»¶<code>mail.properties</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mail.host=localhost
mail.port=25
mail.smtp.auth=false
mail.smtp.starttlsEnable=false
mail.from=test@yhhblog.com
mail.username=user
mail.password=pwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸¤ä¸ªJava Bean</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MailProperties</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> host<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> port<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Smtp</span> smtp<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> from<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Smtp</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> auth<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> starttlsEnable<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è½¬æ¢æµ‹è¯•ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> <span class="token function">loadProperties</span><span class="token punctuation">(</span><span class="token class-name">String</span> propertyFile<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Properties</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">PropertiesUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>propertyFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token function">loadProperties</span><span class="token punctuation">(</span><span class="token string">&quot;mail.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">MailProperties</span> mailProperties <span class="token operator">=</span> <span class="token function">toBean</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> <span class="token class-name">MailProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;mail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mailProperties<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>PropertiesUtil.MailProperties(host=localhost, port=25, smtp=PropertiesUtil.Smtp(auth=false, starttlsEnable=false), from=test@yhhblog.com, username=user, password=pwd)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜23-åŸºäºå¼•å…¥åŒ…é€‰æ‹©å…·ä½“å®ç°ç±»" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜23-åŸºäºå¼•å…¥åŒ…é€‰æ‹©å…·ä½“å®ç°ç±»" aria-hidden="true">#</a> å®æˆ˜23ï¼šåŸºäºå¼•å…¥åŒ…é€‰æ‹©å…·ä½“å®ç°ç±»</h1><p>æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚åœºæ™¯ï¼Œå¼€æºçš„å·¥å…·åŒ…ï¼Œæ–°å¢äº†ä¸€ä¸ªé«˜çº§ç‰¹æ€§ï¼Œä¼šä¾èµ–jsonåºåˆ—åŒ–å·¥å…·ï¼Œæ¥åšä¸€äº›ç‰¹æ®Šæ“ä½œï¼›ä½†æ˜¯ï¼Œè¿™ä¸ªè¾…åŠ©åŠŸèƒ½å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºä½¿ç”¨è¿™ä¸ªå·¥å…·åŒ…çš„ä¸šåŠ¡æ–¹è€Œè¨€ï¼Œæ­£å¸¸ä½¿ç”¨å®Œå…¨ä¸éœ€è¦jsonç›¸å…³çš„åŠŸèƒ½ï¼›å¦‚æœæˆ‘å¼ºå¼•ç”¨æŸä¸ªjsonå·¥å…·ï¼Œä¸€æ˜¯å¯¹äºä¸é€‚ç”¨é«˜çº§ç‰¹æ€§çš„ç”¨æˆ·è€Œè¨€æ²¡æœ‰å¿…è¦ï¼›äºŒåˆ™æ˜¯æˆ‘å¼•å…¥çš„jsonå·¥å…·ææœ‰å¯èƒ½ä¸ä½¿ç”¨è€…çš„ä¸ä¸€è‡´ï¼Œä¼šå¢åŠ ä½¿ç”¨è€…çš„æˆæœ¬</p><p>å› æ­¤æˆ‘å¸Œæœ›è¿™ä¸ªå·¥å…·åŒ…å¯¹å¤–æä¾›æ—¶ï¼Œå¹¶ä¸ä¼šå¼•å…¥å…·ä½“çš„jsonå·¥å…·ä¾èµ–ï¼›ä¹Ÿå°±æ˜¯è¯´mavenä¾èµ–ä¸­çš„<code>&lt;scope&gt;</code>è®¾ç½®ä¸º<code>provided</code>ï¼›å…·ä½“çš„jsonåºåˆ—åŒ–çš„å®ç°ï¼Œåˆ™å–å†³äºè°ƒç”¨æ–¹è‡ªèº«å¼•å…¥äº†ä»€ä¹ˆjsonå·¥å…·åŒ…</p><p>é‚£ä¹ˆå¯ä»¥æ€ä¹ˆå®ç°ä¸Šé¢è¿™ä¸ªæ–¹å¼å‘¢ï¼Ÿ</p><!-- more --><h2 id="_1-å®ç°æ–¹å¼-2" tabindex="-1"><a class="header-anchor" href="#_1-å®ç°æ–¹å¼-2" aria-hidden="true">#</a> 1.å®ç°æ–¹å¼</h2><h3 id="_1-1-ä»»åŠ¡è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»»åŠ¡è¯´æ˜" aria-hidden="true">#</a> 1.1. ä»»åŠ¡è¯´æ˜</h3><p>ä¸Šé¢çš„ç®€å•çš„è¯´äº†ä¸€ä¸‹æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é‡ç‚¹ç›˜ä¸€ä¸‹ï¼Œæˆ‘ä»¬åˆ°åº•æ˜¯è¦å¹²ä»€ä¹ˆ</p><p>æ ¸å¿ƒè¯‰æ±‚ç›¸å¯¹æ¸…æ™°</p><ol><li>ä¸å¼ºå¼•å…¥æŸä¸ªjsonå·¥å…·</li><li>è‹¥éœ€è¦ä½¿ç”¨é«˜çº§ç‰¹æ€§ï¼Œåˆ™ç›´æ¥ä½¿ç”¨å½“å‰ç¯å¢ƒä¸­å·²é›†æˆçš„jsonåºåˆ—åŒ–å·¥å…·ï¼›è‹¥æ²¡æœ‰æä¾›ï¼Œåˆ™æŠ›å¼‚å¸¸ï¼Œä¸æ”¯æŒ</li></ol><p>å¯¹äºä¸Šé¢è¿™ä¸ªåœºæ™¯ï¼Œå¸¸å¹´ä½¿ç”¨Springçš„æˆ‘ä»¬ä¼°è®¡ä¸ä¼šé™Œç”Ÿï¼ŒSpringé›†æˆäº†å¾ˆå¤šçš„ç¬¬ä¸‰æ–¹å¼€æºç»„ä»¶ï¼Œæ ¹æ®å…·ä½“çš„ä¾èµ–æ¥é€‰æ‹©æœ€ç»ˆçš„å®ç°ï¼Œæ¯”å¦‚æ—¥å¿—ï¼Œå¯ä»¥æ˜¯logbackï¼Œä¹Ÿå¯ä»¥æ˜¯log4jï¼›æ¯”å¦‚redisæ“ä½œï¼Œå¯ä»¥æ˜¯jedisï¼Œä¹Ÿå¯ä»¥æ˜¯lettuce</p><p>é‚£ä¹ˆSpringæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><h3 id="_1-2-å…·ä½“å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-2-å…·ä½“å®ç°" aria-hidden="true">#</a> 1.2.å…·ä½“å®ç°</h3><p>åœ¨Springä¸­æœ‰ä¸ªæ³¨è§£åä¸º<code>ConditionalOnClass</code>ï¼Œè¡¨ç¤ºå½“æŸä¸ªç±»å­˜åœ¨æ—¶ï¼Œæ‰ä¼šå¹²æŸäº›äº‹æƒ…ï¼ˆå¦‚åˆå§‹åŒ–beanå¯¹è±¡ï¼‰</p><p>å®ƒæ˜¯æ€ä¹ˆæ˜¯å®ç°çš„å‘¢ï¼Ÿï¼ˆæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æœç´¢ä¸€ä¸‹ï¼Œæˆ–è€…é‡ç‚¹å…³æ³¨ä¸‹ <code>SpringBootCondition</code> çš„å®ç°ï¼‰</p><p>è¿™é‡Œä¸”æŠ›å¼€Springçš„å®ç°å§¿åŠ¿ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¼ ç»Ÿçš„å®ç°æ–¹å¼ï¼Œç›´æ¥åˆ¤æ–­æ˜¯å¦æœ‰åŠ è½½å¯¹åº”çš„ç±»ï¼Œæ¥åˆ¤æ–­æœ‰æ²¡æœ‰å¼•å…¥ç›¸åº”çš„å·¥å…·åŒ…</p><p>å¦‚éœ€è¦åˆ¤æ–­æ˜¯å¦å¼•å…¥äº†gsonåŒ…ï¼Œåˆ™åˆ¤æ–­ClassLoaderæ˜¯å¦æœ‰åŠ è½½<code>com.google.gson.Gson</code>ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">exist</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ç§å®ç°æ–¹å¼å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬çš„æ•ˆæœäº†ï¼›æ¥ä¸‹æ¥æˆ‘ä»¬å‚è€ƒä¸‹Springçš„ClassUtilså®ç°ï¼Œåšä¸€ä¸ªç®€å•çš„å°è£…ï¼Œä»¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è¿™æ®µä»£ç æ¥è‡ªSpring</span>
<span class="token comment">// Source code recreated from a .class file by IntelliJ IDEA</span>
<span class="token comment">// (powered by FernFlower decompiler)</span>
<span class="token comment">//</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Array</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> Spring
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">ClassUtils</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> primitiveTypeNameMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> commonClassCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token class-name">String</span> className<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">,</span> <span class="token function">getDefaultClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessError</span> var3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Readability mismatch in inheritance hierarchy of class [&quot;</span> <span class="token operator">+</span> className <span class="token operator">+</span> <span class="token string">&quot;]: &quot;</span> <span class="token operator">+</span> var3<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> var3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> var4<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token class-name">String</span> className<span class="token punctuation">,</span> <span class="token class-name">ClassLoader</span> classLoader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessError</span> var3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Readability mismatch in inheritance hierarchy of class [&quot;</span> <span class="token operator">+</span> className <span class="token operator">+</span> <span class="token string">&quot;]: &quot;</span> <span class="token operator">+</span> var3<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> var3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> var4<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">forName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">ClassLoader</span> classLoader<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">LinkageError</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token function">resolvePrimitiveClassName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            clazz <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token punctuation">)</span> commonClassCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> clazz<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span> elementClass<span class="token punctuation">;</span>
            <span class="token class-name">String</span> elementName<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;[]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                elementName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&quot;[]&quot;</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                elementClass <span class="token operator">=</span> <span class="token function">forName</span><span class="token punctuation">(</span>elementName<span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>elementClass<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;[L&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                elementName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token string">&quot;[L&quot;</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                elementClass <span class="token operator">=</span> <span class="token function">forName</span><span class="token punctuation">(</span>elementName<span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>elementClass<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                elementName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                elementClass <span class="token operator">=</span> <span class="token function">forName</span><span class="token punctuation">(</span>elementName<span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>elementClass<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">ClassLoader</span> clToUse <span class="token operator">=</span> classLoader<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>classLoader <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    clToUse <span class="token operator">=</span> <span class="token function">getDefaultClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> clToUse<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> var9<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> lastDotIndex <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">46</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>lastDotIndex <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token class-name">String</span> innerClassName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> lastDotIndex<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token char">&#39;$&#39;</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>lastDotIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                        <span class="token keyword">try</span> <span class="token punctuation">{</span>
                            <span class="token keyword">return</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>innerClassName<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> clToUse<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> var8<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">throw</span> var9<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">resolvePrimitiveClassName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token punctuation">)</span> primitiveTypeNameMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ClassLoader</span> <span class="token function">getDefaultClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ClassLoader</span> cl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            cl <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContextClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> var3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cl <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cl <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cl <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    cl <span class="token operator">=</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> var2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> cl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å·¥å…·ç±»å­˜åœ¨ä¹‹åï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªç®€å•çš„jsonå·¥å…·ç±»ï¼Œæ ¹æ®å·²æœ‰çš„jsonåŒ…æ¥é€‰æ‹©å…·ä½“çš„å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">JsonApi</span> jsonApi<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">initJsonApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>jsonApi <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>jsonApi <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        jsonApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JacksonImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.google.gson.Gson&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        jsonApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GsonImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.alibaba.fastjson.JSONObject&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        jsonApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JacksonImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token string">&quot;no json framework to deserialize string! please import jackson|gson|fastjson&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * jsonè½¬å®ä½“ç±»ï¼Œä¼šæ ¹æ®å½“å‰å·²æœ‰çš„jsonæ¡†æ¶æ¥æ‰§è¡Œååºåˆ—åŒ–
     *
     * <span class="token keyword">@param</span> <span class="token parameter">str</span>
     * <span class="token keyword">@param</span> <span class="token parameter">t</span>
     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toObj</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">initJsonApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> jsonApi<span class="token punctuation">.</span><span class="token function">toObj</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">initJsonApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> jsonApi<span class="token punctuation">.</span><span class="token function">toStr</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°ä¸­ï¼Œæ ¹æ®å·²æœ‰çš„jsonåºåˆ—åŒ–å·¥å…·ï¼Œé€‰æ‹©å…·ä½“çš„å®ç°ç±»ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªJsonApiæ¥å£ï¼Œç„¶ååˆ†åˆ«gson,jackson,fastjsonç»™å‡ºé»˜è®¤çš„å®ç°ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">JsonApi</span> <span class="token punctuation">{</span>
    <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toObj</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clz<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FastjsonImpl</span> <span class="token keyword">implements</span> <span class="token class-name">JsonApi</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toObj</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> clz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GsonImpl</span> <span class="token keyword">implements</span> <span class="token class-name">JsonApi</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toObj</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gson<span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gson<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JacksonImpl</span> <span class="token keyword">implements</span> <span class="token class-name">JsonApi</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">ObjectMapper</span> jsonMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toObj</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> jsonMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> clz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> jsonMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åçš„é—®é¢˜æ¥äº†ï¼Œå¦‚æœè°ƒç”¨æ–¹å¹¶æ²¡æœ‰ä½¿ç”¨ä¸Šé¢ä¸‰ä¸ªåºåˆ—åŒ–å·¥å…·ï¼Œè€Œæ˜¯ä½¿ç”¨å…¶ä»–çš„å‘¢ï¼Œå¯ä»¥æ”¯æŒä¹ˆï¼Ÿ</p><p>æ—¢ç„¶æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªJsonApiï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥ç”±ç”¨æˆ·è‡ªå·±æ¥å®ç°æ¥å£ï¼Œç„¶åè‡ªåŠ¨é€‰æ‹©å®ƒå‘¢ï¼Ÿ</p><p>ç°åœ¨çš„é—®é¢˜å°±æ˜¯å¦‚ä½•æ‰¾åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„æ¥å£å®ç°äº†</p><h3 id="_1-3-æ‰©å±•æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-3-æ‰©å±•æœºåˆ¶" aria-hidden="true">#</a> 1.3. æ‰©å±•æœºåˆ¶</h3><p>å¯¹äºSPIæœºåˆ¶æ¯”è¾ƒç†Ÿæ‚‰çš„å°ä¼™ä¼´å¯èƒ½éå¸¸æ¸…æ¥šï¼Œå¯ä»¥é€šè¿‡åœ¨é…ç½®ç›®å½•<code>META-INF/services/</code>ä¸‹æ–°å¢æ¥å£æ–‡ä»¶ï¼Œå†…å®¹ä¸ºå®ç°ç±»çš„å…¨è·¯å¾„åç§°ï¼Œç„¶åé€šè¿‡ <code>ServiceLoader.load(JsonApi.class)</code> çš„æ–¹å¼æ¥è·å–æ‰€æœ‰å®ç°ç±»</p><p>é™¤äº†SPIçš„å®ç°æ–¹å¼ä¹‹å¤–ï¼Œå¦å¤–ä¸€ä¸ªç­–ç•¥åˆ™æ˜¯ä¸Šé¢æåˆ°çš„Springçš„å®ç°åŸç†ï¼Œå€ŸåŠ©å­—èŠ‚ç æ¥å¤„ç†ï¼ˆè¯¦æƒ…åŸç†åé¢ä¸“æ–‡è¯´æ˜ï¼‰</p><p>å½“ç„¶ä¹Ÿæœ‰æ›´å®¹æ˜“æƒ³åˆ°çš„ç­–ç•¥ï¼Œæ‰«æåŒ…è·¯å¾„ä¸‹çš„classæ–‡ä»¶ï¼Œéå†åˆ¤æ–­æ˜¯å¦ä¸ºå®ç°ç±»(é¢å¤–æ³¨æ„jaråŒ…å†…çš„å®ç°ç±»åœºæ™¯)</p><p>æ¥ä¸‹æ¥ä»¥SPIçš„æ–¹å¼æ¥ä»‹ç»ä¸‹æ‰©å±•å®ç°æ–¹å¼ï¼Œé¦–å…ˆåˆå§‹åŒ–JsonApiçš„æ–¹å¼æ”¹ä¸€ä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">initJsonApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>jsonApi <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>jsonApi <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ServiceLoader</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JsonApi</span><span class="token punctuation">&gt;</span></span> loader <span class="token operator">=</span> <span class="token class-name">ServiceLoader</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">JsonApi</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">JsonApi</span> value <span class="token operator">:</span> loader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    jsonApi <span class="token operator">=</span> value<span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    jsonApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JacksonImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.google.gson.Gson&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    jsonApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GsonImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.alibaba.fastjson.JSONObject&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    jsonApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JacksonImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token string">&quot;no json framework to deserialize string! please import jackson|gson|fastjson&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºä½¿ç”¨è€…è€Œè¨€ï¼Œé¦–å…ˆæ˜¯å®ç°æ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hui<span class="token punctuation">.</span>quick<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hui<span class="token punctuation">.</span>quick<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>qrcode<span class="token punctuation">.</span>util<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JsonApi</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoJsonImpl</span> <span class="token keyword">implements</span> <span class="token class-name">JsonApi</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">toObj</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">String</span> <span class="token function">toStr</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€å°±æ˜¯å®ç°å®šä¹‰, <code>resources/META-INF/services/</code> ç›®å½•ä¸‹ï¼Œæ–°å»ºæ–‡ä»¶åä¸º <code>com.github.hui.quick.plugin.qrcode.util.json.JsonApi</code></p><p>å†…å®¹å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>com.github.hui.quick.plugin.test.DemoJsonImpl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åå®Œå·¥~</p><h2 id="_2-å°ç»“-6" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-6" aria-hidden="true">#</a> 2. å°ç»“</h2><p>ä¸»è¦ä»‹ç»ä¸€ä¸ªå°çš„çŸ¥è¯†ç‚¹ï¼Œå¦‚ä½•æ ¹æ®åº”ç”¨å·²æœ‰çš„jaråŒ…æ¥é€‰æ‹©å…·ä½“çš„å®ç°ç±»çš„æ–¹å¼ï¼›æœ¬æ–‡ä»‹ç»çš„æ–¹æ¡ˆæ˜¯é€šè¿‡ClassLoaderæ¥å°è¯•åŠ è½½å¯¹åº”çš„ç±»ï¼Œè‹¥èƒ½æ­£å¸¸åŠ è½½ï¼Œåˆ™è®¤ä¸ºæœ‰ï¼›å¦åˆ™è®¤ä¸ºæ²¡æœ‰ï¼›è¿™ç§å®ç°æ–¹å¼è™½ç„¶éå¸¸ç®€å•ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œå®ƒæ˜¯æœ‰ç¼ºé™·çš„ï¼Œè‡³äºç¼ºé™·æ˜¯å•¥...</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘é€šè¿‡å­—èŠ‚ç çš„æ–¹å¼æ¥åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªç±»ï¼Œæˆ–è€…è·å–æŸä¸ªæ¥å£çš„å®ç°ï¼›æ–‡ä¸­æœ€åæŠ›å‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è·å–æ¥å£çš„æ‰€æœ‰å®ç°ç±»</p><p>å¸¸è§çš„æ–¹å¼æœ‰ä¸‹é¢ä¸‰ç±»ï¼ˆå…·ä½“ä»‹ç»äº†SPIçš„å®ç°å§¿åŠ¿ï¼Œå…¶ä»–çš„ä¸¤ç§æ„Ÿå…´è¶£çš„å¯ä»¥æœç´¢ä¸€ä¸‹ï¼‰</p><ul><li>SPIå®šä¹‰æ–¹å¼</li><li>æ‰«æåŒ…è·¯å¾„</li><li>å­—èŠ‚ç æ–¹å¼(å¦‚Springï¼Œå¦‚Tomcatçš„<code>@HandlesTypes</code>)</li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜24-åŸºäºjdkçš„lruç®—æ³•å®ç°" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜24-åŸºäºjdkçš„lruç®—æ³•å®ç°" aria-hidden="true">#</a> å®æˆ˜24ï¼š åŸºäºJDKçš„LRUç®—æ³•å®ç°</h1><h2 id="_1-lruç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_1-lruç®—æ³•" aria-hidden="true">#</a> 1. LRUç®—æ³•</h2><p>ç¼“å­˜æ·˜æ±°ç®—æ³•--LRUç®—æ³•LRUï¼ˆLeast recently usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç®—æ³•</p><p>æ ¹æ®æ•°æ®çš„å†å²è®¿é—®è®°å½•æ¥è¿›è¡Œæ·˜æ±°æ•°æ®ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯&quot;å¦‚æœæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå°†æ¥è¢«è®¿é—®çš„å‡ ç‡ä¹Ÿæ›´é«˜&quot;</p><p>å†Javaä¸­å¯ä»¥éå¸¸ç®€å•çš„å®ç°LRUç®—æ³•ï¼Œä¸»è¦åˆ©ç”¨çš„æ˜¯LinkedHashMapå®¹å™¨</p><h3 id="_1-1-lruç®—æ³•å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-1-lruç®—æ³•å®ç°" aria-hidden="true">#</a> 1.1 LRUç®—æ³•å®ç°</h3><p>inkedHashMapåº•å±‚å°±æ˜¯ç”¨çš„HashMapåŠ åŒé“¾è¡¨å®ç°çš„ï¼Œè€Œä¸”æœ¬èº«å·²ç»å®ç°äº†æŒ‰ç…§è®¿é—®é¡ºåºçš„å­˜å‚¨ã€‚æ­¤å¤–ï¼ŒLinkedHashMapä¸­æœ¬èº«å°±å®ç°äº†ä¸€ä¸ªæ–¹æ³•removeEldestEntryç”¨äºåˆ¤æ–­æ˜¯å¦éœ€è¦ç§»é™¤æœ€ä¸å¸¸è¯»å–çš„æ•°ï¼Œæ–¹æ³•é»˜è®¤æ˜¯ç›´æ¥è¿”å›falseï¼Œä¸ä¼šç§»é™¤å…ƒç´ </p><p>å› æ­¤æˆ‘ä»¬åªéœ€è¦é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥å®ç°å½“ç¼“å­˜æ»¡ä¹‹åï¼Œå°±ç§»é™¤æœ€ä¸å¸¸ç”¨çš„æ•°æ®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LruCache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">LruCache</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">0.75f</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">boolean</span> <span class="token function">removeEldestEntry</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> eldest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å½“å…ƒç´ ä¸ªæ•°ï¼Œè¶…è¿‡æŒ‡å®šçš„å¤§å°æ—¶ï¼Œæ·˜æ±°æœ€è€çš„æ•°æ®</span>
        <span class="token keyword">return</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> size<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LruCache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LruCache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸€ç°ç°blog_2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸€ç°ç°blog_&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> cache<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cache<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸Šé¢çš„è®¿é—®ï¼Œå½“i == 6 æ—¶ï¼Œä¸»åŠ¨è®¿é—®äº†ä¸€ä¸‹ <code>ä¸€ç°ç°blog_2</code>ï¼Œä¸»è¦å°±æ˜¯ä¸å¸Œæœ›æ·˜æ±°æ‰å®ƒï¼Œå†çœ‹ä¸‹å¯¹åº”çš„è¾“å‡º</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0:{ä¸€ç°ç°blog_0=0}
1:{ä¸€ç°ç°blog_0=0, ä¸€ç°ç°blog_1=1}
2:{ä¸€ç°ç°blog_0=0, ä¸€ç°ç°blog_1=1, ä¸€ç°ç°blog_2=2}
3:{ä¸€ç°ç°blog_0=0, ä¸€ç°ç°blog_1=1, ä¸€ç°ç°blog_2=2, ä¸€ç°ç°blog_3=3}
4:{ä¸€ç°ç°blog_1=1, ä¸€ç°ç°blog_2=2, ä¸€ç°ç°blog_3=3, ä¸€ç°ç°blog_4=4}
5:{ä¸€ç°ç°blog_2=2, ä¸€ç°ç°blog_3=3, ä¸€ç°ç°blog_4=4, ä¸€ç°ç°blog_5=5}
6:{ä¸€ç°ç°blog_4=4, ä¸€ç°ç°blog_5=5, ä¸€ç°ç°blog_2=2, ä¸€ç°ç°blog_6=6}
7:{ä¸€ç°ç°blog_5=5, ä¸€ç°ç°blog_2=2, ä¸€ç°ç°blog_6=6, ä¸€ç°ç°blog_7=7}
4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…è¾“å‡ºä¸æˆ‘ä»¬é¢„æœŸä¸€è‡´</p><h3 id="_1-2-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_1-2-å°ç»“" aria-hidden="true">#</a> 1.2 å°ç»“</h3><p>jdkä¸­è•´å«äº†å¤§é‡çš„è´¢å¯Œï¼Œå°±çœ‹æˆ‘ä»¬èƒ½ä¸èƒ½è¯†åˆ«å‡ºæ¥äº†ï¼›é€šå¸¸æˆ‘éå¸¸æ¨è&lt;3å¹´çš„å°ä¼™ä¼´ï¼Œæœ‰äº‹æ²¡äº‹å¤šç›˜ä¸€ä¸‹jdkçš„ç»å…¸å®ç°ï¼Œæ¯”å¦‚å„ç§å®¹å™¨çš„åº•å±‚ç»“æ„ï¼Œå¹¶å‘ç±»çš„è®¾è®¡æ€æƒ³ç­‰</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜25-æ•°å­—å‹å­—é¢é‡ä¸­çš„ä¸‹åˆ’çº¿" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜25-æ•°å­—å‹å­—é¢é‡ä¸­çš„ä¸‹åˆ’çº¿" aria-hidden="true">#</a> å®æˆ˜25ï¼š æ•°å­—å‹å­—é¢é‡ä¸­çš„ä¸‹åˆ’çº¿</h1><p>ä¸çŸ¥é“æœ‰æ²¡æœ‰å°ä¼™ä¼´çœ‹è¿‡ä¸‹é¢è¿™ç§å†™æ³•ï¼Œä¸ç”¨è´¨ç–‘ï¼Œå®ƒæ²¡æœ‰è¯­æ³•é”™è¯¯ï¼›å†å¾ˆå¤šå¼€æºçš„æ¡†æ¶ä¸­å¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„å†™æ³•ï¼›è¿™ç§å†å­—é¢é‡ä¸­æ·»åŠ ä¸‹åˆ’çº¿çš„æ–¹å¼ï¼Œæ˜¯ä¸€ç§å°å´ä½¿ç”¨çš„ç¼–ç¨‹å°æŠ€å·§ï¼Œæ¨èç»™CURDå¼€å‘è€…</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">long</span> price <span class="token operator">=</span> <span class="token number">1_000_123L</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!-- more --><h2 id="_1-java7æ–°ç‰¹æ€§ä¹‹æ•°å­—ä¸­ä½¿ç”¨ä¸‹åˆ’çº¿" tabindex="-1"><a class="header-anchor" href="#_1-java7æ–°ç‰¹æ€§ä¹‹æ•°å­—ä¸­ä½¿ç”¨ä¸‹åˆ’çº¿" aria-hidden="true">#</a> 1. Java7æ–°ç‰¹æ€§ä¹‹æ•°å­—ä¸­ä½¿ç”¨ä¸‹åˆ’çº¿</h2><p>ä¸ºäº†ç›´è§‚æ€§è€Œè¨€ï¼Œåœ¨å¤§æ•°ä¹‹é—´ï¼ŒåŠ ä¸Šä¸‹åˆ’çº¿ç”¨äºè‚‰çœ¼åŒºåˆ†ï¼Œä¸‹é¢å®ä¾‹å°ç»“ä¸‹ç”¨æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">float</span> pi1 <span class="token operator">=</span> <span class="token number">3_.1415F</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆçš„; ä¸èƒ½åœ¨å°æ•°ç‚¹ä¹‹å‰æœ‰ä¸‹åˆ’çº¿</span>
<span class="token keyword">float</span> pi2 <span class="token operator">=</span> <span class="token number">3._1415F</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆçš„; ä¸èƒ½åœ¨å°æ•°ç‚¹ä¹‹åæœ‰ä¸‹åˆ’çº¿</span>
<span class="token keyword">long</span> socialSecurityNumber1 <span class="token operator">=</span> <span class="token number">999_99_9999_L</span><span class="token punctuation">;</span> <span class="token comment">//æ— æ•ˆçš„ï¼Œä¸èƒ½åœ¨Lä¸‹æ ‡ä¹‹å‰åŠ ä¸‹åˆ’çº¿</span>
<span class="token keyword">int</span> a1 <span class="token operator">=</span> _52<span class="token punctuation">;</span> <span class="token comment">// è¿™æ˜¯ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦ï¼Œä¸æ˜¯ä¸ªæ•°å­—</span>
<span class="token keyword">int</span> a2 <span class="token operator">=</span> <span class="token number">5_2</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰æ•ˆ</span>
<span class="token keyword">int</span> a3 <span class="token operator">=</span> <span class="token number">52_</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆçš„ï¼Œä¸èƒ½ä»¥ä¸‹åˆ’çº¿ç»“å°¾</span>
<span class="token keyword">int</span> a4 <span class="token operator">=</span> <span class="token number">5_______2</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰æ•ˆçš„</span>
<span class="token keyword">int</span> a5 <span class="token operator">=</span> <span class="token number">0_</span>x52<span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆï¼Œä¸èƒ½åœ¨0xä¹‹é—´æœ‰ä¸‹åˆ’çº¿</span>
<span class="token keyword">int</span> a6 <span class="token operator">=</span> <span class="token number">0x_52</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆçš„ï¼Œä¸èƒ½åœ¨æ•°å­—å¼€å¤´æœ‰ä¸‹åˆ’çº¿</span>
<span class="token keyword">int</span> a7 <span class="token operator">=</span> <span class="token number">0x5_2</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰æ•ˆçš„ (16è¿›åˆ¶æ•°å­—)</span>
<span class="token keyword">int</span> a8 <span class="token operator">=</span> <span class="token number">0x52_</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆçš„ï¼Œä¸èƒ½ä»¥ä¸‹åˆ’çº¿ç»“å°¾</span>
<span class="token keyword">int</span> a9 <span class="token operator">=</span> <span class="token number">0_52</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰æ•ˆçš„ï¼ˆ8è¿›åˆ¶æ•°ï¼‰</span>
<span class="token keyword">int</span> a10 <span class="token operator">=</span> <span class="token number">05_2</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰æ•ˆçš„ï¼ˆ8è¿›åˆ¶æ•°ï¼‰</span>
<span class="token keyword">int</span> a11 <span class="token operator">=</span> <span class="token number">052_</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆçš„ï¼Œä¸èƒ½ä»¥ä¸‹åˆ’çº¿ç»“å°¾</span>

<span class="token keyword">long</span> creditCardNumber <span class="token operator">=</span> <span class="token number">6684_5678_9012_3456l</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> socialSecurityNumber <span class="token operator">=</span> <span class="token number">333_99_9999l</span><span class="token punctuation">;</span> 
<span class="token keyword">float</span> pi <span class="token operator">=</span> <span class="token number">3.14_15F</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> hexBytes <span class="token operator">=</span> <span class="token number">0xFF_EC_DE_5E</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> hexWords <span class="token operator">=</span> <span class="token number">0xCAFE_BABE</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> maxLong <span class="token operator">=</span> <span class="token number">0</span>x7fff_ffff_ffff_ffffL<span class="token punctuation">;</span>
<span class="token keyword">byte</span> nybbles <span class="token operator">=</span> <span class="token number">0b0010_0101</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> bytes <span class="token operator">=</span> <span class="token number">0b11010010_01101001_10010100_10010010</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨æ•°ä¸­é—´ï¼Œæ’ä¸Šä¸‹åˆ’çº¿ï¼Œç”¨äºåˆ’åˆ†æ®µè½</p><h2 id="_2-å°ç»“-7" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-7" aria-hidden="true">#</a> 2. å°ç»“</h2><p>å†å­—é¢é‡ä¸­æ·»åŠ ä¸‹åˆ’çº¿ï¼Œä¸»è¦ç”¨äºåˆ†å‰²å¤§æ•°ï¼Œæ–¹ä¾¿é˜…è¯»ï¼Œé‡ç‚¹æ³¨æ„ï¼š</p><ul><li>ä¸èƒ½åœ¨å°æ•°ç‚¹æ­£å‰åæ·»åŠ </li><li>ä¸è¦åœ¨L/D/Fç­‰æ•°æ®ç±»å‹æ ‡è¯†çš„æ­£å‰æ–¹æ·»åŠ </li><li>ä¸èƒ½ä½œä¸ºæ•°å­—å¼€å¤´ï¼Œä¹Ÿä¸èƒ½ä½œä¸ºç»“å°¾</li><li>ä¸è¦å¾€è¿›åˆ¶ä¿®é¥°ç¬¦ä¸­é—´æˆ–åé¢æ·»åŠ </li></ul><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜26-åˆ—è¡¨éå†åˆ é™¤ä½¿ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜26-åˆ—è¡¨éå†åˆ é™¤ä½¿ç”¨å®ä¾‹" aria-hidden="true">#</a> å®æˆ˜26ï¼šåˆ—è¡¨éå†åˆ é™¤ä½¿ç”¨å®ä¾‹</h1><p>åœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œå®¹å™¨çš„éå†å¯ä»¥è¯´æ˜¯éå¸¸éå¸¸å¸¸è§çš„åœºæ™¯äº†ï¼Œéå†åˆ é™¤å‘¢ï¼Œç”¨çš„æœºä¼šä¹Ÿä¸ä¼šå°‘ï¼Œä½†ä½ çœŸçš„ä¼šç”¨ä¹ˆï¼Ÿ</p><!-- more --><h2 id="_1-listéå†åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_1-listéå†åˆ é™¤" aria-hidden="true">#</a> 1. Listéå†åˆ é™¤</h2><p>å¯¹äºåˆ—è¡¨ï¼Œè¿™é‡Œä»¥ArrayListè¿›è¡Œä¸¾ä¾‹è¯´æ˜ï¼Œä¸‹é¢ç»™å‡ºå‡ ç§ç»å¸¸ä¼šé‡åˆ°çš„å†™æ³•</p><p>é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªlistæ•°ç»„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot;&gt;index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-foreach" tabindex="-1"><a class="header-anchor" href="#_1-1-foreach" aria-hidden="true">#</a> 1.1. foreach</h3><p>è¿™ä¸ªå±äºæˆ‘ä»¬æœ€å¸¸è§çš„foreachå¾ªç¯ï¼Œåœ¨å¾ªç¯å†…éƒ¨åˆ¤æ–­æ»¡è¶³æ¡ä»¶çš„ç›´æ¥åˆ é™¤</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> id <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ç§å†™æ³•å¯¼è‡´çš„é—®é¢˜ï¼Œå¾ˆå®¹æ˜“å¯ä»¥å‘ç°ï¼Œå› ä¸ºä¸Šé¢ä»£ç è·‘å®Œä¹‹åï¼Œå †æ ˆå°±å‡ºæ¥äº†</p><figure><img src="https://blog.hhui.top/hexblog/imgs/190521/00.jpg" alt="IMAGE" tabindex="0" loading="lazy"><figcaption>IMAGE</figcaption></figure><p>å¾ˆå…¸å‹çš„å¹¶å‘ä¿®æ”¹é”™è¯¯ï¼Œåœ¨foreachå¾ªç¯ä¸­ä¸å…è®¸åˆ é™¤,æ–°å¢</p><h3 id="_1-2-æ™®é€šforå¾ªç¯" tabindex="-1"><a class="header-anchor" href="#_1-2-æ™®é€šforå¾ªç¯" aria-hidden="true">#</a> 1.2. æ™®é€šforå¾ªç¯</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ç§å†™æ³•å‘¢ï¼Ÿæˆ‘ä»¬å¸Œæœ›æŠŠåˆ—è¡¨ä¸­ï¼Œç¬¬0ï¼Œ5ï¼Œ10ï¼Œ15ä½ç½®çš„å…ƒç´ å¹²æ‰ï¼Œæ­£å¸¸æ‰§è¡Œï¼Œå€’æ˜¯ä¸ä¼šæŠ¥é”™ï¼Œç„¶è€Œè¾“å‡ºçš„ç»“æœå´å’Œæˆ‘ä»¬çš„é¢„æœŸä¸ä¸€è‡´</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[1&gt;index, 2&gt;index, 3&gt;index, 4&gt;index, 5&gt;index, 7&gt;index, 8&gt;index, 9&gt;index, 10&gt;index, 11&gt;index, 13&gt;index, 14&gt;index, 15&gt;index, 16&gt;index, 17&gt;index, 19&gt;index]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>forå¾ªç¯ä¸­ï¼Œå¦å¤–ä¸€ç§å†™æ³•å¯èƒ½æ›´åŠ å¸¸è§ï¼Œä¸ºäº†é¿å…æ¯æ¬¡éƒ½è®¿é—® <code>list.size()</code> æ–¹æ³•ï¼Œæˆ‘å¯èƒ½æå‰ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜æ•°ç»„å¤§å°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªé—®é¢˜å°±å¾ˆæ˜æ˜¾äº†ï¼Œæ•°ç»„è¶Šç•Œ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2&gt;index3&gt;index4&gt;index5&gt;index8&gt;index9&gt;index10&gt;index11&gt;index14&gt;index15&gt;index16&gt;index17&gt;indexException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 16, Size: 16
  at java.util.ArrayList.rangeCheck(ArrayList.java:659)
  at java.util.ArrayList.get(ArrayList.java:435)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-è¿­ä»£æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-3-è¿­ä»£æ–¹å¼" aria-hidden="true">#</a> 1.3. è¿­ä»£æ–¹å¼</h3><p>ä¸‹é¢è¿™ç§å¯ä»¥è¯´æ˜¯æ ‡å‡†çš„è¿­ä»£åˆ é™¤çš„å†™æ³•äº†ï¼ŒåŸºæœ¬ä¸Šå¤§å¤šéƒ½æ˜¯è¿™ä¹ˆç©</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> tmp <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iterator<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-4-jdk8-æµæ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-4-jdk8-æµæ–¹å¼" aria-hidden="true">#</a> 1.4. jdk8+ æµæ–¹å¼</h3><p>jdk8+ æ¨èä¸‹é¢è¿™ç§å†™æ³•ï¼Œç®€æ´æ˜äº†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-8" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-8" aria-hidden="true">#</a> 2. å°ç»“</h2><p>æ³¨æ„ä¸è¦åœ¨for/foreachéå†è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ ï¼Œå¦‚æœæœ‰ç§»é™¤å…ƒç´ çš„éœ€æ±‚ï¼Œä½¿ç”¨è¿­ä»£å™¨ï¼›æˆ–è€…ä½¿ç”¨jdk8çš„æµå¼å†™æ³•ä¹Ÿè¡Œ</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜27-hashmapéå†åˆ é™¤ä½¿ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜27-hashmapéå†åˆ é™¤ä½¿ç”¨å®ä¾‹" aria-hidden="true">#</a> å®æˆ˜27ï¼šHashMapéå†åˆ é™¤ä½¿ç”¨å®ä¾‹</h1><p>mapçš„è¿­ä»£åˆ é™¤ï¼Œå’Œæˆ‘ä»¬å¸¸è§çš„listï¼Œsetä¸å¤ªä¸€æ ·ï¼Œä¸èƒ½ç›´æ¥è·å–Iteraotrå¯¹è±¡ï¼Œæä¾›çš„åˆ é™¤æ–¹æ³•ä¹Ÿæ˜¯å•ä¸ªçš„ï¼Œæ ¹æ®keyè¿›è¡Œåˆ é™¤ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸ªéœ€æ±‚ï¼Œå°†mapä¸­æ»¡è¶³æŸäº›æ¡ä»¶çš„å…ƒç´ åˆ é™¤æ‰ï¼Œè¦æ€ä¹ˆåšå‘¢ï¼Ÿ</p><!-- more --><h2 id="_1-map-è¿­ä»£åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_1-map-è¿­ä»£åˆ é™¤" aria-hidden="true">#</a> 1. Map è¿­ä»£åˆ é™¤</h2><p>è¿­ä»£åˆ é™¤ï¼Œåœ¨ä¸è€ƒè™‘å¹¶å‘å®‰å…¨çš„å‰æä¸‹ï¼Œæˆ‘ä»¬çœ‹ä¸‹å¯ä»¥æ€ä¹ˆæ”¯æŒ</p><h3 id="_1-1-éå¸¸ä¸ä¼˜é›…ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#_1-1-éå¸¸ä¸ä¼˜é›…ç‰ˆæœ¬" aria-hidden="true">#</a> 1.1. éå¸¸ä¸ä¼˜é›…ç‰ˆæœ¬</h3><p>æˆ‘ä»¬çŸ¥é“mapå¹¶ä¸æ˜¯ç»§æ‰¿è‡ªCollectionæ¥å£çš„ï¼ŒHashMap ä¹Ÿæ²¡æœ‰æä¾›è¿­ä»£æ”¯æŒï¼Œæ—¢ç„¶æ²¡æ³•ç›´æ¥è¿­ä»£ï¼Œé‚£æˆ‘å°±è€è€å®çš„low bç‰ˆå¥½äº†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> removeKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> e<span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      removeKey<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
removeKey<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>map<span class="token operator">::</span><span class="token function">remove</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°æ€ä¹ˆæ ·ï¼Ÿå¹¶æ²¡æœ‰ä»€ä¹ˆæ¯›ç—…</p><p>(ä¸ºå•¥ä¸ç›´æ¥åœ¨éå†ä¸­åˆ é™¤ï¼Ÿï¼‰</p><h3 id="_1-2-æ­£ç¡®å§¿åŠ¿ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#_1-2-æ­£ç¡®å§¿åŠ¿ç‰ˆ" aria-hidden="true">#</a> 1.2. æ­£ç¡®å§¿åŠ¿ç‰ˆ</h3><p>è™½ç„¶Mapæ²¡æœ‰è¿­ä»£ï¼Œä½†æ˜¯å®ƒçš„entrySetæœ‰å•Šï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥å®ç°éå†åˆ é™¤</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> entry<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    entry <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iterator<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªå¯èƒ½æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„æ“ä½œå§¿åŠ¿äº†ï¼Œåˆ©ç”¨è¿­ä»£å™¨æ¥æ“ä½œå…ƒç´ </p><h3 id="_1-3-ç®€æ´ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#_1-3-ç®€æ´ç‰ˆ" aria-hidden="true">#</a> 1.3. ç®€æ´ç‰ˆ</h3><p>åˆ°jdk8ä¹‹åï¼Œé’ˆå¯¹å®¹å™¨æä¾›äº†å¾ˆå¤šç®€æ´çš„æ“ä½œæ–¹å¼ï¼Œè¿­ä»£åˆ é™¤è¿™æ–¹é¢å¯ä»¥è¯´æ›´åŠ ç®€å•äº†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>entry <span class="token operator">-&gt;</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-9" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-9" aria-hidden="true">#</a> 2. å°ç»“</h2><p>å’Œåˆ—è¡¨åˆ é™¤å…ƒç´ ä¸€æ ·ï¼Œä¸è¦åœ¨for/foreachè¿­ä»£è¿‡ç¨‹ä¸­åˆ é™¤æ•°æ®ï¼Œå¦‚æœ‰éœ€è¦ï¼Œè¿­ä»£å™¨æ‰æ˜¯æ­£è§£ï¼›jdk8ä¹‹åæ›´æ¨èæµå¼å†™æ³•</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜28-ä¼˜é›…çš„å®ç°ä»£ç è€—æ—¶ç»Ÿè®¡" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜28-ä¼˜é›…çš„å®ç°ä»£ç è€—æ—¶ç»Ÿè®¡" aria-hidden="true">#</a> å®æˆ˜28ï¼šä¼˜é›…çš„å®ç°ä»£ç è€—æ—¶ç»Ÿè®¡</h1><p>åœ¨æˆ‘ä»¬çš„å®é™…å¼€å‘ä¸­ï¼Œå¤šå¤šå°‘å°‘ä¼šé‡åˆ°ç»Ÿè®¡ä¸€æ®µä»£ç ç‰‡æ®µçš„è€—æ—¶çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬çš„å†™æ³•å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// .... å…·ä½“çš„ä»£ç æ®µ</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cost: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å†™æ³•æ²¡æœ‰ä»€ä¹ˆæ¯›ç—…ï¼Œä½†æ˜¯çœ‹èµ·æ¥å°±ä¸å¤ªç¾è§‚äº†ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæ›´ä¼˜é›…çš„å†™æ³•å‘¢ï¼Ÿ</p><!-- more --><h2 id="_1-ä»£ç†æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-ä»£ç†æ–¹å¼" aria-hidden="true">#</a> 1. ä»£ç†æ–¹å¼</h2><p>äº†è§£Spring AOPçš„åŒå­¦å¯èƒ½ç«‹é©¬ä¼šæƒ³åˆ°ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼Œå¦‚æœæƒ³è¦ç»Ÿè®¡æŸä¸ªæ–¹æ³•è€—æ—¶ï¼Œä½¿ç”¨åˆ‡é¢å¯ä»¥æ— ä¾µå…¥çš„å®ç°ï¼Œå¦‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å®šä¹‰åˆ‡ç‚¹ï¼Œæ‹¦æˆªæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ–¹æ³•</span>
<span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(public * com.git.hui.boot.aop.demo.*.*(*))&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">point</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;point()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">doAround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cost: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spring AOPçš„åº•å±‚æ”¯æŒåŸç†ä¸ºä»£ç†æ¨¡å¼ï¼Œä¸ºç›®æ ‡å¯¹è±¡æä¾›å¢å¼ºåŠŸèƒ½ï¼›åœ¨Springçš„ç”Ÿæ€ä½“ç³»ä¸‹ï¼Œä½¿ç”¨aopçš„æ–¹å¼æ¥ç»Ÿè®¡æ–¹æ³•è€—æ—¶ï¼Œå¯ä»¥è¯´å°‘ä¾µå…¥ä¸”å®ç°ç®€å•ï¼Œä½†æ˜¯æœ‰ä»¥ä¸‹å‡ ä¸ªé—®é¢˜</p><ul><li>ç»Ÿè®¡ç²’åº¦ä¸ºæ–¹æ³•çº§åˆ«</li><li>ç±»å†…éƒ¨æ–¹æ³•è°ƒç”¨æ— æ³•ç”Ÿæ•ˆï¼ˆè¯¦æƒ…å¯ä»¥å‚è€ƒåšæ–‡ï¼š<a href="http://spring.hhui.top/spring-blog/2019/03/02/190302-SpringBoot%E5%9F%BA%E7%A1%80%E7%AF%87AOP%E4%B9%8B%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8%E6%8A%80%E8%83%BD/" target="_blank" rel="noopener noreferrer">ã€SpringBoot åŸºç¡€ç³»åˆ—æ•™ç¨‹ã€‘AOPä¹‹é«˜çº§ä½¿ç”¨æŠ€èƒ½<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰</li></ul><h2 id="_2-autocloseable" tabindex="-1"><a class="header-anchor" href="#_2-autocloseable" aria-hidden="true">#</a> 2. AutoCloseable</h2><p>åœ¨JDK1.7å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ¥å£<code>AutoCloseable</code>, é€šå¸¸å®ƒçš„å®ç°ç±»é…åˆ<code>try{}</code>ä½¿ç”¨ï¼Œå¯åœ¨IOæµçš„ä½¿ç”¨ä¸Šï¼Œç»å¸¸å¯ä»¥çœ‹åˆ°ä¸‹é¢è¿™ç§å†™æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è¯»å–æ–‡ä»¶å†…å®¹å¹¶è¾“å‡º</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Reader</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;/tmp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">BufferedReader</span><span class="token punctuation">)</span> stream<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸Šé¢çš„å†™æ³•ä¸­ï¼Œæœ€å€¼å¾—å…³æ³¨ä¸€ç‚¹æ˜¯ï¼Œä¸éœ€è¦å†ä¸»åŠ¨çš„å†™<code>stream.close</code>äº†ï¼Œä¸»è¦åŸå› å°±æ˜¯åœ¨<code>try(){}</code>æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä¼šè°ƒç”¨æ–¹æ³•<code>AutoCloseable#close</code>æ–¹æ³•ï¼›</p><p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬å°±ä¼šæœ‰ä¸€ä¸ªå¤§å•çš„æƒ³æ³•ï¼Œä¸‹ä¸€ä¸ª<code>Cost</code>ç±»å®ç°<code>AutoCloseable</code>æ¥å£ï¼Œåˆ›å»ºæ—¶è®°å½•ä¸€ä¸ªæ—¶é—´ï¼Œcloseæ–¹æ³•ä¸­è®°å½•ä¸€ä¸ªæ—¶é—´ï¼Œå¹¶è¾“å‡ºæ—¶é—´å·®å€¼ï¼›å°†éœ€è¦ç»Ÿè®¡è€—æ—¶çš„é€»è¾‘æ”¾å…¥<code>try(){}</code>ä»£ç å—</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ç°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Cost</span> <span class="token keyword">implements</span> <span class="token class-name">AutoCloseable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> start<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cost: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Cost</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">testPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------over-------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œåè¾“å‡ºå¦‚ä¸‹:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>now 0
now 1
now 2
now 3
now 4
cost: 55
------over-------
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä»£ç å—æŠ›å¼‚å¸¸ï¼Œä¹Ÿä¼šæ­£å¸¸è¾“å‡ºè€—æ—¶ä¹ˆï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;now &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;some exception!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†æ¬¡è¾“å‡ºå¦‚ä¸‹ï¼Œå¹¶æ²¡æœ‰é—®é¢˜</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>now 0
now 1
now 2
now 3
cost: 46
Exception in thread &quot;main&quot; java.lang.RuntimeException: some exception!
  at com.git.hui.boot.order.Application.testPrint(Application.java:43)
  at com.git.hui.boot.order.Application.main(Application.java:50)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-å°ç»“-3" tabindex="-1"><a class="header-anchor" href="#_3-å°ç»“-3" aria-hidden="true">#</a> 3. å°ç»“</h2><p>é™¤äº†ä¸Šé¢ä»‹ç»çš„ä¸¤ç§æ–¹å¼ï¼Œè¿˜æœ‰ä¸€ç§åœ¨ä¸šåŠ¡å¼€å‘ä¸­ä¸å¤ªå¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸­é—´ä»¶ã€ååŸºç¡€æœåŠ¡çš„åŠŸèƒ½ç»„ä»¶ä¸­å¯ä»¥çœ‹åˆ°ï¼Œåˆ©ç”¨Java Agentæ¢é’ˆæŠ€æœ¯æ¥å®ç°ï¼Œæ¯”å¦‚é˜¿é‡Œçš„arthaså°±æ˜¯åœ¨JavaAgentçš„åŸºç¡€ä¸Šåšäº†å„ç§ä¸Šå¤©çš„åŠŸèƒ½ï¼Œåç»­ä»‹ç»javaæ¢é’ˆæŠ€æœ¯æ—¶ä¼šä¸“é—¨ä»‹ç»</p><p>ä¸‹é¢å°ç»“ä¸€ä¸‹ä¸‰ç§ç»Ÿè®¡è€—æ—¶çš„æ–¹å¼</p><p><strong>åŸºæœ¬å†™æ³•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// .... å…·ä½“çš„ä»£ç æ®µ</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cost: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œé€‚ç”¨èŒƒå›´å¹¿æ³›ï¼›ç¼ºç‚¹æ˜¯ä¾µå…¥æ€§å¼ºï¼Œå¤§é‡çš„é‡å¤ä»£ç </p><p><strong>Spring AOP</strong></p><p>åœ¨Springç”Ÿæ€ä¸‹ï¼Œå¯ä»¥å€ŸåŠ©AOPæ¥æ‹¦æˆªç›®æ ‡æ–¹æ³•ï¼Œç»Ÿè®¡è€—æ—¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">doAround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cost: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼˜ç‚¹ï¼šæ— ä¾µå…¥ï¼Œé€‚åˆç»Ÿä¸€ç®¡ç†ï¼ˆæ¯”å¦‚æµ‹è¯•ç¯å¢ƒè¾“å‡ºç»Ÿè®¡è€—æ—¶ï¼Œç”Ÿäº§ç¯å¢ƒä¸è¾“å‡ºï¼‰ï¼›ç¼ºç‚¹æ˜¯é€‚ç”¨èŒƒå›´å°ï¼Œä¸”ç²’åº¦ä¸ºæ–¹æ³•çº§åˆ«ï¼Œå¹¶å—é™äºAOPçš„ä½¿ç”¨èŒƒå›´</p><p><strong>AutoCloseable</strong></p><p>è¿™ç§æ–¹å¼å¯ä»¥çœ‹åšæ˜¯ç¬¬ä¸€ç§å†™æ³•çš„è¿›é˜¶ç‰ˆ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å®šä¹‰ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Cost</span> <span class="token keyword">implements</span> <span class="token class-name">AutoCloseable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> start<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cost: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨å§¿åŠ¿</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Cost</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼˜ç‚¹æ˜¯ï¼šç®€å•ï¼Œé€‚ç”¨èŒƒå›´å¹¿æ³›ï¼Œä¸”é€‚åˆç»Ÿä¸€ç®¡ç†ï¼›ç¼ºç‚¹æ˜¯ä¾ç„¶æœ‰ä»£ç ä¾µå…¥</p><p><strong>è¯´æ˜</strong></p><p>ä¸Šé¢ç¬¬äºŒç§æ–¹æ³•çœ‹ç€å±äºæœ€ä¼˜é›…çš„æ–¹å¼ï¼Œä½†æ˜¯é™åˆ¶æ€§å¼ºï¼›å¦‚æœæœ‰æ›´çµæ´»çš„éœ€æ±‚ï¼Œå»ºè®®è€ƒè™‘ç¬¬ä¸‰ç§å†™æ³•ï¼Œåœ¨ä»£ç çš„ç®€æ´æ€§å’Œç»Ÿä¸€ç®¡ç†ä¸Šéƒ½è¦ä¼˜é›…å¾ˆå¤šï¼Œç›¸æ¯”è¾ƒç¬¬ä¸€ç§å¯ä»¥å‡å°‘å¤§é‡å†—ä½™ä»£ç </p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜29-è·å–ç±»è·¯å¾„çš„å¸¸è§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜29-è·å–ç±»è·¯å¾„çš„å¸¸è§æ–¹å¼" aria-hidden="true">#</a> å®æˆ˜29ï¼šè·å–ç±»è·¯å¾„çš„å¸¸è§æ–¹å¼</h1><h2 id="_1-èµ„æºè·¯å¾„æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_1-èµ„æºè·¯å¾„æŸ¥è¯¢" aria-hidden="true">#</a> 1. èµ„æºè·¯å¾„æŸ¥è¯¢</h2><p>åœ¨Javaç¯å¢ƒä¸­ï¼Œå¦‚ä½•è·å–å½“å‰ç±»çš„è·¯å¾„ï¼Œå¦‚ä½•è·å–é¡¹ç›®æ ¹è·¯å¾„ï¼Œå¯ä»¥è¯´æ˜¯æ¯”è¾ƒå¸¸è§çš„éœ€æ±‚åœºæ™¯äº†ï¼Œä¸‹é¢ç®€å•çš„è®°å½•ä¸€ä¸‹</p><!-- more --><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç¬¬ä¸€ç§ï¼šè·å–ç±»åŠ è½½çš„æ ¹è·¯å¾„</span>
    <span class="token class-name">File</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è·å–å½“å‰ç±»çš„æ‰€åœ¨å·¥ç¨‹è·¯å¾„; å¦‚æœä¸åŠ â€œ/â€  è·å–å½“å‰ç±»çš„åŠ è½½ç›®å½•</span>
    <span class="token class-name">File</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ç¬¬äºŒç§ï¼šè·å–é¡¹ç›®è·¯å¾„</span>
    <span class="token class-name">File</span> directory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‚æ•°ä¸ºç©º</span>
    <span class="token class-name">String</span> courseFile <span class="token operator">=</span> directory<span class="token punctuation">.</span><span class="token function">getCanonicalPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>courseFile<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// ç¬¬ä¸‰ç§ï¼šæ ¹æ®ç³»ç»Ÿèµ„æºè·å–</span>
    <span class="token class-name">URL</span> xmlpath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xmlpath<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// ç¬¬å››ç§ï¼šç³»ç»Ÿå˜é‡</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ç¬¬äº”ç§ï¼šè·å–æ‰€æœ‰çš„ç±»è·¯å¾„ åŒ…æ‹¬jaråŒ…çš„è·¯å¾„</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.class.path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºå¦‚ä¸‹:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/Users/user/Project/hui/testApp/pair/target/test-classes
/Users/user/Project/hui/testApp/pair/target/test-classes/net/finbtc/coin/test
/Users/user/Project/hui/testApp/pair
file:/Users/user/Project/hui/testApp/pair/target/test-classes/
/Users/user/Project/hui/testApp/pair
/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar:<span class="token punctuation">..</span>. ï¼ˆå¤ªé•¿çœç•¥ï¼‰
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-10" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-10" aria-hidden="true">#</a> 2. å°ç»“</h2><ol><li><code>new File(this.getClass().getResource(&quot;/&quot;).getPath())</code><ul><li>è·å–ç±»åŠ è½½çš„æ ¹è·¯å¾„</li></ul></li><li><code>new File(this.getClass().getResource(&quot;&quot;).getPath())</code><ul><li>è·å–å½“å‰ç±»çš„æ‰€åœ¨å·¥ç¨‹è·¯å¾„; å¦‚æœä¸åŠ â€œ/â€ è·å–å½“å‰ç±»çš„åŠ è½½ç›®å½•</li></ul></li><li><code>new File(&quot;&quot;).getCanonicalPath()</code><ul><li>è·å–é¡¹ç›®è·¯å¾„</li></ul></li><li><code>this.getClass().getClassLoader().getResource(&quot;&quot;)</code></li><li><code>System.getProperty(&quot;user.dir&quot;)</code></li><li><code>System.getProperty(&quot;java.class.path&quot;)</code><ul><li>è·å–æ‰€æœ‰çš„ç±»è·¯å¾„ åŒ…æ‹¬jaråŒ…çš„è·¯å¾„</li></ul></li></ol><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜30-jdkå‹ç¼©ä¸è§£å‹å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜30-jdkå‹ç¼©ä¸è§£å‹å·¥å…·ç±»" aria-hidden="true">#</a> å®æˆ˜30ï¼šJDKå‹ç¼©ä¸è§£å‹å·¥å…·ç±»</h1><p>åœ¨å®é™…çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œç‰¹åˆ«æ˜¯å¯¹å¤–ä¼ è¾“æ•°æ®æ—¶ï¼Œå°†åŸå§‹æ•°æ®å‹ç¼©ä¹‹åä¸¢å‡ºå»ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªcaseäº†ï¼Œå¹³å¸¸å€’æ˜¯æ²¡æœ‰ç›´æ¥ä½¿ç”¨JDKåŸç”Ÿçš„å‹ç¼©å·¥å…·ç±»ï¼Œä½¿ç”¨Protosutffå’ŒKryoçš„æœºä¼šè¾ƒå¤š,æ­£å¥½åœ¨å®é™…çš„å·¥ä½œåœºæ™¯ä¸­é‡åˆ°äº†ï¼Œç°åœ¨ç®€å•çš„çœ‹ä¸‹ä½¿ç”¨å§¿åŠ¿</p><!-- more --><h2 id="_1-å‹ç¼©ä¸è§£å‹å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#_1-å‹ç¼©ä¸è§£å‹å·¥å…·ç±»" aria-hidden="true">#</a> 1. å‹ç¼©ä¸è§£å‹å·¥å…·ç±»</h2><h3 id="_1-1-åŸºæœ¬å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-1-åŸºæœ¬å®ç°" aria-hidden="true">#</a> 1.1. åŸºæœ¬å®ç°</h3><p>ä¸»è¦å€ŸåŠ©çš„å°±æ˜¯Deflater, Inflaterä¸¤ä¸ªå·¥å…·ç±»ï¼Œå…¶ä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">uncompress</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Inflater</span> inflater <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inflater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    inflater<span class="token punctuation">.</span><span class="token function">setInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ByteArrayOutputStream</span> baos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>inflater<span class="token punctuation">.</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>buff<span class="token punctuation">)</span><span class="token punctuation">;</span>
            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        baos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    inflater<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output <span class="token operator">=</span> baos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>output<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">compress</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output<span class="token punctuation">;</span>
    <span class="token class-name">Deflater</span> compress <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deflater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    compress<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    compress<span class="token punctuation">.</span><span class="token function">setInput</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    compress<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ByteArrayOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>compress<span class="token punctuation">.</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> compress<span class="token punctuation">.</span><span class="token function">deflate</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
            bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        output <span class="token operator">=</span> bos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        output <span class="token operator">=</span> data<span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    compress<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªç®€å•çš„æµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">200</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token char">&#39;a&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span> text <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> compres <span class="token operator">=</span> <span class="token function">compress</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>compres<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">&quot; : &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> res <span class="token operator">=</span> <span class="token function">uncompress</span><span class="token punctuation">(</span>compres<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;uncompress! \n&quot;</span> <span class="token operator">+</span> text <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1011</span> <span class="token builtin class-name">:</span> <span class="token number">1974</span>
uncompress<span class="token operator">!</span> 
<span class="token number">1159641073884270587</span>-148914555-876348695-140903655914152858511750740619-504526839109631208315104321891746743931-228808979-1303586499-19431155411964999751-1784318475-954798177-1812907183-831342707-3149322476028964551802022597-269963287-6384200011467670385844411707877038035412670417-1119826115558346219-959513147646693111435818855-32626587-18184494797054550038966016212145089137523302939171183465807867207-5294746515903446057333959811216956465-11772186456902770294071039871896527261-126190055310658640239029635411410052621945318513-1099749933-2044334159884087065-1705740759-1313321287-1408007761-12659778231544522691472523171153203782987609706919936632357801287155512488271333115291-1121944135941979389-179880545175884207196204559-2097788799145839653133892163716038492252042396151523357607329397509-2453452914618397691174247129-542507633-1893723573237001573-84175562119492726191070559557-875056377-1763237523-662399435-170798495-12405874171550890051-1938474621-701626601-1246867757-1138873077164155271023310391435811251050668025181338411-7641844471088518205-1570482881-1690731767-954924683-213656821149494003-544272515-9322840891981997411254437701-183054198720365002211448655569-54030518916444117051191350451-900732825-2072105047160877226512403288354302424851213478975-57604286986096457192173124564975571096304687-213425653510984804314132356831371957625714091709-327695077-182546427-372769058150182636433743131293942149315625331-1010625457741185365-81246881-565236593-1937214707-2090999425-1673181289-1110250756450022071917863643-127217577910228760391902441297-31318475-535669437-1151216791170962161121375401911260706331-1873591233-495048743-8876731551362670289-686442615-6752584831233249861-3467630691547253127-345092207-908370541-1788351797644350365-67770933-4703179231930520693138257968522450375-1171662023-5791753311816936409-1745781765-922801857281665531707439257928142703-367587763829971705455779401438501763-1398546079-606883161-924403277-1617582925-2005411841279115903
<span class="token number">1159641073884270587</span>-148914555-876348695-140903655914152858511750740619-504526839109631208315104321891746743931-228808979-1303586499-19431155411964999751-1784318475-954798177-1812907183-831342707-3149322476028964551802022597-269963287-6384200011467670385844411707877038035412670417-1119826115558346219-959513147646693111435818855-32626587-18184494797054550038966016212145089137523302939171183465807867207-5294746515903446057333959811216956465-11772186456902770294071039871896527261-126190055310658640239029635411410052621945318513-1099749933-2044334159884087065-1705740759-1313321287-1408007761-12659778231544522691472523171153203782987609706919936632357801287155512488271333115291-1121944135941979389-179880545175884207196204559-2097788799145839653133892163716038492252042396151523357607329397509-2453452914618397691174247129-542507633-1893723573237001573-84175562119492726191070559557-875056377-1763237523-662399435-170798495-12405874171550890051-1938474621-701626601-1246867757-1138873077164155271023310391435811251050668025181338411-7641844471088518205-1570482881-1690731767-954924683-213656821149494003-544272515-9322840891981997411254437701-183054198720365002211448655569-54030518916444117051191350451-900732825-2072105047160877226512403288354302424851213478975-57604286986096457192173124564975571096304687-213425653510984804314132356831371957625714091709-327695077-182546427-372769058150182636433743131293942149315625331-1010625457741185365-81246881-565236593-1937214707-2090999425-1673181289-1110250756450022071917863643-127217577910228760391902441297-31318475-535669437-1151216791170962161121375401911260706331-1873591233-495048743-8876731551362670289-686442615-6752584831233249861-3467630691547253127-345092207-908370541-1788351797644350365-67770933-4703179231930520693138257968522450375-1171662023-5791753311816936409-1745781765-922801857281665531707439257928142703-367587763829971705455779401438501763-1398546079-606883161-924403277-1617582925-2005411841279115903
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#_1-2-æ³¨æ„äº‹é¡¹" aria-hidden="true">#</a> 1.2. æ³¨æ„äº‹é¡¹</h3><p>ä¸Šé¢è¿™ä¸ªè¿ä½œçš„è¿˜æŒºå¥½ï¼Œä½†åœ¨æ¥å…¥ä½¿ç”¨æ—¶ï¼Œæ€»æ˜¯æç¤º<code>java.util.zip.DataFormatException: incorrect header check</code>, å› ä¸ºæ¥å—çš„æ˜¯ç¬¬ä¸‰æ–¹ä¼ é€’è¿‡æ¥çš„å‹ç¼©æ•°æ®ï¼Œæ¯”è¾ƒå‘çˆ¹çš„æ˜¯å¯¹æ–¹å°±å†™äº†ä¸ªDeflaterå‹ç¼©ï¼Œç„¶åä»€ä¹ˆéƒ½æ²¡æœ‰äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¯å•¥åŸå› å‘¢ï¼Ÿ</p><p>å…¶å®çœ‹ä¸‹Deflaterçš„æ„é€ æ–¹æ³•ï¼Œå‘ç°è¿˜å¯ä»¥ä¼ ä¸€ä¸ªbooleanå€¼(nowrap), å®˜æ–¹è¯´æ˜æ˜¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Creates a new compressor using the specified compression level.
 * If &#39;nowrap&#39; is true then the ZLIB header and checksum fields will
 * not be used in order to support the compression format used in
 * both GZIP and PKZIP.
 * <span class="token keyword">@param</span> <span class="token parameter">level</span> the compression level (0-9)
 * <span class="token keyword">@param</span> <span class="token parameter">nowrap</span> if true then use GZIP compatible compression
 */</span>
<span class="token keyword">public</span> <span class="token class-name">Deflater</span><span class="token punctuation">(</span><span class="token keyword">int</span> level<span class="token punctuation">,</span> <span class="token keyword">boolean</span> nowrap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>level <span class="token operator">=</span> level<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>strategy <span class="token operator">=</span> <span class="token constant">DEFAULT_STRATEGY</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>zsRef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZStreamRef</span><span class="token punctuation">(</span><span class="token function">init</span><span class="token punctuation">(</span>level<span class="token punctuation">,</span> <span class="token constant">DEFAULT_STRATEGY</span><span class="token punctuation">,</span> nowrap<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å‹ç¼©æ—¶ï¼Œå¦‚æœnowrapä¸ºtrueï¼Œé‚£ä¹ˆè§£å‹æ—¶ä¹Ÿè¦ä¸ºtrueï¼›å¦åˆ™å¯¹ä¸ä¸Šæ—¶ï¼Œå°±ä¼šæŠ›å¼‚å¸¸</p><p>æ¥ä¸‹æ¥ç®€å•å¯¹æ¯”ä¸‹ä¸¤ç§ä¸åŒä¼ å‚çš„æƒ…å†µï¼Œé¦–å…ˆæ›´æ–°ä¸‹å·¥å…·ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">uncompress</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input<span class="token punctuation">,</span> <span class="token keyword">boolean</span> nowrap<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Inflater</span> inflater <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inflater</span><span class="token punctuation">(</span>nowrap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    inflater<span class="token punctuation">.</span><span class="token function">setInput</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ByteArrayOutputStream</span> baos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>inflater<span class="token punctuation">.</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>buff<span class="token punctuation">)</span><span class="token punctuation">;</span>
            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        baos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    inflater<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output <span class="token operator">=</span> baos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">compress</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">,</span> <span class="token keyword">boolean</span> nowrap<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output<span class="token punctuation">;</span>
    <span class="token class-name">Deflater</span> compress <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deflater</span><span class="token punctuation">(</span><span class="token class-name">Deflater</span><span class="token punctuation">.</span><span class="token constant">DEFAULT_COMPRESSION</span><span class="token punctuation">,</span> nowrap<span class="token punctuation">)</span><span class="token punctuation">;</span>

    compress<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    compress<span class="token punctuation">.</span><span class="token function">setInput</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    compress<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ByteArrayOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>compress<span class="token punctuation">.</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> compress<span class="token punctuation">.</span><span class="token function">deflate</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
            bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        output <span class="token operator">=</span> bos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        output <span class="token operator">=</span> data<span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    compress<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token char">&#39;a&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span> text <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> compres <span class="token operator">=</span> <span class="token function">compress</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>compres<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">&quot; : &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> res <span class="token operator">=</span> <span class="token function">uncompress</span><span class="token punctuation">(</span>compres<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> compres2 <span class="token operator">=</span> <span class="token function">compress</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>compres2<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">&quot; : &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> res2 <span class="token operator">=</span> <span class="token function">uncompress</span><span class="token punctuation">(</span>compres2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res2<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œä»å¤§å°æ¥çœ‹ï¼Œå‰è€…å°é‚£ä¹ˆä¸€ç‚¹ç‚¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">5086</span> <span class="token builtin class-name">:</span> <span class="token number">9985</span>
<span class="token boolean">true</span>
<span class="token number">5092</span> <span class="token builtin class-name">:</span> <span class="token number">9985</span>
<span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å°ç»“-11" tabindex="-1"><a class="header-anchor" href="#_2-å°ç»“-11" aria-hidden="true">#</a> 2. å°ç»“</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œjdkè‡ªå¸¦çš„å‹ç¼©ä¸è§£å‹ï¼Œé™¤äº†æ–¹ä¾¿ä¹‹å¤–ï¼Œå¯èƒ½ä¼˜åŠ¿å¹¶ä¸æ˜¯é‚£ä¹ˆçš„å¤§ï¼Œè¿™é‡Œç›—ä¸€å¼ ç½‘ä¸Šçš„å¯¹æ¯”è¡¨æ ¼</p><p>ä»¥ä¸‹æ¥è‡ª: <a href="https://www.cnblogs.com/lonelywolfmoutain/p/5563985.html" target="_blank" rel="noopener noreferrer">[java]åºåˆ—åŒ–æ¡†æ¶æ€§èƒ½å¯¹æ¯”ï¼ˆkryoã€hessianã€javaã€protostuffï¼‰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><table><thead><tr><th></th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>kryo</td><td>é€Ÿåº¦å¿«ï¼Œåºåˆ—åŒ–åä½“ç§¯å°</td><td>è·¨è¯­è¨€æ”¯æŒè¾ƒå¤æ‚</td></tr><tr><td>hessian</td><td>é»˜è®¤æ”¯æŒè·¨è¯­è¨€</td><td>è¾ƒæ…¢</td></tr><tr><td>protostuff</td><td>é€Ÿåº¦å¿«ï¼ŒåŸºäºprotobuf</td><td>éœ€é™æ€ç¼–è¯‘</td></tr><tr><td>Protostuff-Runtime</td><td>æ— éœ€é™æ€ç¼–è¯‘ï¼Œä½†åºåˆ—åŒ–å‰éœ€é¢„å…ˆä¼ å…¥schema</td><td>ä¸æ”¯æŒæ— é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ï¼Œååºåˆ—åŒ–æ—¶éœ€ç”¨æˆ·è‡ªå·±åˆå§‹åŒ–åºåˆ—åŒ–åçš„å¯¹è±¡ï¼Œå…¶åªè´Ÿè´£å°†è¯¥å¯¹è±¡è¿›è¡Œèµ‹å€¼</td></tr><tr><td>jdk</td><td>ä½¿ç”¨æ–¹ä¾¿ï¼Œå¯åºåˆ—åŒ–æ‰€æœ‰ç±»</td><td>é€Ÿåº¦æ…¢ï¼Œå ç©ºé—´</td></tr></tbody></table><p>å…¶æ¬¡ï¼Œåœ¨ä½¿ç”¨javaçš„å‹ç¼©ä¸è§£å‹æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸‹ï¼Œnowrapè¿™ä¸ªå‚æ•°ï¼Œéœ€è¦ä¿æŒä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜31-æ·±æ‹·è´æµ…æ‹·è´åŠå¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜31-æ·±æ‹·è´æµ…æ‹·è´åŠå¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹å¼" aria-hidden="true">#</a> å®æˆ˜31ï¼šæ·±æ‹·è´æµ…æ‹·è´åŠå¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹å¼</h1><h2 id="_1-javaä¹‹clone" tabindex="-1"><a class="header-anchor" href="#_1-javaä¹‹clone" aria-hidden="true">#</a> 1. Javaä¹‹Clone</h2><h3 id="_1-1-èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#_1-1-èƒŒæ™¯" aria-hidden="true">#</a> 1.1 èƒŒæ™¯</h3><p>å¯¹è±¡æ‹·è´ï¼Œæ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€çš„å†…å®¹äº†ï¼Œä¸ºä»€ä¹ˆä¼šå•ç‹¬çš„æŠŠè¿™ä¸ªé¢†å‡ºæ¥è®²è§£ï¼Œä¸»è¦æ˜¯å…ˆå‰é‡åˆ°äº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„åœºæ™¯</p><p>æœ‰ä¸€ä¸ªä»»åŠ¡ï¼Œéœ€è¦è§£æç±»xmlæ ‡è®°è¯­è¨€ï¼Œç„¶åç”Ÿæˆdocumentå¯¹è±¡ï¼Œä¹‹åå°†ä¼šæœ‰ä¸€ç³»åˆ—é’ˆå¯¹documentå¯¹è±¡çš„æ“ä½œ</p><p>é€šè¿‡å®é™…çš„æµ‹è¯•ï¼Œå‘ç°ç”ŸæˆDocumentå¯¹è±¡æ˜¯æ¯”è¾ƒè€—æ—¶çš„ä¸€ä¸ªæ“ä½œï¼Œå†åŠ ä¸Šè¿™ä¸ªä»»åŠ¡åœºæ™¯ä¸­ï¼Œéœ€è¦è§£æçš„xmlæ–‡æ¡£æ˜¯å›ºå®šçš„å‡ ä¸ªï¼Œé‚£ä¹ˆä¸€ä¸ªå¯ä»¥ä¼˜åŒ–çš„æ€è·¯å°±æ˜¯èƒ½ä¸èƒ½ç¼“å­˜ä½åˆ›å»ºåçš„Documentå¯¹è±¡ï¼Œåœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™cloneä¸€ä»½å‡ºæ¥</p><!-- more  --><h3 id="_1-2-å†…å®¹è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_1-2-å†…å®¹è¯´æ˜" aria-hidden="true">#</a> 1.2 å†…å®¹è¯´æ˜</h3><p>çœ‹åˆ°äº†ä¸Šé¢çš„åº”ç”¨èƒŒæ™¯ï¼Œè‡ªç„¶è€Œè¨€çš„å°±ä¼šæƒ³åˆ°æ·±æ‹·è´äº†ï¼Œæœ¬ç¯‡åšæ–‡åˆ™ä¸»è¦å†…å®¹å¦‚ä¸‹</p><ul><li>ä»‹ç»ä¸‹ä¸¤ç§æ‹·è´æ–¹å¼çš„åŒºåˆ«</li><li>æ·±æ‹·è´çš„è¾…åŠ©å·¥å…·ç±»</li><li>å¦‚ä½•è‡ªå®šä¹‰å®ç°å¯¹è±¡æ‹·è´</li></ul><h2 id="_2-æ·±æ‹·è´å’Œæµ…æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_2-æ·±æ‹·è´å’Œæµ…æ‹·è´" aria-hidden="true">#</a> 2. æ·±æ‹·è´å’Œæµ…æ‹·è´</h2><h3 id="_2-1-å®šä¹‰è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_2-1-å®šä¹‰è¯´æ˜" aria-hidden="true">#</a> 2.1 å®šä¹‰è¯´æ˜</h3><p><strong>æ·±æ‹·è´</strong></p><p>ç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œåªæ˜¯è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å†…å®¹ï¼Œéƒ½å’Œè¢«æ‹·è´çš„å¯¹è±¡ä¸€æ¨¡ä¸€æ ·è€Œå·²ï¼Œå³ä¸¤è€…çš„ä¿®æ”¹æ˜¯éš”ç¦»çš„ï¼Œç›¸äº’ä¹‹é—´æ²¡æœ‰å½±å“</p><p><strong>æµ…æ‹·è´</strong></p><p>ä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡çš„æŸäº›å†…å®¹ï¼ˆæ¯”å¦‚Aï¼‰ä¾ç„¶æ˜¯è¢«æ‹·è´å¯¹è±¡çš„ï¼Œå³é€šè¿‡è¿™ä¸¤ä¸ªå¯¹è±¡ä¸­ä»»æ„ä¸€ä¸ªä¿®æ”¹Aï¼Œä¸¤ä¸ªå¯¹è±¡çš„Aéƒ½ä¼šå—åˆ°å½±å“</p><p>çœ‹åˆ°ä¸Šé¢ä¸¤ä¸ªç®€å•çš„è¯´æ˜ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†</p><ul><li>æµ…æ‹·è´ä¸­ï¼Œæ˜¯æ‰€æœ‰çš„å†…å®¹å…¬ç”¨å‘¢ï¼Ÿè¿˜æ˜¯æŸäº›å†…å®¹å…¬ç”¨ï¼Ÿ</li><li>ä»éš”ç¦»æ¥å°†ï¼Œéƒ½ä¸å¸Œæœ›å‡ºç°æµ…æ‹·è´è¿™ç§æ–¹å¼äº†ï¼Œå¤ªå®¹æ˜“å‡ºé”™äº†ï¼Œé‚£ä¹ˆä¸¤ç§æ‹·è´æ–¹å¼çš„åº”ç”¨åœºæ™¯æ˜¯æ€æ ·çš„ï¼Ÿ</li></ul><h3 id="_2-2-æµ…æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_2-2-æµ…æ‹·è´" aria-hidden="true">#</a> 2.2 æµ…æ‹·è´</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œæµ…æ‹·è´æ–¹å¼éœ€è¦å®ç°<code>Cloneable</code>æ¥å£ï¼Œä¸‹é¢ç»“åˆä¸€ä¸ªå®ä¾‹ï¼Œæ¥çœ‹ä¸‹æµ…æ‹·è´ä¸­å“ªäº›æ˜¯ç‹¬ç«‹çš„ï¼Œå“ªäº›æ˜¯å…¬ç”¨çš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShallowClone</span> <span class="token keyword">implements</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> books<span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token class-name">ShallowClone</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ShallowClone</span> clone <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            clone <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ShallowClone</span><span class="token punctuation">)</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">CloneNotSupportedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> clone<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ShallowClone</span> shallowClone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShallowClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shallowClone<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;SourceName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shallowClone<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c++&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shallowClone<span class="token punctuation">.</span><span class="token function">setBooks</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token class-name">ShallowClone</span> cloneObj <span class="token operator">=</span> shallowClone<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼ˆå³æ˜¯å¦æ˜¯æ–°åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼‰</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shallowClone <span class="token operator">==</span> cloneObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ä¼šå½±å“å¦ä¸€ä¸ªå¯¹è±¡</span>
        shallowClone<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;newName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shallowClone<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        shallowClone<span class="token punctuation">.</span><span class="token function">getBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;javascript&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;source: &quot;</span> <span class="token operator">+</span> shallowClone<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\nclone:&quot;</span> <span class="token operator">+</span> cloneObj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        shallowClone<span class="token punctuation">.</span><span class="token function">setBooks</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;source: &quot;</span> <span class="token operator">+</span> shallowClone<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\nclone:&quot;</span> <span class="token operator">+</span> cloneObj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœ:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token boolean">false</span>
source: ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>newName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">20</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>java, c++, javascript<span class="token punctuation">]</span><span class="token punctuation">)</span>
clone:ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>SourceName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">28</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>java, c++, javascript<span class="token punctuation">]</span><span class="token punctuation">)</span>
source: ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>newName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">20</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>hello<span class="token punctuation">]</span><span class="token punctuation">)</span>
clone:ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>SourceName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">28</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>java, c++, javascript<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœåˆ†æï¼š</p><ul><li>æ‹·è´åè·å–çš„æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œå’ŒåŸå¯¹è±¡æ‹¥æœ‰ä¸åŒçš„å†…å­˜åœ°å€</li><li>åŸºæœ¬å…ƒç´ ç±»å‹ï¼Œä¸¤è€…æ˜¯éš”ç¦»çš„ï¼ˆè™½ç„¶ä¸Šé¢åªç»™å‡ºäº†intï¼ŒStringï¼‰ <ul><li>åŸºæœ¬å…ƒç´ ç±»å‹åŒ…æ‹¬:</li><li>int, Integer, long, Long, char, Charset, byte,Byte, boolean, Boolean, float,Float, double, Double, String</li></ul></li><li>éåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚åŸºæœ¬å®¹å™¨ï¼Œå…¶ä»–å¯¹è±¡ç­‰ï¼‰ï¼Œåªæ˜¯æ‹·è´äº†ä¸€ä»½å¼•ç”¨å‡ºå»äº†ï¼Œå®é™…æŒ‡å‘çš„ä¾ç„¶æ˜¯åŒä¸€ä»½</li></ul><p>å…¶å®ï¼Œæµ…æ‹·è´æœ‰ä¸ªéå¸¸ç®€å•çš„ç†è§£æ–¹å¼ï¼š</p><p><strong>æµ…æ‹·è´çš„æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åæ–°å¯¹è±¡çš„æ¯ä¸ªå€¼éƒ½æ˜¯ç”±åŸå¯¹è±¡çš„å€¼ï¼Œé€šè¿‡ <code>=</code> è¿›è¡Œèµ‹å€¼</strong></p><p>è¿™ä¸ªæ€ä¹ˆç†è§£å‘¢ï¼Ÿ</p><p>ä¸Šé¢çš„æµç¨‹æ‹†è§£å°±æ˜¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>- Object clone = new Object();
- clone.a = source.a
- clone.b = source.b
- ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆ=èµ‹å€¼æœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿ</p><p>åŸºæœ¬æ•°æ®ç±»å‹æ˜¯å€¼èµ‹å€¼ï¼›éåŸºæœ¬çš„å°±æ˜¯å¼•ç”¨èµ‹å€¼</p><h3 id="_2-3-æ·±æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_2-3-æ·±æ‹·è´" aria-hidden="true">#</a> 2.3 æ·±æ‹·è´</h3><p>æ·±æ‹·è´ï¼Œå°±æ˜¯è¦åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œæ–°çš„å¯¹è±¡å†…éƒ¨æ‰€æœ‰çš„æˆå‘˜ä¹Ÿéƒ½æ˜¯å…¨æ–°çš„ï¼Œåªæ˜¯åˆå§‹åŒ–çš„å€¼å·²ç»ç”±è¢«æ‹·è´çš„å¯¹è±¡ç¡®å®šäº†è€Œå·²</p><p>é‚£ä¹ˆä¸Šé¢çš„å®ä¾‹æ”¹æˆæ·±æ‹·è´åº”è¯¥æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p>å¯ä»¥åŠ ä¸Šè¿™ä¹ˆä¸€ä¸ªæ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ShallowClone</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ShallowClone</span> clone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShallowClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    clone<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    clone<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>books <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        clone<span class="token punctuation">.</span>books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> clone<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// ç®€å•æ”¹ä¸€ä¸‹æµ‹è¯•case</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ShallowClone</span> shallowClone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShallowClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    shallowClone<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;SourceName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    shallowClone<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1280</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c++&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    shallowClone<span class="token punctuation">.</span><span class="token function">setBooks</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token class-name">ShallowClone</span> cloneObj <span class="token operator">=</span> shallowClone<span class="token punctuation">.</span><span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼ˆå³æ˜¯å¦æ˜¯æ–°åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼‰</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shallowClone <span class="token operator">==</span> cloneObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ä¼šå½±å“å¦ä¸€ä¸ªå¯¹è±¡</span>
    shallowClone<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;newName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    shallowClone<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    shallowClone<span class="token punctuation">.</span><span class="token function">getBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;javascript&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;source: &quot;</span> <span class="token operator">+</span> shallowClone<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\nclone:&quot;</span> <span class="token operator">+</span> cloneObj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    shallowClone<span class="token punctuation">.</span><span class="token function">setBooks</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;source: &quot;</span> <span class="token operator">+</span> shallowClone<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\nclone:&quot;</span> <span class="token operator">+</span> cloneObj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœä¸ºï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token boolean">false</span>
source: ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>newName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">2000</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>java, c++, javascript<span class="token punctuation">]</span><span class="token punctuation">)</span>
clone:ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>SourceName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">1280</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>java, c++<span class="token punctuation">]</span><span class="token punctuation">)</span>
source: ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>newName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">2000</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>hello<span class="token punctuation">]</span><span class="token punctuation">)</span>
clone:ShallowClone<span class="token punctuation">(</span>name<span class="token operator">=</span>SourceName, <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">1280</span>, <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token punctuation">[</span>java, c++<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœåˆ†æï¼š</p><ul><li>æ·±æ‹·è´ç‹¬ç«‹çš„å¯¹è±¡</li><li>æ‹·è´åå¯¹è±¡çš„å†…å®¹ï¼Œä¸åŸå¯¹è±¡çš„å†…å®¹å®Œå…¨æ²¡å…³ç³»ï¼Œéƒ½æ˜¯ç‹¬ç«‹çš„</li></ul><p>ç®€å•æ¥è¯´ï¼Œæ·±æ‹·è´æ˜¯éœ€è¦è‡ªå·±æ¥å®ç°çš„ï¼Œå¯¹äºåŸºæœ¬ç±»å‹å¯ä»¥ç›´æ¥èµ‹å€¼ï¼Œè€Œå¯¹äºå¯¹è±¡ã€å®¹å™¨ã€æ•°ç»„æ¥è®²ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„å‡ºæ¥ï¼Œç„¶åé‡æ–°èµ‹å€¼</p><h3 id="_2-4-åº”ç”¨åœºæ™¯åŒºåˆ†" tabindex="-1"><a class="header-anchor" href="#_2-4-åº”ç”¨åœºæ™¯åŒºåˆ†" aria-hidden="true">#</a> 2.4 åº”ç”¨åœºæ™¯åŒºåˆ†</h3><p>æ·±æ‹·è´çš„ç”¨é€”æˆ‘ä»¬å¾ˆå®¹æ˜“å¯ä»¥æƒ³è§ï¼ŒæŸä¸ªå¤æ‚å¯¹è±¡åˆ›å»ºæ¯”è¾ƒæ¶ˆè€—èµ„æºçš„æ—¶å€™ï¼Œå°±å¯ä»¥ç¼“å­˜ä¸€ä¸ªè“æœ¬ï¼Œåç»­çš„æ“ä½œéƒ½æ˜¯é’ˆå¯¹æ·±cloneåçš„å¯¹è±¡ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æ··ä¹±çš„æƒ…å†µäº†</p><p>é‚£ä¹ˆæµ…æ‹·è´å‘¢ï¼Ÿæ„Ÿè§‰ç•™ç€æ˜¯ä¸€ä¸ªå‘ï¼Œä¸€ä¸ªäººä¿®æ”¹äº†è¿™ä¸ªå¯¹è±¡çš„å€¼ï¼Œç»“æœå‘ç°å¯¹å¦ä¸€ä¸ªäººé€ æˆäº†å½±å“ï¼ŒçœŸä¸æ˜¯å‘çˆ¹ä¹ˆï¼Ÿ</p><p>å‡è®¾åˆè¿™ä¹ˆä¸€ä¸ªé€šçŸ¥å¯¹è±¡é•¿ä¸‹é¢è¿™æ ·</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> notifyUser<span class="token punctuation">;</span>

<span class="token comment">// xxx</span>

<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> notifyRules<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ç°åœ¨éšæœºæŒ‘é€‰äº†ä¸€åƒä¸ªäººï¼ŒåŒæ—¶å‘é€é€šçŸ¥æ¶ˆæ¯ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºä¸€åƒä¸ªä¸Šé¢çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¸­å‘¢ï¼Œé™¤äº†notifyUserä¸åŒï¼Œå…¶ä»–çš„éƒ½ä¸€æ ·</p><p>åœ¨å‘é€ä¹‹å‰ï¼Œçªç„¶å‘ç°è¦ä¸´æ—¶æ–°å¢ä¸€æ¡é€šçŸ¥ä¿¡æ¯ï¼Œå¦‚æœæ˜¯æµ…æ‹·è´çš„è¯ï¼Œåªç”¨åœ¨ä»»æ„ä¸€ä¸ªé€šçŸ¥å¯¹è±¡çš„notifyRulesä¸­æ·»åŠ ä¸€è°ƒæ¶ˆæ¯ï¼Œé‚£ä¹ˆè¿™ä¸€åƒä¸ªå¯¹è±¡çš„é€šçŸ¥æ¶ˆæ¯éƒ½ä¼šå˜æˆæœ€æ–°çš„äº†ï¼›è€Œå¦‚æœä½ æ˜¯ç”¨æ·±æ‹·è´ï¼Œé‚£ä¹ˆè‹¦é€¼çš„å¾—éå†è¿™ä¸€åƒä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªéƒ½åŠ ä¸€æ¡æ¶ˆæ¯äº†</p><hr><h2 id="_3-å¯¹è±¡æ‹·è´å·¥å…·" tabindex="-1"><a class="header-anchor" href="#_3-å¯¹è±¡æ‹·è´å·¥å…·" aria-hidden="true">#</a> 3. å¯¹è±¡æ‹·è´å·¥å…·</h2><p>ä¸Šé¢è¯´åˆ°ï¼Œæµ…æ‹·è´ï¼Œéœ€è¦å®ç°Clonebaleæ¥å£ï¼Œæ·±æ‹·è´ä¸€èˆ¬éœ€è¦è‡ªå·±æ¥å®ç°ï¼Œé‚£ä¹ˆæˆ‘ç°åœ¨æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡Aï¼Œå®ƒè‡ªå·±æ²¡æœ‰æä¾›æ·±æ‹·è´æ¥å£ï¼Œæˆ‘ä»¬é™¤äº†ä¸»åŠ¨ä¸€æ¡ä¸€æ¡çš„å¸®å®ƒå®ç°ä¹‹å¤–ï¼Œæœ‰ä»€ä¹ˆè¾…åŠ©å·¥å…·å¯ç”¨ä¹ˆï¼Ÿ</p><p>å¯¹è±¡æ‹·è´åŒºåˆ«ä¸cloneï¼Œå®ƒå¯ä»¥æ”¯æŒä¸¤ä¸ªä¸åŒå¯¹è±¡ä¹‹é—´å®ç°å†…å®¹æ‹·è´</p><p><strong>Apacheçš„ä¸¤ä¸ªç‰ˆæœ¬ï¼šï¼ˆåå°„æœºåˆ¶ï¼‰</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>org.apache.commons.beanutils.PropertyUtils.copyProperties(Object dest, Object orig)


org.apache.commons.beanutils.BeanUtils#cloneBean
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Springç‰ˆæœ¬ï¼šï¼ˆåå°„æœºåˆ¶ï¼‰</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>org.springframework.beans.BeanUtils.copyProperties(Object source, Object target, Class editable, String[] ignoreProperties)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>cglibç‰ˆæœ¬ï¼šï¼ˆä½¿ç”¨åŠ¨æ€ä»£ç†ï¼Œæ•ˆç‡é«˜ï¼‰</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>net.sf.cglib.beans.BeanCopier.copy(Object paramObject1, Object paramObject2, Converter paramConverter)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»ä¸Šé¢çš„å‡ ä¸ªæœ‰åçš„å·¥å…·ç±»æ¥çœ‹ï¼Œæä¾›äº†ä¸¤ç§ä½¿ç”¨è€…å§¿åŠ¿ï¼Œä¸€ä¸ªæ˜¯åå°„ï¼Œä¸€ä¸ªæ˜¯åŠ¨æ€ä»£ç†ï¼Œä¸‹é¢åˆ†åˆ«æ¥çœ‹ä¸¤ç§æ€è·¯</p><h3 id="_3-1-å€ŸåŠ©åå°„å®ç°å¯¹è±¡æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_3-1-å€ŸåŠ©åå°„å®ç°å¯¹è±¡æ‹·è´" aria-hidden="true">#</a> 3.1 å€ŸåŠ©åå°„å®ç°å¯¹è±¡æ‹·è´</h3><p>é€šè¿‡åå°„çš„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´çš„æ€è·¯è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ï¼Œå…ˆé€šè¿‡åå°„è·å–å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼Œç„¶åä¿®æ”¹å¯è®¿é—®çº§åˆ«ï¼Œç„¶åèµ‹å€¼ï¼›å†è·å–ç»§æ‰¿çš„çˆ¶ç±»çš„å±æ€§ï¼ŒåŒæ ·åˆ©ç”¨åå°„è¿›è¡Œèµ‹å€¼</p><p>ä¸Šé¢çš„å‡ ä¸ªå¼€æºå·¥å…·ï¼Œå†…éƒ¨å®ç°å°è£…å¾—æ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥ç›´æ¥è´´æºç å¯èƒ½ä¸å¤ªå®¹æ˜“ä¸€çœ¼å°±èƒ½çœ‹å‡ºåå°„æ–¹å¼çš„åŸç†ï¼Œæ‰€ä»¥ç®€å•çš„å®ç°äº†ä¸€ä¸ª, ä»…æä¾›æ€è·¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token class-name">Object</span> dest<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Class</span> destClz <span class="token operator">=</span> dest<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è·å–ç›®æ ‡çš„æ‰€æœ‰æˆå‘˜</span>
    <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> destFields <span class="token operator">=</span> destClz<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> value<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> destFields<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// éå†æ‰€æœ‰çš„æˆå‘˜ï¼Œå¹¶èµ‹å€¼</span>
        <span class="token comment">// è·å–valueå€¼</span>
        value <span class="token operator">=</span> <span class="token function">getVal</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>

        field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        field<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getVal</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä¼˜å…ˆè·å–objä¸­åŒåçš„æˆå‘˜å˜é‡</span>
        <span class="token class-name">Field</span> field <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchFieldException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è¡¨ç¤ºæ²¡æœ‰åŒåçš„å˜é‡</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è·å–å¯¹åº”çš„ getXxx() æˆ–è€… isXxx() æ–¹æ³•</span>
    name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> methodName <span class="token operator">=</span> <span class="token string">&quot;get&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token class-name">String</span> methodName2 <span class="token operator">=</span> <span class="token string">&quot;is&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methods <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> method <span class="token operator">:</span> methods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åªè·å–æ— å‚çš„æ–¹æ³•</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getParameterCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span>
                <span class="token operator">||</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>methodName2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°æ­¥éª¤è¿˜æ˜¯éå¸¸æ¸…æ™°çš„ï¼Œé¦–å…ˆæ˜¯æ‰¾åŒåçš„å±æ€§ï¼Œç„¶ååˆ©ç”¨åå°„è·å–å¯¹åº”çš„å€¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Field</span> field <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™æ‰¾getXXX, isXXXæ¥è·å–</p><h3 id="_3-2-ä»£ç†çš„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_3-2-ä»£ç†çš„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´" aria-hidden="true">#</a> 3.2 ä»£ç†çš„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´</h3><p>Cglibçš„BeanCopierå°±æ˜¯é€šè¿‡ä»£ç†çš„æ–¹å¼å®ç°æ‹·è´ï¼Œæ€§èƒ½ä¼˜äºåå°„çš„æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§é‡çš„æ•°æ®æ‹·è´æ—¶ï¼Œæ¯”è¾ƒæ˜æ˜¾</p><p>ä»£ç†ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥åŒºåˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ï¼Œç®€å•æ¥è®²å°±æ˜¯ä½ è¦æ“ä½œå¯¹è±¡Aï¼Œä½†æ˜¯ä½ ä¸ç›´æ¥å»æ“ä½œAï¼Œè€Œæ˜¯æ‰¾ä¸€ä¸ªä¸­è½¬porxyA, è®©å®ƒæ¥å¸®ä½ æ“ä½œå¯¹è±¡A</p><p>é‚£ä¹ˆè¿™ç§æŠ€æœ¯æ˜¯å¦‚ä½•ä½¿ç”¨åœ¨å¯¹è±¡æ‹·è´çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ•ˆç‡æœ€é«˜çš„å¯¹è±¡æ‹·è´æ–¹å¼å°±æ˜¯Getter/Setteræ–¹æ³•äº†ï¼Œå‰é¢è¯´çš„ä»£ç†çš„å«ä¹‰æŒ‡æˆ‘ä»¬ä¸ç›´æ¥æ“ä½œï¼Œè€Œæ˜¯æ‰¾ä¸ªä¸­é—´å•†æ¥èµšå·®ä»·ï¼Œé‚£ä¹ˆæ–¹æ¡ˆå°±å‡ºæ¥äº†</p><p>å°†åŸSourceAæ‹·è´åˆ°ç›®æ ‡DestB</p><ul><li>åˆ›å»ºä¸€ä¸ªä»£ç† copyProxy</li><li>åœ¨ä»£ç†ä¸­ï¼Œä¾æ¬¡è°ƒç”¨ SourceAçš„getæ–¹æ³•è·å–å±æ€§å€¼ï¼Œç„¶åè°ƒç”¨DestBçš„setæ–¹æ³•è¿›è¡Œèµ‹å€¼</li></ul><p>å®é™…ä¸ŠBeanCopierçš„æ€è·¯å¤§è‡´å¦‚ä¸Šï¼Œå…·ä½“çš„æ–¹æ¡ˆå½“ç„¶å°±ä¸å¤ªä¸€æ ·äº†, ç®€å•çœ‹äº†ä¸€ä¸‹å®ç°é€»è¾‘ï¼ŒæŒºæœ‰æ„æ€çš„ä¸€å—ï¼Œå…ˆç•™ä¸ªå‘ï¼Œåé¢å•ç‹¬å¼€ä¸ªåšæ–‡è¡¥ä¸Š</p><p><strong>è¯´æ˜</strong></p><p>ä»å®ç°åŸç†å’Œé€šè¿‡ç®€å•çš„æµ‹è¯•ï¼Œå‘ç°BeanCopieræ˜¯æ‰«æåŸå¯¹è±¡çš„getXXXæ–¹æ³•ï¼Œç„¶åèµ‹å€¼ç»™åŒåçš„ setXXX æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸­æŸä¸ªå±æ€§æ²¡æœ‰get/setæ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ— æ³•èµ‹å€¼æˆåŠŸäº†</p><hr><h2 id="_3-å°ç»“-4" tabindex="-1"><a class="header-anchor" href="#_3-å°ç»“-4" aria-hidden="true">#</a> 3. å°ç»“</h2><h3 id="_3-1-æ·±æ‹·è´å’Œæµ…æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_3-1-æ·±æ‹·è´å’Œæµ…æ‹·è´" aria-hidden="true">#</a> 3.1 æ·±æ‹·è´å’Œæµ…æ‹·è´</h3><p><strong>æ·±æ‹·è´</strong></p><blockquote><p>ç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œåªæ˜¯è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å†…å®¹ï¼Œéƒ½å’Œè¢«æ‹·è´çš„å¯¹è±¡ä¸€æ¨¡ä¸€æ ·è€Œå·²ï¼Œå³ä¸¤è€…çš„ä¿®æ”¹æ˜¯éš”ç¦»çš„ï¼Œç›¸äº’ä¹‹é—´æ²¡æœ‰å½±å“</p></blockquote><ul><li>å®Œå…¨ç‹¬ç«‹</li></ul><p><strong>æµ…æ‹·è´</strong></p><blockquote><p>ä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡çš„æŸäº›å†…å®¹ï¼ˆæ¯”å¦‚Aï¼‰ä¾ç„¶æ˜¯è¢«æ‹·è´å¯¹è±¡çš„ï¼Œå³é€šè¿‡è¿™ä¸¤ä¸ªå¯¹è±¡ä¸­ä»»æ„ä¸€ä¸ªä¿®æ”¹Aï¼Œä¸¤ä¸ªå¯¹è±¡çš„Aéƒ½ä¼šå—åˆ°å½±å“</p></blockquote><ul><li>ç­‰åŒä¸æ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åä½¿ç”¨=ï¼Œå°†åŸå¯¹è±¡çš„å±æ€§èµ‹å€¼ç»™æ–°å¯¹è±¡çš„å±æ€§</li><li>éœ€è¦å®ç°Cloneableæ¥å£</li></ul><h3 id="_3-2-å¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-2-å¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹æ³•" aria-hidden="true">#</a> 3.2 å¯¹è±¡æ‹·è´çš„ä¸¤ç§æ–¹æ³•</h3><p><strong>é€šè¿‡åå°„æ–¹å¼å®ç°å¯¹è±¡æ‹·è´</strong></p><p>ä¸»è¦åŸç†å°±æ˜¯é€šè¿‡åå°„è·å–æ‰€æœ‰çš„å±æ€§ï¼Œç„¶ååå°„æ›´æ”¹å±æ€§çš„å†…å®¹</p><p><strong>é€šè¿‡ä»£ç†å®ç°å¯¹è±¡æ‹·è´</strong></p><p>å°†åŸSourceAæ‹·è´åˆ°ç›®æ ‡DestB</p><p>åˆ›å»ºä¸€ä¸ªä»£ç† copyProxy åœ¨ä»£ç†ä¸­ï¼Œä¾æ¬¡è°ƒç”¨ SourceAçš„getæ–¹æ³•è·å–å±æ€§å€¼ï¼Œç„¶åè°ƒç”¨DestBçš„setæ–¹æ³•è¿›è¡Œèµ‹å€¼</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜32-javaå¯ä»¥å¦‚ä½•å®ç°æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜32-javaå¯ä»¥å¦‚ä½•å®ç°æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬" aria-hidden="true">#</a> å®æˆ˜32ï¼šJavaå¯ä»¥å¦‚ä½•å®ç°æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬</h1><p>åº”ç”¨ä¸­ä½¿ç”¨logbackä½œä¸ºæ—¥å¿—è¾“å‡ºç»„ä»¶çš„è¯ï¼Œå¤§éƒ¨åˆ†ä¼šå»é…ç½® <code>logback.xml</code> è¿™ä¸ªæ–‡ä»¶ï¼Œè€Œä¸”ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œç›´æ¥å»ä¿®æ”¹logback.xmlæ–‡ä»¶ä¸­çš„æ—¥å¿—çº§åˆ«ï¼Œä¸ç”¨é‡å¯åº”ç”¨å°±å¯ä»¥ç”Ÿæ•ˆ</p><p>é‚£ä¹ˆï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><!-- more --><h2 id="_1-é—®é¢˜æè¿°åŠåˆ†æ" tabindex="-1"><a class="header-anchor" href="#_1-é—®é¢˜æè¿°åŠåˆ†æ" aria-hidden="true">#</a> 1. é—®é¢˜æè¿°åŠåˆ†æ</h2><p>é’ˆå¯¹ä¸Šé¢çš„è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæŠ›å‡ºä¸€ä¸ªå®é™…çš„caseï¼Œåœ¨æˆ‘çš„ä¸ªäººç½‘ç«™ * <a href="https://tool.hhui.top/" target="_blank" rel="noopener noreferrer">ç¥å¥‡å·¥å…·ç®± - å°å·¥å…·é›†åˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸­ï¼Œæ‰€æœ‰çš„å°å·¥å…·éƒ½æ˜¯é€šè¿‡é…ç½®æ–‡ä»¶æ¥åŠ¨æ€æ–°å¢å’Œéšè—çš„ï¼Œå› ä¸ºåªæœ‰ä¸€å°æœåŠ¡å™¨ï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶å°±ç®€åŒ–çš„ç›´æ¥æ”¾åœ¨äº†æœåŠ¡å™¨çš„æŸä¸ªç›®å½•ä¸‹</p><p>ç°åœ¨çš„é—®é¢˜æ—¶ï¼Œæˆ‘éœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œåº”ç”¨å¯ä»¥æ„ŸçŸ¥è¿™ç§å˜åŠ¨ï¼Œå¹¶é‡æ–°åŠ è½½æ–‡ä»¶å†…å®¹ï¼Œæ›´æ–°åº”ç”¨å†…éƒ¨ç¼“å­˜</p><p>ä¸€ä¸ªæœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•ï¼Œå°±æ˜¯è½®è¯¢ï¼Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿä¿®æ”¹ï¼Œå¦‚æœä¿®æ”¹äº†ï¼Œåˆ™é‡æ–°åŠ è½½ï¼Œå¹¶åˆ·æ–°å†…å­˜ï¼Œæ‰€ä»¥ä¸»è¦éœ€è¦å…³å¿ƒçš„é—®é¢˜å¦‚ä¸‹ï¼š</p><ul><li>å¦‚ä½•è½®è¯¢ï¼Ÿ</li><li>å¦‚ä½•åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¿®æ”¹ï¼Ÿ</li><li>é…ç½®å¼‚å¸¸ï¼Œä¼šä¸ä¼šå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼Ÿï¼ˆå³å®¹é”™ï¼Œè¿™ä¸ªä¸æœ¬æ¬¡ä¸»é¢˜å…³è”ä¸å¤§ï¼Œä½†åˆæ¯”è¾ƒé‡è¦...ï¼‰</li></ul><h2 id="_2-è®¾è®¡ä¸å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-è®¾è®¡ä¸å®ç°" aria-hidden="true">#</a> 2. è®¾è®¡ä¸å®ç°</h2><p>é—®é¢˜æŠ½è±¡å‡ºæ¥ä¹‹åï¼Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆå°±æ¯”è¾ƒæ¸…æ™°äº†</p><ul><li>å¦‚ä½•è½®è¯¢ ï¼Ÿ --ã€‹ å®šæ—¶å™¨ Timer, ScheduledExecutorService éƒ½å¯ä»¥å®ç°</li><li>å¦‚ä½•åˆ¤æ–­æ–‡ä»¶ä¿®æ”¹ï¼Ÿ --ã€‹æ ¹æ® <code>java.io.File#lastModified</code> è·å–æ–‡ä»¶çš„ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´ï¼Œæ¯”å¯¹å³å¯</li></ul><p>é‚£ä¹ˆä¸€ä¸ªå¾ˆç®€å•çš„å®ç°å°±æ¯”è¾ƒå®¹æ˜“äº†:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileUpTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span> lastTime<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFileUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;/tmp/alarmConfig&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é¦–å…ˆæ–‡ä»¶çš„æœ€è¿‘ä¸€æ¬¡ä¿®æ”¹æ—¶é—´æˆ³</span>
        lastTime <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å®šæ—¶ä»»åŠ¡ï¼Œæ¯ç§’æ¥åˆ¤æ–­ä¸€ä¸‹æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŠ¨ï¼Œå³åˆ¤æ–­lastModifiedæ˜¯å¦æ”¹å˜</span>
        <span class="token class-name">ScheduledExecutorService</span> scheduledExecutorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scheduledExecutorService<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> lastTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;file update! time : &quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    lastTime <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªå±äºä¸€ä¸ªéå¸¸ç®€å•ï¼Œéå¸¸åŸºç¡€çš„å®ç°äº†ï¼ŒåŸºæœ¬ä¸Šä¹Ÿå¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªå®ç°æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p><p><strong>å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œä¸­ï¼Œå¦‚æœå‡ºç°äº†å¼‚å¸¸ä¼šæ€æ ·ï¼Ÿ</strong></p><p>å¯¹ä¸Šé¢çš„ä»£ç ç¨ä½œä¿®æ”¹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileUpTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span> lastTime<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ttt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFileUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;/tmp/alarmConfig&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        lastTime <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ScheduledExecutorService</span> scheduledExecutorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scheduledExecutorService<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> lastTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;file update! time : &quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    lastTime <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">ttt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…æµ‹è¯•ï¼Œå‘ç°åªæœ‰é¦–æ¬¡ä¿®æ”¹çš„æ—¶å€™ï¼Œè§¦å‘äº†ä¸Šé¢çš„ä»£ç ï¼Œä½†æ˜¯å†æ¬¡ä¿®æ”¹åˆ™æ²¡æœ‰æ•ˆæœäº†ï¼Œå³å½“æŠ›å‡ºå¼‚å¸¸ä¹‹åï¼Œå®šæ—¶ä»»åŠ¡å°†ä¸å†ç»§ç»­æ‰§è¡Œäº†ï¼Œè¿™ä¸ªé—®é¢˜çš„ä¸»è¦åŸå› æ˜¯å› ä¸º <code>ScheduledExecutorService</code> çš„åŸå› äº†</p><p>ç›´æ¥æŸ¥çœ‹ScheduledExecutorServiceçš„æºç æ³¨é‡Šè¯´æ˜</p><blockquote><p>If any execution of the task encounters an exception, subsequent executions are suppressed.Otherwise, the task will only terminate via cancellation or termination of the executor. å³å¦‚æœå®šæ—¶ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°å‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™åé¢çš„ä»»åŠ¡å°†ä¸å†æ‰§è¡Œã€‚</p></blockquote><p><strong>æ‰€ä»¥ï¼Œä½¿ç”¨è¿™ç§å§¿åŠ¿çš„æ—¶å€™ï¼Œå¾—ç¡®ä¿è‡ªå·±çš„ä»»åŠ¡ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™åé¢å°±æ²¡æ³•ç©äº†</strong></p><p>å¯¹åº”çš„è§£å†³æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ•´ä¸ªcatchä¸€ä¸‹å°±å¥½</p><h2 id="_3-è¿›é˜¶ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#_3-è¿›é˜¶ç‰ˆ" aria-hidden="true">#</a> 3. è¿›é˜¶ç‰ˆ</h2><p>å‰é¢æ˜¯ä¸€ä¸ªåŸºç¡€çš„å®ç°ç‰ˆæœ¬äº†ï¼Œå½“ç„¶åœ¨javaåœˆï¼ŒåŸºæœ¬ä¸Šå¾ˆå¤šå¸¸è§çš„éœ€æ±‚ï¼Œéƒ½æ˜¯å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å¼€æºå·¥å…·æ¥ä½¿ç”¨çš„ï¼Œå½“ç„¶è¿™ä¸ªä¹Ÿä¸ä¾‹å¤–ï¼Œè€Œä¸”åº”è¯¥è¿˜æ˜¯å¤§å®¶æ¯”è¾ƒå±æ€§çš„apacheç³»åˆ—</p><h3 id="_3-1-apacheç‰ˆ" tabindex="-1"><a class="header-anchor" href="#_3-1-apacheç‰ˆ" aria-hidden="true">#</a> 3.1 apacheç‰ˆ</h3><p>é¦–å…ˆmavenä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸»è¦æ˜¯å€ŸåŠ©è¿™ä¸ªå·¥å…·ä¸­çš„ <code>FileAlterationObserver</code>, <code>FileAlterationListener</code>, <code>FileAlterationMonitor</code> ä¸‰ä¸ªç±»æ¥å®ç°ç›¸å…³çš„éœ€æ±‚åœºæ™¯äº†ï¼Œå½“ç„¶ä½¿ç”¨ä¹Ÿç®—æ˜¯å¾ˆç®€å•äº†ï¼Œä»¥è‡³äºéƒ½ä¸å¤ªæ¸…æ¥šå¯ä»¥å†æ€ä¹ˆå»è¯´æ˜äº†ï¼Œç›´æ¥çœ‹ä¸‹é¢ä»æˆ‘çš„ä¸€ä¸ªå¼€æºé¡¹ç›®quick-alarmä¸­æ‹·è´å‡ºæ¥çš„ä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesConfListenerHelper</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">registerConfChangeListener</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">File</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">AlarmConfig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// è½®è¯¢é—´éš” 5 ç§’</span>
            <span class="token keyword">long</span> interval <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token comment">// å› ä¸ºç›‘å¬æ˜¯ä»¥ç›®å½•ä¸ºå•ä½è¿›è¡Œçš„ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥è·å–æ–‡ä»¶çš„æ ¹ç›®å½•</span>
            <span class="token class-name">File</span> dir <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getParentFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è§‚å¯Ÿå™¨ç”¨äºè¿‡æ»¤</span>
            <span class="token class-name">FileAlterationObserver</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileAlterationObserver</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span>
                    <span class="token class-name">FileFilterUtils</span><span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name">FileFilterUtils</span><span class="token punctuation">.</span><span class="token function">fileFileFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            <span class="token class-name">FileFilterUtils</span><span class="token punctuation">.</span><span class="token function">nameFileFilter</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//è®¾ç½®æ–‡ä»¶å˜åŒ–ç›‘å¬å™¨</span>
            observer<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyFileListener</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">FileAlterationMonitor</span> monitor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileAlterationMonitor</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span> observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            monitor<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;register properties change listener error! e:{}&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">MyFileListener</span> <span class="token keyword">extends</span> <span class="token class-name">FileAlterationListenerAdaptor</span> <span class="token punctuation">{</span>

        <span class="token keyword">private</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">File</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">AlarmConfig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">MyFileListener</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">File</span><span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">AlarmConfig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>func <span class="token operator">=</span> func<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFileChange</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">AlarmConfig</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœåŠ è½½å¤±è´¥ï¼Œæ‰“å°ä¸€æ¡æ—¥å¿—</span>
            log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;PropertiesConfig changed! reload ans: {}&quot;</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é’ˆå¯¹ä¸Šé¢çš„å®ç°ï¼Œç®€å•è¯´æ˜å‡ ç‚¹ï¼š</p><ul><li>è¿™ä¸ªæ–‡ä»¶ç›‘å¬ï¼Œæ˜¯ä»¥ç›®å½•ä¸ºæ ¹æºï¼Œç„¶åå¯ä»¥è®¾ç½®è¿‡æ»¤å™¨ï¼Œæ¥å®ç°å¯¹åº”æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬</li><li>å¦‚ä¸Šé¢<code>registerConfChangeListener</code>æ–¹æ³•ï¼Œä¼ å…¥çš„fileæ˜¯å…·ä½“çš„é…ç½®æ–‡ä»¶ï¼Œå› æ­¤æ„å»ºå‚æ•°çš„æ—¶å€™ï¼Œæå‡ºäº†ç›®å½•ï¼Œæå‡ºäº†æ–‡ä»¶åä½œä¸ºè¿‡æ»¤</li><li>ç¬¬äºŒå‚æ•°æ˜¯jdk8è¯­æ³•ï¼Œå…¶ä¸­ä¸ºå…·ä½“çš„è¯»å–é…ç½®æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ˜ å°„ä¸ºå¯¹åº”çš„å®ä½“å¯¹è±¡</li></ul><p>ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœ funcæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œä¹ŸæŠ›å‡ºäº†å¼‚å¸¸ï¼Œä¼šæ€æ ·ï¼Ÿ</p><p>å®é™…æµ‹è¯•è¡¨ç°ç»“æœå’Œä¸Šé¢ä¸€æ ·ï¼ŒæŠ›å‡ºå¼‚å¸¸ä¹‹åï¼Œä¾ç„¶è·ªï¼Œæ‰€ä»¥ä¾ç„¶å¾—æ³¨æ„ï¼Œä¸è¦è·‘å¼‚å¸¸</p><p>é‚£ä¹ˆç®€å•æ¥çœ‹ä¸€ä¸‹ä¸Šé¢çš„å®ç°é€»è¾‘ï¼Œç›´æ¥æ‰£å‡ºæ ¸å¿ƒæ¨¡å—</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>running<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Iterator</span> var1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span>var1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">FileAlterationObserver</span> observer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">FileAlterationObserver</span><span class="token punctuation">)</span>var1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                observer<span class="token punctuation">.</span><span class="token function">checkAndNotify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>running<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> var3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢åŸºæœ¬ä¸Šä¸€ç›®äº†ç„¶ï¼Œæ•´ä¸ªçš„å®ç°é€»è¾‘äº†ï¼Œå’Œæˆ‘ä»¬çš„ç¬¬ä¸€ç§å®šæ—¶ä»»åŠ¡çš„æ–¹æ³•ä¸å¤ªä¸€æ ·ï¼Œè¿™å„¿ç›´æ¥ä½¿ç”¨çº¿ç¨‹ï¼Œæ­»å¾ªç¯ï¼Œå†…éƒ¨é‡‡ç”¨sleepçš„æ–¹å¼æ¥æ¥æš‚åœï¼Œå› æ­¤å‡ºç°å¼‚å¸¸æ—¶ï¼Œç›¸å½“äºç›´æ¥æŠ›å‡ºå»äº†ï¼Œè¿™ä¸ªçº¿ç¨‹å°±è·ªäº†</p><h3 id="_3-2-jdkç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#_3-2-jdkç‰ˆæœ¬" aria-hidden="true">#</a> 3.2 JDKç‰ˆæœ¬</h3><p>jdk1.7ï¼Œæä¾›äº†ä¸€ä¸ª<code>WatchService</code>ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®ç°æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬ï¼Œä¹‹å‰ä¹Ÿæ²¡æœ‰æ¥è§¦è¿‡ï¼Œçœ‹åˆ°è¯´æ˜ï¼Œç„¶åæœäº†ä¸€ä¸‹ä½¿ç”¨ç›¸å…³ï¼Œå‘ç°ä¹ŸæŒºç®€å•çš„ï¼ŒåŒæ ·ç»™å‡ºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹demo</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFileUpWather</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¯´æ˜ï¼Œè¿™é‡Œçš„ç›‘å¬ä¹Ÿå¿…é¡»æ˜¯ç›®å½•</span>
    <span class="token class-name">Path</span> path <span class="token operator">=</span> <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/tmp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">WatchService</span> watcher <span class="token operator">=</span> <span class="token class-name">FileSystems</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newWatchService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    path<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>watcher<span class="token punctuation">,</span> <span class="token constant">ENTRY_MODIFY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">WatchKey</span> key <span class="token operator">=</span> watcher<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">WatchEvent</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> event <span class="token operator">:</span> key<span class="token punctuation">.</span><span class="token function">pollEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">OVERFLOW</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">//äº‹ä»¶å¯èƒ½lost or discarded </span>
                        <span class="token keyword">continue</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token class-name">Path</span> fileName <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Path</span><span class="token punctuation">)</span> event<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ–‡ä»¶æ›´æ–°: &quot;</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// é‡è®¾WatchKey</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_4-å°ç»“" aria-hidden="true">#</a> 4. å°ç»“</h2><p>ä½¿ç”¨Javaæ¥å®ç°é…ç½®æ–‡ä»¶å˜åŠ¨çš„ç›‘å¬ï¼Œä¸»è¦æ¶‰åŠåˆ°çš„å°±æ˜¯ä¸¤ä¸ªç‚¹</p><ul><li>å¦‚ä½•è½®è¯¢ï¼š å®šæ—¶å™¨ï¼ˆTimer, ScheduledExecutorServiceï¼‰, çº¿ç¨‹æ­»å¾ªç¯+sleep</li><li>æ–‡ä»¶ä¿®æ”¹ï¼š File#lastModified</li></ul><p>æ•´ä½“æ¥è¯´ï¼Œè¿™ä¸ªå®ç°è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæ— è®ºæ˜¯è‡ªå®šä¹‰å®ç°ï¼Œè¿˜æ˜¯ä¾èµ– commos-ioæ¥åšï¼Œéƒ½æ²¡å¤ªå¤§çš„æŠ€æœ¯æˆæœ¬ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼š</p><ul><li>åƒä¸‡ä¸è¦åœ¨å®šæ—¶ä»»åŠ¡ or æ–‡ä»¶å˜åŠ¨çš„å›è°ƒæ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸ï¼ï¼ï¼</li></ul><p>ä¸ºäº†é¿å…ä¸Šé¢è¿™ä¸ªæƒ…å†µï¼Œä¸€ä¸ªå¯ä»¥åšçš„å®ç°æ˜¯å€ŸåŠ©EventBusçš„å¼‚æ­¥æ¶ˆæ¯é€šçŸ¥æ¥å®ç°ï¼Œå½“æ–‡ä»¶å˜åŠ¨ä¹‹åï¼Œå‘é€ä¸€ä¸ªæ¶ˆæ¯å³å¯ï¼Œç„¶ååœ¨å…·ä½“çš„é‡æ–°åŠ è½½æ–‡ä»¶å†…å®¹çš„æ–¹æ³•ä¸Šï¼Œæ·»åŠ ä¸€ä¸ª <code>@Subscribe</code>æ³¨è§£å³å¯ï¼Œè¿™æ ·æ—¢å®ç°äº†è§£è€¦ï¼Œä¹Ÿé¿å…äº†å¼‚å¸¸å¯¼è‡´çš„æœåŠ¡å¼‚å¸¸ ï¼ˆå¦‚æœå¯¹è¿™ä¸ªå®ç°æœ‰å…´è¶£çš„å¯ä»¥è¯„è®ºè¯´æ˜ï¼‰</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜33-å®ç”¨çš„mapåˆå§‹åŒ–å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜33-å®ç”¨çš„mapåˆå§‹åŒ–å·¥å…·ç±»" aria-hidden="true">#</a> å®æˆ˜33ï¼šå®ç”¨çš„Mapåˆå§‹åŒ–å·¥å…·ç±»</h1><p>è™½è¯´javaä½œä¸ºç¼–è¯‘è¯­è¨€ï¼Œä½†æ˜¯å®ƒæœ¬èº«ä¹Ÿæä¾›äº†å¾ˆå¤šè¿è¡Œæ—¶èƒ½åŠ›ï¼Œä»Šå¤©ä»‹ç»ä¸€ä¸ªéå¸¸åŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œå¯å˜å‚æ•°ä¼ é€’</p><!-- more --><p>åœ¨æ—¥å¸¸çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºMapå¯¹è±¡è¿˜æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œç°åœ¨æˆ‘å¸Œæœ›å†™ä¸€ä¸ªå·¥å…·ç±»ï¼Œå¯ä»¥éå¸¸ç®€å•åˆ›å»ºå¹¶åˆå§‹åŒ–Mapå¯¹è±¡</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªMapUtilå·¥å…·ç±»ï¼Œæ¥æ”¯æŒè¿™ä¸ªåœºæ™¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> kv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> kv<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">K</span><span class="token punctuation">)</span> kv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">V</span><span class="token punctuation">)</span> kv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸€ä¸‹ä¸Šé¢çš„å®ç°ï¼Œkvè¿™ä¸ªå‚æ•°å°±æ˜¯æˆ‘ä»¬è¦è¯´çš„å¯å˜å‚æ•°ï¼Œåœ¨æ–¹æ³•å†…éƒ¨ï¼Œkvå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼ˆè€Œä¸”æ˜¯å®‰å…¨çš„å¯¹è±¡ï¼Œå½“ä¸ä¼ é€’æ—¶ï¼Œå®ƒçš„å–å€¼ä¹Ÿä¸æ˜¯nullï¼‰</p><p>åœ¨ä½¿ç”¨å¯å˜å‚æ•°æ—¶ï¼Œä¸‹é¢æ˜¯ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹</p><p><strong>å¯å˜å‚æ•°æ³¨æ„ä¸æ•°ç»„å‚æ•°çš„å†²çª</strong></p><p>æ³¨æ„ä¸‹é¢çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸èƒ½åŒæ—¶å‡ºç°ï¼Œç›´æ¥å‡ºç°ç¼–è¯‘é”™è¯¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> kv<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> kv<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é‡è½½çš„é€‰æ‹©</strong></p><p>å¦‚æœåªæœ‰ä¸€ä¸ªå¯å˜å‚æ•°çš„æ–¹æ³•ï¼Œ<code>newMap(&quot;key&quot;, &quot;value&quot;)</code>ä¸ä¼šæŠ¥é”™ï¼Œä¼šç›´æ¥è®¿é—®ä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼Œkvå‚æ•°ä¸ºç©ºæ•°ç»„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> kv<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“å‡ºç°é‡è½½æ—¶ï¼Œå³å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> kv<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•çš„è°ƒç”¨ï¼Œå¦‚æœä¼ å‚åªæœ‰ä¸¤ä¸ªæ—¶ï¼Œä¼šè°ƒç”¨å“ªä¸ªï¼Ÿ</p><ul><li><code>newMap(&quot;key&quot;, &quot;value&quot;)</code> è°ƒç”¨çš„ä¸‹é¢çš„æ–¹æ³•</li><li>`newMap(&quot;key&quot;, &quot;value&quot;, &quot;k&quot;, &quot;v&quot;) è°ƒç”¨çš„ä¸Šé¢çš„æ–¹æ³•</li></ul><p><strong>å¯å˜å‚æ•°ä¼ æ•°ç»„ä¼šæ€æ ·</strong></p><p>è™½è¯´æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå°†å¯å˜å‚æ•°å½“åšæ•°ç»„æ¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¼ é€’æ—¶ï¼Œè‹¥ä¼ æ•°ç»„ï¼Œæ˜¯å¦å¯è¡Œå‘¢ï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> kv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> kv<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">K</span><span class="token punctuation">)</span> kv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">V</span><span class="token punctuation">)</span> kv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">tt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span> map <span class="token operator">=</span> <span class="token function">newMap</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…è¾“å‡ºå¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{1=2, key=value}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»å®é™…æµ‹è¯•æ¥çœ‹ï¼Œä¼ æ•°ç»„å¹¶æ²¡æœ‰é—®é¢˜</p><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜34-é€šç”¨çš„æ ¹æ®è·¯å¾„è·å–æ–‡ä»¶èµ„æºçš„å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜34-é€šç”¨çš„æ ¹æ®è·¯å¾„è·å–æ–‡ä»¶èµ„æºçš„å·¥å…·ç±»" aria-hidden="true">#</a> å®æˆ˜34ï¼šé€šç”¨çš„æ ¹æ®è·¯å¾„è·å–æ–‡ä»¶èµ„æºçš„å·¥å…·ç±»</h1><p>é€šå¸¸æˆ‘ä»¬æœ€å¤šçš„åœºæ™¯æ˜¯ä»æœ¬åœ°èµ„æºä¸­è¯»å–æ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç»å¸¸éœ€è¦æ³¨æ„çš„æ˜¯ç›¸å¯¹è·¯å¾„ã€ç»å¯¹è·¯å¾„é—®é¢˜ï¼›</p><p>é™¤äº†ä»æœ¬åœ°è·å–æ–‡ä»¶ä¹‹å¤–ï¼Œä»ç½‘ç»œä¸­è·å–æ–‡ä»¶èµ„æºï¼ˆå¦‚å›¾ç‰‡ï¼‰ä¹Ÿå±äºç›¸å¯¹å¸¸è§çš„åœºæ™¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°è£…ä¸€ä¸ªå·¥å…·ç±»ï¼Œå¯ä»¥æ”¯æŒä»¥ä¸Šå„ç§ç±»å‹çš„æ•°æ®è¯»å–</p><!-- more --><h2 id="_1-å·¥å…·å®ç°ç±»" tabindex="-1"><a class="header-anchor" href="#_1-å·¥å…·å®ç°ç±»" aria-hidden="true">#</a> 1. å·¥å…·å®ç°ç±»</h2><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªå…¬å…±æ–¹æ³•å¦‚ä¸‹ï¼Œå†…éƒ¨æ”¯æŒå››ç§æ–¹å¼çš„æ•°æ®è·å–</p><ul><li>ç›¸å¯¹è·¯å¾„</li><li>ç»å¯¹è·¯å¾„</li><li>ç”¨æˆ·æ ¹ç›®å½•</li><li>ç½‘ç»œ</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">InputStream</span> <span class="token function">getStreamByFileName</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;fileName should not be null!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç½‘ç»œåœ°å€</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">BasicFileUtil</span><span class="token punctuation">.</span><span class="token function">isAbsFile</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç»å¯¹è·¯å¾„</span>
        <span class="token class-name">Path</span> path <span class="token operator">=</span> <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç”¨æˆ·ç›®å½•ä¸‹çš„ç»å¯¹è·¯å¾„æ–‡ä»¶</span>
        fileName <span class="token operator">=</span> <span class="token class-name">BasicFileUtil</span><span class="token punctuation">.</span><span class="token function">parseHomeDir2AbsDir</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// ç›¸å¯¹è·¯å¾„</span>
        <span class="token keyword">return</span> <span class="token class-name">FileReadUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ä¸Šé¢çš„å®ç°ï¼Œç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„æ¯”è¾ƒå¥½ç†è§£ï¼Œç”¨æˆ·ç›®å½•ï¼Œè¿™ä¸ªå¤„ç†åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p>å…³é”®ç‚¹åœ¨äºï¼Œç”¨æˆ·ç›®å½•è½¬ç»å¯¹è·¯å¾„</p><ul><li>å€ŸåŠ©<code>System.getProperties</code>ç³»ç»Ÿå±æ€§æ¥å¤„ç†</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å°†ç”¨æˆ·ç›®å½•ä¸‹åœ°å€~/xxx è½¬æ¢ä¸ºç»å¯¹åœ°å€
 *
 * <span class="token keyword">@param</span> <span class="token parameter">path</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">parseHomeDir2AbsDir</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> homeDir <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.home&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token string">&quot;~&quot;</span><span class="token punctuation">,</span> homeDir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å†çœ‹å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè·¯å¾„æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„å‘¢ï¼Ÿ</p><p>è¿™é‡Œéœ€è¦æ ¼å¤–æ³¨æ„ä¸åŒæ“ä½œç³»ç»Ÿçš„å·®å¼‚æ€§ï¼Œæ¯”å¦‚winï¼ŒåŒºåˆ†Cç›˜ï¼ŒDç›˜ï¼Œä½†æ˜¯mac/linuxåˆ™ä¸åˆ†è¿™ä¸ªï¼Œä¸Šé¢åˆ¤æ–­çš„æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isAbsFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">OSUtil</span><span class="token punctuation">.</span><span class="token function">isWinOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// windows æ“ä½œç³»ç»Ÿæ—¶ï¼Œç»å¯¹åœ°å€å½¢å¦‚  c:\descktop</span>
        <span class="token keyword">return</span> fileName<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> fileName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// mac or linux</span>
        <span class="token keyword">return</span> fileName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * æ˜¯å¦windowsç³»ç»Ÿ
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isWinOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> isWinOS <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> osName <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;os.name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sharpOsName <span class="token operator">=</span> osName<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;windows&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;{windows}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;^win([^a-z])&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;{windows}$1&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;([^a-z])win([^a-z])&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;$1{windows}$2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        isWinOS <span class="token operator">=</span> sharpOsName<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;{windows}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> isWinOS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†ä¸Šé¢çš„ä¸‰ç§æœ¬åœ°èµ„æºè·å–ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ç½‘ç»œèµ„æºçš„è¯»å–ï¼Œä¸Šé¢ä»‹ç»çš„å®ç°å§¿åŠ¿ä¸»è¦æ˜¯åŸºäºJDKåŸç”Ÿçš„URLï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œè¿™ä¸ªå¹¶ä¸ç¨³å®šï¼Œä¸èƒ½ç¡®å®šèƒ½è·å–åˆ°å®Œæ•´çš„æ•°æ®ï¼ŒåŸåˆ™ä¸Šä¸æ¨èä½¿ç”¨ï¼›å¦‚æœå¯ä»¥ï¼Œä½¿ç”¨http-client/okhttpéƒ½æ˜¯ä¸é”™çš„é€‰æ‹©</p><p>æœ€åç»™ä¸€ä¸ªç®€å•çš„æµ‹è¯•</p><p>æœ€åä¸€ä¸ªç®€å•ä¸‹è½½å›¾ç‰‡çš„case</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> img <span class="token operator">=</span> <span class="token string">&quot;https://c-ssl.duitang.com/uploads/item/201809/16/20180916175034_Gr2hk.thumb.1000_0.jpeg&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedImage</span> pic <span class="token operator">=</span> <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token class-name">FileReadUtil</span><span class="token punctuation">.</span><span class="token function">getStreamByFileName</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pic<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0542b4ae409b4336a431fac44c1cef5f~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><hr><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜35-è°ƒç”¨æœ¬åœ°ç¨‹åºçš„å‡ ç§å§¿åŠ¿" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜35-è°ƒç”¨æœ¬åœ°ç¨‹åºçš„å‡ ç§å§¿åŠ¿" aria-hidden="true">#</a> å®æˆ˜35ï¼šè°ƒç”¨æœ¬åœ°ç¨‹åºçš„å‡ ç§å§¿åŠ¿</h1><p>ä½œä¸ºä¸€ä¸ªåç«¯åŒå­¦ï¼Œç»å¸¸è¢«å®‰å…¨çš„å°ä¼™ä¼´ç›¯ä¸Šï¼Œæ‰¾ä¸€æ‰¾å®‰å…¨æ¼æ´ï¼›é™¤äº†å¸¸è¯´çš„æ³¨å…¥ä¹‹å¤–ï¼Œè¿˜æœ‰æ¯”è¾ƒå“äººçš„æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œå”¤é†’æœ¬åœ°åº”ç”¨ç¨‹åºç­‰ï¼›ç„¶åæœ‰æ„æ€çš„é—®é¢˜å°±æ¥äº†ï¼Œå†™äº†è¿™ä¹ˆå¤šå¹´çš„ä»£ç ï¼Œå¥½åƒè¿˜çœŸæ²¡æœ‰å°è¯•è¿‡ç”¨javaæ¥å”¤é†’æœ¬åœ°åº”ç”¨ç¨‹åºçš„</p><p>æ¯”å¦‚è¯´ä¸€ä¸ªæœ€ç®€å•çš„ï¼Œæ‰“å¼€æœ¬åœ°çš„è®¡ç®—å™¨ï¼Œåº”è¯¥æ€ä¹ˆæï¼Ÿ</p><p>æ¥ä¸‹æ¥æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨javaæ‰“å¼€æœ¬åœ°åº”ç”¨ï¼Œä»¥åŠæ‰“å¼€macç³»ç»Ÿä¸­ç‰¹æ®Šä¸€ç‚¹çš„å¤„ç†æ–¹å¼ï¼ˆç›´ç™½æ¥è¯´å°±æ˜¯ä¸åŒæ“ä½œç³»ç»Ÿï¼Œä½¿ç”¨å§¿åŠ¿ä¸ä¸€æ ·ï¼‰</p><!-- more --><h2 id="_1-runtimeä½¿ç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-runtimeä½¿ç”¨æ–¹å¼" aria-hidden="true">#</a> 1. Runtimeä½¿ç”¨æ–¹å¼</h2><p>ä¸»è¦æ˜¯åŸºäº<code>Runtime.getRuntime().exec()</code>æ¥æ‰§è¡Œshellå‘½ä»¤ï¼Œæ¥æ‰“å¼€åº”ç”¨</p><ul><li>ä¼ å‚å°±æ˜¯éœ€è¦æ‰“å¼€çš„åº”ç”¨å</li></ul><p>æ¯”å¦‚ä¸Šé¢è¯´åˆ°çš„æ‰“å¼€è®¡ç®—å™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// winç³»ç»Ÿ</span>
<span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;exec&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// macç³»ç»Ÿ</span>
<span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;open -n /Applications/Calculator.app&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢çš„ä¼ å‚ä¹Ÿå¯ä»¥çœ‹å‡ºä¸¤è€…çš„åŒºåˆ«ï¼Œä¸ºä»€ä¹ˆmacä¼šæ•´ä¸€ä¸ª <code>open -n</code>ï¼Œ è¿™ä¸ªå…¶å®å¯ä»¥ç†è§£ä¸ºåœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼Œæ‰“å¼€è®¡ç®—å™¨</p><p><strong>æ³¨æ„äº‹é¡¹</strong></p><p>å¯¹äºmacç³»ç»Ÿè€Œè¨€ï¼Œé™¤äº†ä¸Šé¢è¿™ç§æ‰“å¼€æ–¹å¼ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸‹é¢è¿™ç§å§¿åŠ¿</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;/Applications/Calculator.app/Contents/MacOS/Calculator&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨execä¸­æŒ‡å®šè®¡ç®—å™¨çš„è·¯å¾„ï¼Œæœ‰ä¸ªå¾ˆå®¹æ˜“é‡‡çš„å‘ï¼Œç›´æ¥å†™æˆä¸‹é¢è¿™ç§</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;/Applications/Calculator.app&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªç›´æ¥æ‰§è¡Œä¹‹åä¼šæç¤º<code>æƒé™é”™è¯¯</code>ï¼Œå…¶ä¸»è¦åŸå› æ˜¯macç³»ç»Ÿçš„åº”ç”¨å’Œwinä¸­çš„exeä½œä¸ºå¯åŠ¨æ–¹å¼ä¸å¤ªä¸€æ ·ï¼Œå¯¹äºmacè€Œè¨€ï¼Œå¯ä»¥ç†è§£<code>xxx.app</code>ä¸ºä¸€ä¸ªç›®å½•ï¼ŒçœŸæ­£æ‰§è¡Œæ–‡ä»¶æ˜¯å†…éƒ¨çš„<code>xxx/Contents/MacOS/xxx</code></p><h2 id="_2-processbuilderä½¿ç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-processbuilderä½¿ç”¨æ–¹å¼" aria-hidden="true">#</a> 2. ProcessBuilderä½¿ç”¨æ–¹å¼</h2><p>é™¤äº†Runtimeå”¤èµ·ä¹‹å¤–ï¼Œä½¿ç”¨ProcessBuilderä¹Ÿå±äºéå¸¸å¸¸è§çš„case</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// win</span>
<span class="token keyword">new</span> <span class="token class-name">ProcessBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;exec&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// mac æ³¨æ„ï¼Œä½¿ç”¨ä¸‹é¢è¿™ä¸ªï¼Œåˆ™ä¼ å‚ä¸èƒ½æ˜¯ open -n xxx</span>
<span class="token keyword">new</span> <span class="token class-name">ProcessBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;/Applications/Calculator.app/Contents/MacOS/Calculator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ä¸Šé¢è¿™ç§å§¿åŠ¿ï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯å†…éƒ¨ä¼ å‚ä¸èƒ½æ˜¯<code>open -n</code></p><h2 id="_3-å°ç»“-5" tabindex="-1"><a class="header-anchor" href="#_3-å°ç»“-5" aria-hidden="true">#</a> 3. å°ç»“</h2><p>ä»ä¸Šé¢ä»‹ç»çš„æ–¹å¼æ¥çœ‹ï¼Œå…¶å®æ‰“å¼€åº”ç”¨ç¨‹åºçš„æ€è·¯ä¸»è¦å°±æ˜¯åˆ©ç”¨javaæ¥æ‰§è¡Œè„šæœ¬å‘½ä»¤ï¼›å†…å®¹æ¯”è¾ƒç®€å•ï¼Œéšæ‚£å´æ˜¯æ¯”è¾ƒå¤§çš„ï¼›åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œæœ€å¥½ä¸è¦å‡ºç°è¿™ç§è°ƒç”¨æ–¹å¼</p><p>å¾®ä¿¡æœ <strong>æ¥¼ä»”</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æ¥¼ä»”çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ <strong>110</strong> å³å¯å…è´¹é¢†å– 10 æœ¬é¢è¯•å¿…åˆ·å…«è‚¡æ–‡ã€‚ <img src="https://files.mdnice.com/user/13837/4b47ac79-8256-47cf-ac1a-036729635246.png" alt="" loading="lazy"></p><hr><h1 id="å®æˆ˜36-æŠ€æœ¯æ´¾å¼€æºé¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#å®æˆ˜36-æŠ€æœ¯æ´¾å¼€æºé¡¹ç›®" aria-hidden="true">#</a> å®æˆ˜36ï¼šæŠ€æœ¯æ´¾å¼€æºé¡¹ç›®</h1><p>å¤§å®¶å¥½ï¼Œè¶³è¶³æäº†åŠå¹´ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé¡¹ç›®â€”â€”æŠ€æœ¯æ´¾ï¼Œç»ˆäºä¸Šçº¿å•¦ï¼</p><p>ä¹‹å‰å°±æœ‰å¾ˆå¤šç²‰ä¸å‚¬ï¼Œä¹…ç­‰äº†å„ä½ï¼å¿ƒæ€¥çš„å°ä¼™ä¼´ï¼Œå¯ä»¥åˆ°æ–‡æœ«ç›´æ¥çœ‹ç½‘ç«™åŸŸåã€‚</p><p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘å…ˆæ¥ä»‹ç»ï¼ˆå¹ä¸€å¹ï¼‰ç½‘ç«™ã€‚</p><h2 id="ç½‘ç«™å†…å®¹æœ‰ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ç½‘ç«™å†…å®¹æœ‰ä»€ä¹ˆ" aria-hidden="true">#</a> ç½‘ç«™å†…å®¹æœ‰ä»€ä¹ˆï¼Ÿ</h2><p>æŠ€æœ¯æ´¾è‡´åŠ›äºæ‰“é€ ä¸€ä¸ªå®Œæ•´çš„ç¤¾åŒºå¹³å°ï¼Œé‡‡ç”¨ç°é˜¶æ®µæœ€æµè¡Œçš„æŠ€æœ¯å®ç°ã€‚</p><p>ç½‘ç«™çš„å†…å®¹ä¸°å¯Œï¼Œåˆä¸å¤±æ•´æ´ï¼Œæ•´ä½“ä»¥æ©˜è‰²ä¸ºä¸»è‰²è°ƒï¼Œé¢œå€¼å¾ˆé«˜ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/180e1ba7-7074-43b7-9250-ac6bc158b1a9.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä»€ä¹ˆï¼Œå¡ç‰‡çš„é¢œè‰²ä¸å–œæ¬¢ï¼Ÿæˆ‘ä»¬è¿˜æœ‰å…¶å®ƒçš„ï¼Œ<strong>è¿™äº›è‰²ç³»æ˜¯æ ¹æ®å›¾ç‰‡è‡ªåŠ¨è¯†åˆ«</strong>ï¼Œæ»¡æ»¡çš„é»‘ç§‘æŠ€ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/0d4b3010-58a1-4279-9268-574981ca81e9.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å†çœ‹çœ‹æ–‡ç« è¯¦æƒ…é¡µï¼Œæ•´ä¸ªé˜…è¯»ä½“éªŒéå¸¸ä¸é”™ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/9d52c137-5b44-4ffe-a6a8-98df2d40f739.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é™¤äº†æ–‡ç« ï¼Œæˆ‘ä»¬è¿˜æœ‰é…å¥—çš„æ•™ç¨‹ï¼Œç›®å‰çš„æ•™ç¨‹ï¼Œéƒ½æ˜¯æ¥¼ä»”çš„åŸåˆ›ç³»åˆ—æ–‡ç« ï¼Œè®©ä½ åˆ·å¾—é£èµ·ï¼Œå˜å˜ã€‚ã€‚ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/4492a683-f131-4320-b8fe-e3d5e78a567e.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸‹é¢æ˜¯ä¸ªäººä¸­å¿ƒï¼Œè¿˜æ˜¯æˆ‘å–œæ¬¢çš„é…è‰²ï¼Œå¦‚æœä½ ä¹Ÿå–œæ¬¢å†™æ–‡ï¼Œæ¬¢è¿å…¥é©»å“ˆï¼Œæ²¡äº‹ä¸€èµ·ä¾ƒä¾ƒå¤§å±±ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/5b9617c7-b728-4824-9331-b538933b7e3a.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é‚£å¦‚ä½•ç™»å½•å‘¢ï¼Ÿå½“ç„¶æ˜¯å¾®ä¿¡æ‰«ç å‘—ï¼Œæ¥æ¥ï¼Œä¸€èµ·æ‰«ä¸€æ‰«ï¼Œå…¬ä¼—å·å†…è¾“å…¥éªŒè¯ç ï¼Œå³å¯ç™»å½•æˆåŠŸï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿ</p><figure><img src="https://files.mdnice.com/user/13837/8d8b4592-0e64-49e7-8caf-a8386f60cb08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯†ï¼Œ<strong>ç™»å½•åï¼Œè¿˜ä¼šæœ‰æƒŠå–œå“¦</strong>ï¼Œä¸€èˆ¬äººæˆ‘ä¸å‘Šè¯‰ä»–ï¼Œå˜¿å˜¿ã€‚ã€‚ã€‚</p><p>é™¤äº†å‰ç«¯ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰è‡ªå·±çš„è¿è¥åå°ï¼Œæ–‡æœ«æœ‰ç™»å½•æ–¹å¼ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/fbacda81-41a9-4f88-8eac-d3826828df47.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="æŠ€æœ¯æ´¾èƒ½ç»™ä½ æä¾›ä»€ä¹ˆå¸®åŠ©å‘¢" tabindex="-1"><a class="header-anchor" href="#æŠ€æœ¯æ´¾èƒ½ç»™ä½ æä¾›ä»€ä¹ˆå¸®åŠ©å‘¢" aria-hidden="true">#</a> æŠ€æœ¯æ´¾èƒ½ç»™ä½ æä¾›ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿ</h2><p>å¯èƒ½æœ‰ç²‰ä¸ä¼šé—® â€œå¸‚é¢ä¸Šçš„æŠ€æœ¯ç½‘ç«™å·²ç»å¾ˆå¤šï¼Œä½ ä»¬ä¸ºå•¥è¿˜è¦åšä¸€ä¸ªå‘¢ï¼Ÿâ€</p><p>å…¶å®æˆ‘ä»¬åšè¿™ä¸ªç½‘ç«™çš„ç›®çš„ï¼Œ<strong>ä¸»è¦æ˜¯ä¸ºäº†æ•™å¤§å®¶å¦‚ä½•ä» 0 åˆ° 1 å»æ„å»ºä¸€ä¸ªå•†ä¸šåŒ–çš„ç¤¾åŒºå¹³å°</strong>ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›ç¼ºä¹é¡¹ç›®ç»éªŒï¼Œæˆ–è€…éœ€è¦æ·±å…¥å­¦ä¹  Java çš„åŒå­¦ã€‚</p><p>ä¸‹é¢æˆ‘å°±ç»™å¤§å®¶è®²è®²ï¼ŒæŠ€æœ¯æ´¾ç”¨åˆ°å“ªäº›ç‰›é€¼çš„æ¡†æ¶çš„æŠ€æœ¯ã€‚</p><p>æŠ€æœ¯æ´¾åŒ…æ‹¬å‰å°ç¤¾åŒºç³»ç»Ÿå’Œåå°ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº SpringBoot + MyBatis Plus å®ç°ï¼Œé‡‡ç”¨ Docker å®¹å™¨åŒ–éƒ¨ç½²ã€‚</p><p><strong>å‰å°ç¤¾åŒºç³»ç»Ÿ</strong>åŒ…æ‹¬é¦–é¡µé—¨æˆ·ã€æ–‡ç« æµè§ˆã€æ–‡ç« ç¼–è¾‘ã€æ–‡ç« æœç´¢ã€ç³»åˆ—æ•™ç¨‹ã€ç™»å½•é‰´æƒã€ç”¨æˆ·è¯„è®ºã€ç‚¹èµæ”¶è—ã€ä¸ªäººä¸­å¿ƒã€æ¶ˆæ¯é€šçŸ¥ã€å¹¿å‘Šè¿è¥ã€ç²‰ä¸ç®¡ç†ç­‰æ¨¡å—ã€‚</p><p><strong>åå°ç®¡ç†ç³»ç»Ÿ</strong>åŒ…æ‹¬æ•°æ®ç»Ÿè®¡ã€è¿è¥é…ç½®ã€åˆ†ç±»ç®¡ç†ã€æ ‡ç­¾ç®¡ç†ã€æ–‡ç« ç®¡ç†ã€æ•™ç¨‹é…ç½®ã€æ•™ç¨‹æ–‡ç« ã€æƒé™ç®¡ç†ç­‰æ¨¡å—ã€‚</p><p>æ˜¯ä¸æ˜¯è®²çš„å¤ªæ³›ï¼Ÿç»™ä½ æ¥ä¸€å¼ ç³»ç»Ÿæ¶æ„å›¾ï¼Œæ‰€æœ‰çš„æ¨¡å—å’ŒæŠ€æœ¯ï¼Œéƒ½èƒ½ä¸€ç›®äº†ç„¶ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/6cfb2a84-78cd-45b6-80b3-15ab422997c4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å†æ¥ä¸€å¼ ä¸šåŠ¡æ¶æ„å›¾ï¼Œè®©ä½ å¯¹å‰åå°æ¨¡å—æ›´æ¸…æ™°ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/7720af6c-2ae4-47ea-aad4-593d74347d81.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æœ‰åŒå­¦ä¼šè¯´ï¼Œæ¥¼å“¥ï¼Œæˆ‘æƒ³è¦æ›´è¯¦ç»†çš„æ¨¡å—ä»‹ç»ï¼Œå¥½å¥½å­¦å­¦ï¼Œå¥½å˜ï¼Œä¸‹é¢å°±ç»™å®‰æ’ä¸Šã€‚</p><figure><img src="https://files.mdnice.com/user/13837/ac8f2050-5d19-447e-be3b-19776c11e32a.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿™ä¸ªæ˜¯æˆ‘ä»¬çš„å¼€å‘è¿›åº¦ï¼Œæ ¸å¿ƒåŠŸèƒ½éƒ½å·²å®Œæˆï¼Œåé¢ä¹Ÿä¼šæŒç»­è¿­ä»£ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/86ee6878-33cf-4bc8-a746-a8648ac5256c.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æœ€åå°±æ˜¯å¤§å®¶æœ€å…³å¿ƒçš„åœ°æ–¹ï¼Œæˆ‘ä»¬çš„é¡¹ç›®æºç èƒ½ä¸‹è½½ä¹ˆï¼Œé‚£å¿…é¡»çš„ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å®Œå…¨å¼€æºï¼</p><p>å¯¹ï¼Œä½ æ²¡æœ‰å¬é”™ï¼Œæ–‡æœ«æœ‰ GitHub åœ°å€ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¸‹è½½ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬åç»­ä¹Ÿä¼šå‡ºé…å¥—çš„é¡¹ç›®æ•™ç¨‹ï¼Œæ— è®ºä½ æ˜¯å°ç™½ï¼Œè¿˜æ˜¯æœ‰ä¸€å®šå·¥ä½œç»éªŒçš„åŒå­¦ï¼Œè¿™å¥—æ•™ç¨‹éƒ½ä¼šå¸®ä½ è¿›é˜¶ï¼Œè®©ä½ å¤§å‚ Offer æ‹¿åˆ°æ‰‹è½¯ã€‚</p><p>è¿™å¥—æ•™ç¨‹ç›´æ¥å¯¹æ ‡å¤§å‚ï¼Œä¸‹é¢æ˜¯æ•™ç¨‹ç›®å½•ã€‚</p><figure><img src="https://files.mdnice.com/user/13837/f84b0111-4cf3-41e1-a8bd-ada028071b04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç”±äºå‡ºæ•™ç¨‹æ¯”è¾ƒèŠ±æ—¶é—´ï¼Œæ‰€ä»¥å‰æœŸçš„æ•™ç¨‹ï¼Œä¼šåœ¨æ¥¼ä»”çš„å…¬ä¼—å·ä¸­è¿è½½ï¼Œè¯·å¤§å®¶æŒç»­å…³æ³¨å“ˆã€‚</p><p>æœ€åå‘Šè¯‰å¤§å®¶ä¸€ä¸ªç§˜å¯†ï¼Œåé¢æˆ‘ä»¬ä¹Ÿä¼šå¼€é€š<strong>æŠ€æœ¯æ´¾çš„çŸ¥è¯†æ˜Ÿçƒ</strong>ï¼Œæ›´å¥½å»å¸®åŠ©å¤§å®¶å­¦ä¹ è¿™ä¸ªé¡¹ç›®ï¼Œæœ‰æ²¡æœ‰äº¿ç‚¹å°æœŸå¾…å‘¢ï¼Ÿ</p><h2 id="ç½‘ç«™åœ°å€" tabindex="-1"><a class="header-anchor" href="#ç½‘ç«™åœ°å€" aria-hidden="true">#</a> ç½‘ç«™åœ°å€</h2><p>å¥½äº†ï¼Œæ¥¼ä»”ä¸å•°å—¦äº†ï¼Œå¤§å®¶è‡ªå·±å»ä½“éªŒä¸‹ç½‘ç«™å§ã€‚</p><ul><li><p><strong>å‰å°åœ°å€</strong>ï¼š<a href="https://paicoding.com" target="_blank" rel="noopener noreferrer">https://paicoding.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><strong>åå°åœ°å€</strong>ï¼š<a href="https://paicoding.com/admin-view" target="_blank" rel="noopener noreferrer">https://paicoding.com/admin-view<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul><p>å‰å°å¯ä»¥ç›´æ¥è®¿é—®ï¼Œåå°éœ€è¦æ‰«æ/é•¿æŒ‰ä¸‹æ–¹çš„äºŒç»´ç å…³æ³¨ã€Œæ¥¼ä»”ã€çš„å…¬ä¼—å·åï¼Œ<strong>å›å¤ â€œ001â€ å³å¯è·å–ç™»å½•è´¦å·å’Œå¯†ç ã€‚</strong></p><figure><img src="https://files.mdnice.com/user/13837/e670d6d3-b4d8-4c17-80c0-fa2dd68000e4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¤§å®¶åœ¨ä½“éªŒçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°ä»»ä½•é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨ Github ä¸Šæäº¤ PRï¼Œæˆ‘ä»¬ä¼šå®šæœŸ fixã€‚</p><ul><li><p>å‰å°ç¤¾åŒºç³»ç»Ÿ GitHubï¼š<a href="https://github.com/itwanger/paicoding" target="_blank" rel="noopener noreferrer">https://github.com/itwanger/paicoding<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>åå°ç®¡ç†ç³»ç»Ÿ GitHubï¼š<a href="https://github.com/itwanger/paicoding-admin" target="_blank" rel="noopener noreferrer">https://github.com/itwanger/paicoding-admin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul><p>æ¬¢è¿å¤§å®¶å¥”èµ°ç›¸å‘Šï¼Œå°†æŠ€æœ¯æ´¾ç½‘ç«™åˆ†äº«ç»™ä½ ä»¬çš„æœ‹å‹ï¼Œä»–ä»¬ä¸€å®šå¾ˆæ„Ÿæ¿€ä½ å‘Šè¯‰ä»–è¿™ä¹ˆç‰›é€¼çš„å­¦ä¹ èµ„æºã€‚</p><blockquote><p>æˆ‘ä»æ¸…æ™¨èµ°è¿‡ï¼Œä¹Ÿæ‹¥æŠ±å¤œæ™šçš„æ˜Ÿè¾°ï¼Œäººç”Ÿæ²¡æœ‰æ·å¾„ï¼Œä½ æˆ‘çš†å¹³å‡¡ï¼Œä½ å¥½ï¼Œé™Œç”Ÿäººï¼Œä¸€èµ·å…±å‹‰ã€‚</p></blockquote></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/liuyueyi/tutorial/edit/main/src/java/skill/Javaå®æˆ˜36è®².md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: bangzewu@126.com">YiHui</span><!--]--><!--]--></div></div></footer><!----><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é„‚ICPå¤‡18017282å·</div><div class="copyright">Copyright Â© 2024 ä¸€ç°ç°blog</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/tutorial/assets/app-d82645cc.js" defer></script>
  </body>
</html>
