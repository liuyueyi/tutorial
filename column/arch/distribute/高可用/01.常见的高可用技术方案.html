<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://liuyueyi.github.io/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html"><meta property="og:site_name" content="ä¸€ç°ç°çš„ç«™ç‚¹"><meta property="og:title" content="01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ"><meta property="og:description" content="å¤§å®¶å¥½æˆ‘æ˜¯ä¸€ç°ç°ï¼Œæœ¬æ–‡å°†æ¥ç€å‰æ–‡ 1w5å­—è¯¦ç»†ä»‹ç»åˆ†å¸ƒå¼ç³»ç»Ÿçš„é‚£äº›æŠ€æœ¯æ–¹æ¡ˆ æ–‡ç« åŸºç¡€ä¸Šï¼Œè¿›è¡Œå®é™…çš„æ¡ˆä¾‹è§£æ"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-07-29T08:58:55.000Z"><meta property="article:tag" content="åˆ†å¸ƒå¼"><meta property="article:tag" content="é«˜å¯ç”¨"><meta property="article:published_time" content="2022-07-08T08:53:44.000Z"><meta property="article:modified_time" content="2024-07-29T08:58:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ","image":[""],"datePublished":"2022-07-08T08:53:44.000Z","dateModified":"2024-07-29T08:58:55.000Z","author":[]}</script><meta name="robots" content="all"><meta name="author" content="ä¸€ç°ç°blog"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="JavaåŸºç¡€, å¤šçº¿ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, ç³»ç»Ÿè®¾è®¡, åˆ†å¸ƒå¼, RPC, é«˜å¯ç”¨, é«˜å¹¶å‘, é¢è¯•, å¼€æº, GitHub, SpringAI, å¤§æ¨¡å‹, LLM, äººå·¥æ™ºèƒ½, AI"><meta name="apple-mobile-web-app-capable" content="yes"><script>var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?f589900ec107bc271099156a209e58d5";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();</script><script data-ad-client="ca-pub-5592000528061748" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5592000528061748"></script><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><link rel="stylesheet" href="/iconfont/iconfont.css"><title>01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ | ä¸€ç°ç°çš„ç«™ç‚¹</title><meta name="description" content="å¤§å®¶å¥½æˆ‘æ˜¯ä¸€ç°ç°ï¼Œæœ¬æ–‡å°†æ¥ç€å‰æ–‡ 1w5å­—è¯¦ç»†ä»‹ç»åˆ†å¸ƒå¼ç³»ç»Ÿçš„é‚£äº›æŠ€æœ¯æ–¹æ¡ˆ æ–‡ç« åŸºç¡€ä¸Šï¼Œè¿›è¡Œå®é™…çš„æ¡ˆä¾‹è§£æ">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/tutorial/assets/style-9dda5571.css" as="style"><link rel="stylesheet" href="/tutorial/assets/style-9dda5571.css">
    <link rel="modulepreload" href="/tutorial/assets/app-16455835.js"><link rel="modulepreload" href="/tutorial/assets/preload-helper-4fa4a811.js"><link rel="modulepreload" href="/tutorial/assets/framework-094145d2.js"><link rel="modulepreload" href="/tutorial/assets/01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ.html-2dea255a.js"><link rel="modulepreload" href="/tutorial/assets/mysql03-d8333b44.js"><link rel="modulepreload" href="/tutorial/assets/01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ.html-689f4f51.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/tutorial/" class="brand"><img class="logo" src="/tutorial/logo.svg" alt="ä¸€ç°ç°çš„ç«™ç‚¹"><!----><span class="site-name hide-in-pad">ä¸€ç°ç°çš„ç«™ç‚¹</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/tutorial/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="font-icon icon iconfont icon-java" style=""></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/java/" class="nav-link" aria-label="Javaç³»åˆ—ä¸“æ "><span class="font-icon icon iconfont icon-java" style=""></span>Javaç³»åˆ—ä¸“æ <!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€ç³»åˆ—</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/java/basic/" class="nav-link" aria-label="åŸºç¡€çŸ¥è¯†ç‚¹"><span class="font-icon icon iconfont icon-stack" style=""></span>åŸºç¡€çŸ¥è¯†ç‚¹<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/java/jdk/" class="nav-link" aria-label="jdk"><span class="font-icon icon iconfont icon-java" style=""></span>jdk<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/java/%E5%AE%89%E5%85%A8/" class="nav-link" aria-label="å®‰å…¨"><span class="font-icon icon iconfont icon-lock" style=""></span>å®‰å…¨<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/java/%E5%BA%8F%E5%88%97%E5%8C%96" class="nav-link" aria-label="Jsonåºåˆ—åŒ–"><span class="font-icon icon iconfont icon-json" style=""></span>Jsonåºåˆ—åŒ–<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ç¼–ç¨‹å®è·µ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/java/skill/" class="nav-link" aria-label="å®æˆ˜ç³»åˆ—"><span class="font-icon icon iconfont icon-process" style=""></span>å®æˆ˜ç³»åˆ—<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ç¼–ç¨‹è¯­è¨€"><span class="title"><span class="font-icon icon iconfont icon-box" style=""></span>ç¼–ç¨‹è¯­è¨€</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/codelan/" class="nav-link" aria-label="ç¼–ç¨‹è¯­è¨€"><span class="font-icon icon iconfont icon-box" style=""></span>ç¼–ç¨‹è¯­è¨€<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Kotlin</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/codelan/kotlin/" class="nav-link" aria-label="Kotlin"><!---->Kotlin<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ä¸“æ "><span class="title"><span class="font-icon icon iconfont icon-diagram" style=""></span>ä¸“æ </span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/column/" class="nav-link active" aria-label="ä¸“æ "><span class="font-icon icon iconfont icon-diagram" style=""></span>ä¸“æ <!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æŠ€æœ¯ç®¡ç†</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/tech/manager/" class="nav-link" aria-label="ä»0åˆ°1è½¬æŠ€æœ¯ç®¡ç†"><span class="font-icon icon iconfont icon-people" style=""></span>ä»0åˆ°1è½¬æŠ€æœ¯ç®¡ç†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åº”ç”¨ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/app/im/" class="nav-link" aria-label="QuickIMèŠå¤©ä¸“æ "><span class="font-icon icon iconfont icon-wechat" style=""></span>QuickIMèŠå¤©ä¸“æ <!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/app/alarm/" class="nav-link" aria-label="QuickAlarm"><span class="font-icon icon iconfont icon-at" style=""></span>QuickAlarm<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/app/spi/" class="nav-link" aria-label="SPIä¸šåŠ¡æ¡†æ¶"><span class="font-icon icon iconfont icon-app" style=""></span>SPIä¸šåŠ¡æ¡†æ¶<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/app/trace-watch-dog/" class="nav-link" aria-label="trace-watch-dog"><span class="font-icon icon iconfont icon-relation" style=""></span>trace-watch-dog<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶æ„</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/arch/distribute/" class="nav-link active" aria-label="åˆ†å¸ƒå¼"><span class="font-icon icon iconfont icon-tree" style=""></span>åˆ†å¸ƒå¼<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>AI</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/column/ai/aicoding/" class="nav-link" aria-label="äººäººéƒ½æ˜¯ç¨‹åºå‘˜"><span class="font-icon icon iconfont icon-computer" style=""></span>äººäººéƒ½æ˜¯ç¨‹åºå‘˜<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/column/ai/aigame/" class="nav-link" aria-label="AIæ¸¸æˆå¼€å‘"><span class="font-icon icon iconfont icon-exercise" style=""></span>AIæ¸¸æˆå¼€å‘<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring"><span class="title"><span class="font-icon icon iconfont icon-leaf" style=""></span>Spring</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/basic/" class="nav-link" aria-label="SpringåŸºç¡€ä¸“æ "><span class="font-icon icon iconfont icon-info" style=""></span>SpringåŸºç¡€ä¸“æ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ•°æ®åº“ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/db/" class="nav-link" aria-label="SpringBootæ•°æ®åº“ä¸“æ "><span class="font-icon icon iconfont icon-leaf" style=""></span>SpringBootæ•°æ®åº“ä¸“æ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æœç´¢ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/search/" class="nav-link" aria-label="SpringBootæœç´¢ç³»åˆ—æ•™ç¨‹"><span class="font-icon icon iconfont icon-search" style=""></span>SpringBootæœç´¢ç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶ˆæ¯é˜Ÿåˆ—ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/mq/" class="nav-link" aria-label="SpringBootæ¶ˆæ¯é˜Ÿåˆ—ç³»åˆ—æ•™ç¨‹"><span class="font-icon icon iconfont icon-app" style=""></span>SpringBootæ¶ˆæ¯é˜Ÿåˆ—ç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>WEB MVCä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/web/" class="nav-link" aria-label="SpringBoot WEBç³»åˆ—æ•™ç¨‹"><span class="font-icon icon iconfont icon-chrome" style=""></span>SpringBoot WEBç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å¼€æºé¡¹ç›®é›†æˆ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/middle/" class="nav-link" aria-label="SpringBoot æ•´åˆå„å¤§å¼€æºç³»åˆ—äº§å“"><span class="font-icon icon iconfont icon-change" style=""></span>SpringBoot æ•´åˆå„å¤§å¼€æºç³»åˆ—äº§å“<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ‰©å±•ä¸“æ </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/extend/" class="nav-link" aria-label="Springæ‰©å±•ç‚¹ä¸“æ "><span class="font-icon icon iconfont icon-creative" style=""></span>Springæ‰©å±•ç‚¹ä¸“æ <!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Cloud</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/cloud/" class="nav-link" aria-label="SpringCloudå…¨å®¶æ¡¶"><span class="font-icon icon iconfont icon-cycle" style=""></span>SpringCloudå…¨å®¶æ¡¶<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Security</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/spring/security/" class="nav-link" aria-label="SpringBoot Security"><span class="font-icon icon iconfont icon-lock" style=""></span>SpringBoot Security<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="SpringAI"><span class="title"><span class="font-icon icon iconfont icon-material" style=""></span>SpringAI</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/spring/springai/%E5%9F%BA%E7%A1%80%E7%AF%87" class="nav-link" aria-label="åŸºç¡€ç¯‡"><!---->åŸºç¡€ç¯‡<!----></a></li><li class="dropdown-item"><a href="/tutorial/spring/springai/%E8%BF%9B%E9%98%B6%E7%AF%87" class="nav-link" aria-label="è¿›é˜¶ç¯‡"><!---->è¿›é˜¶ç¯‡<!----></a></li><li class="dropdown-item"><a href="/tutorial/spring/springai/%E5%BA%94%E7%94%A8%E7%AF%87" class="nav-link" aria-label="åº”ç”¨ç¯‡"><!---->åº”ç”¨ç¯‡<!----></a></li><li class="dropdown-item"><a href="/tutorial/spring/springai/%E6%BA%90%E7%A0%81%E7%AF%87" class="nav-link" aria-label="æºç ç¯‡"><!---->æºç ç¯‡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="font-icon icon iconfont icon-view" style=""></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/db/" class="nav-link" aria-label="æ•°æ®åº“"><span class="font-icon icon iconfont icon-view" style=""></span>æ•°æ®åº“<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MySql</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/mysql/" class="nav-link" aria-label="MySqlç³»åˆ—æ•™ç¨‹"><!---->MySqlç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MongoDB</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/mongodb/" class="nav-link" aria-label="MongoDBç³»åˆ—æ•™ç¨‹"><!---->MongoDBç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Influx</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/influxdb/" class="nav-link" aria-label="InfluxDBç³»åˆ—æ•™ç¨‹"><!---->InfluxDBç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ClickHouse</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/clickhouse/" class="nav-link" aria-label="ClickHouseç³»åˆ—æ•™ç¨‹"><!---->ClickHouseç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Redis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/redis/" class="nav-link" aria-label="redisç³»åˆ—æ•™ç¨‹"><!---->redisç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ElasticSearch</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/es/" class="nav-link" aria-label="ESç³»åˆ—æ•™ç¨‹"><!---->ESç³»åˆ—æ•™ç¨‹<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>RabbitMq</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/db/rabbitmq/" class="nav-link" aria-label="RabbitMq"><span class="font-icon icon iconfont icon-notice" style=""></span>RabbitMq<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€æºé¡¹ç›®"><span class="title"><span class="font-icon icon iconfont icon-github" style=""></span>å¼€æºé¡¹ç›®</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Quick-Media</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/qrcode" class="nav-link" aria-label="qrcode-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>qrcode-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/svg" class="nav-link" aria-label="svg-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>svg-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/image" class="nav-link" aria-label="image-plugin"><span class="font-icon icon iconfont icon-animation" style=""></span>image-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/imagic" class="nav-link" aria-label="imagic-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>imagic-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/photo" class="nav-link" aria-label="photo-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>photo-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/markdown" class="nav-link" aria-label="markdown-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>markdown-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/phantom" class="nav-link" aria-label="phantom-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>phantom-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/audio" class="nav-link" aria-label="audio-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>audio-plugin<!----></a></li><li class="dropdown-subitem"><a href="/tutorial/git/quick-media/date" class="nav-link" aria-label="date-plugin"><span class="font-icon icon iconfont icon-folder" style=""></span>date-plugin<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Quick-Chinese</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/git/quick-chinese-transfer" class="nav-link" aria-label="quick-chinese-transfer"><span class="font-icon icon iconfont icon-creative" style=""></span>quick-chinese-transfer<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MCP</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorial/git/mcp" class="nav-link" aria-label="MCP"><span class="font-icon icon iconfont icon-creative" style=""></span>MCP<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å·¥å…·|éƒ¨ç½²"><span class="title"><span class="font-icon icon iconfont icon-tool" style=""></span>å·¥å…·|éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tutorial/tool/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" class="nav-link" aria-label="å¼€å‘å·¥å…·"><!---->å¼€å‘å·¥å…·<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/GIT" class="nav-link" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Linux" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Docker" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Maven" class="nav-link" aria-label="Maven"><!---->Maven<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Devops" class="nav-link" aria-label="Devops"><!---->Devops<!----></a></li><li class="dropdown-item"><a href="/tutorial/tool/Nginx" class="nav-link" aria-label="Nginx"><!---->Nginx<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://tool.hhui.top/" rel="noopener noreferrer" target="_blank" aria-label="ç™¾å®ç®±" class="nav-link"><span class="font-icon icon iconfont icon-tool" style=""></span>ç™¾å®ç®±<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/tutorial/me/about-me.html" class="nav-link" aria-label="å…³äº"><span class="font-icon icon iconfont icon-valine" style=""></span>å…³äº<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/liuyueyi/tutorial" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/tutorial/column/arch/" class="nav-link sidebar-link sidebar-page" aria-label="æŠ€æœ¯æ¶æ„"><span class="font-icon icon iconfont icon-frame" style=""></span>æŠ€æœ¯æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-define" style=""></span><span class="title">æ¶æ„</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="font-icon icon iconfont icon-tree" style=""></span><span class="title">åˆ†å¸ƒå¼ä¸“æ </span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-tree" style=""></span><span class="title">åˆ†å¸ƒå¼å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-tree" style=""></span><span class="title">åˆ†å¸ƒå¼ç³»ç»Ÿé«˜å¯ç”¨è¯¦è§£</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ"><!---->01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-redisé«˜å¯ç”¨ç­–ç•¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1 redisé«˜å¯ç”¨ç­–ç•¥"><!---->1 redisé«˜å¯ç”¨ç­–ç•¥<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-1-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 æ•°æ®æŒä¹…åŒ–"><!---->1.1 æ•°æ®æŒä¹…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-2-ä¸»ä»æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 ä¸»ä»æ–¹å¼"><!---->1.2 ä¸»ä»æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-3-å“¨å…µæ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 å“¨å…µæ¨¡å¼"><!---->1.3 å“¨å…µæ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-4-é›†ç¾¤æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4 é›†ç¾¤æ¨¡å¼"><!---->1.4 é›†ç¾¤æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-5-å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.5 å°ç»“"><!---->1.5 å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-mysqlé«˜å¯ç”¨ç­–ç•¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2 MySqlé«˜å¯ç”¨ç­–ç•¥"><!---->2 MySqlé«˜å¯ç”¨ç­–ç•¥<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-1-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 æ•°æ®æŒä¹…åŒ–"><!---->2.1 æ•°æ®æŒä¹…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-2-ä¸»å¤‡æ¶æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 ä¸»å¤‡æ¶æ„"><!---->2.2 ä¸»å¤‡æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-3-ä¸»ä»æ¶æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.3 ä¸»ä»æ¶æ„"><!---->2.3 ä¸»ä»æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-4-ä¸€ä¸»å¤šä»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.4 ä¸€ä¸»å¤šä»"><!---->2.4 ä¸€ä¸»å¤šä»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-5-å¤šä¸»å¤šä»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.5 å¤šä¸»å¤šä»"><!---->2.5 å¤šä¸»å¤šä»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-6-ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.6 ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥"><!---->2.6 ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-7-å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.7 å°ç»“"><!---->2.7 å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-rabbitmqé«˜å¯ç”¨æ–¹æ¡ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. RabbitMqé«˜å¯ç”¨æ–¹æ¡ˆ"><!---->3. RabbitMqé«˜å¯ç”¨æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-1-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 æ•°æ®æŒä¹…åŒ–"><!---->3.1 æ•°æ®æŒä¹…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-2-ä¸»å¤‡æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 ä¸»å¤‡æ¨¡å¼"><!---->3.2 ä¸»å¤‡æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-3-shovelè¿œç¨‹æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 Shovelè¿œç¨‹æ¨¡å¼"><!---->3.3 Shovelè¿œç¨‹æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-4-é•œåƒæ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.4 é•œåƒæ¨¡å¼"><!---->3.4 é•œåƒæ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-5-æ™®é€šé›†ç¾¤æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.5 æ™®é€šé›†ç¾¤æ¨¡å¼"><!---->3.5 æ™®é€šé›†ç¾¤æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-6-å¤šæ´»æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.6 å¤šæ´»æ¨¡å¼"><!---->3.6 å¤šæ´»æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-7-å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.7 å°ç»“"><!---->3.7 å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-elasticsearché«˜å¯ç”¨æ–¹æ¡ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. ElasticSearché«˜å¯ç”¨æ–¹æ¡ˆ"><!---->4. ElasticSearché«˜å¯ç”¨æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-1-é›†ç¾¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 é›†ç¾¤"><!---->4.1 é›†ç¾¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-2-è„‘è£‚é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 è„‘è£‚é—®é¢˜"><!---->4.2 è„‘è£‚é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-3-æ•°æ®åˆ†ç‰‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.3 æ•°æ®åˆ†ç‰‡"><!---->4.3 æ•°æ®åˆ†ç‰‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-4-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.4 æ•°æ®æŒä¹…åŒ–"><!---->4.4 æ•°æ®æŒä¹…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-5-å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.5 å°ç»“"><!---->4.5 å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_5-ä¸€ç°ç°çš„æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.ä¸€ç°ç°çš„æ€»ç»“"><!---->5.ä¸€ç°ç°çš„æ€»ç»“<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_5-1-ç»¼è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1  ç»¼è¿°"><!---->5.1  ç»¼è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_5-2-ä¸»é¢˜æ— å…³" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 ä¸»é¢˜æ— å…³"><!---->5.2 ä¸»é¢˜æ— å…³<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/02.Redis%E3%80%81ES%E3%80%81Hbase%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%96%B9%E6%A1%88.html" class="nav-link sidebar-link sidebar-page" aria-label="02.Redisã€ESã€Hbaseçš„é«˜å¯ç”¨æ–¹æ¡ˆ"><!---->02.Redisã€ESã€Hbaseçš„é«˜å¯ç”¨æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://hhui.top" target="_blank" rel="noopener noreferrer">ä¸€ç°ç°blog</a></span><span property="author" content="ä¸€ç°ç°blog"></span></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category4 clickable" role="navigation">åˆ†å¸ƒå¼</span><span class="page-category-item category2 clickable" role="navigation">é«˜å¯ç”¨</span><meta property="articleSection" content="åˆ†å¸ƒå¼,é«˜å¯ç”¨"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag4 clickable" role="navigation">åˆ†å¸ƒå¼</span><span class="page-tag-item tag2 clickable" role="navigation">é«˜å¯ç”¨</span><meta property="keywords" content="åˆ†å¸ƒå¼,é«˜å¯ç”¨"></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-07-08T08:53:44.000Z"></span><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 9766 å­—</span><meta property="wordCount" content="9766"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 33 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT33M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-redisé«˜å¯ç”¨ç­–ç•¥" class="router-link-active router-link-exact-active toc-link level2">1 redisé«˜å¯ç”¨ç­–ç•¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-1-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active toc-link level3">1.1 æ•°æ®æŒä¹…åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-2-ä¸»ä»æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">1.2 ä¸»ä»æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-3-å“¨å…µæ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">1.3 å“¨å…µæ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-4-é›†ç¾¤æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">1.4 é›†ç¾¤æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_1-5-å°ç»“" class="router-link-active router-link-exact-active toc-link level3">1.5 å°ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-mysqlé«˜å¯ç”¨ç­–ç•¥" class="router-link-active router-link-exact-active toc-link level2">2 MySqlé«˜å¯ç”¨ç­–ç•¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-1-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active toc-link level3">2.1 æ•°æ®æŒä¹…åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-2-ä¸»å¤‡æ¶æ„" class="router-link-active router-link-exact-active toc-link level3">2.2 ä¸»å¤‡æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-3-ä¸»ä»æ¶æ„" class="router-link-active router-link-exact-active toc-link level3">2.3 ä¸»ä»æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-4-ä¸€ä¸»å¤šä»" class="router-link-active router-link-exact-active toc-link level3">2.4 ä¸€ä¸»å¤šä»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-5-å¤šä¸»å¤šä»" class="router-link-active router-link-exact-active toc-link level3">2.5 å¤šä¸»å¤šä»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-6-ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥" class="router-link-active router-link-exact-active toc-link level3">2.6 ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_2-7-å°ç»“" class="router-link-active router-link-exact-active toc-link level3">2.7 å°ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-rabbitmqé«˜å¯ç”¨æ–¹æ¡ˆ" class="router-link-active router-link-exact-active toc-link level2">3. RabbitMqé«˜å¯ç”¨æ–¹æ¡ˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-1-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active toc-link level3">3.1 æ•°æ®æŒä¹…åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-2-ä¸»å¤‡æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">3.2 ä¸»å¤‡æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-3-shovelè¿œç¨‹æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">3.3 Shovelè¿œç¨‹æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-4-é•œåƒæ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">3.4 é•œåƒæ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-5-æ™®é€šé›†ç¾¤æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">3.5 æ™®é€šé›†ç¾¤æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-6-å¤šæ´»æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">3.6 å¤šæ´»æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_3-7-å°ç»“" class="router-link-active router-link-exact-active toc-link level3">3.7 å°ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-elasticsearché«˜å¯ç”¨æ–¹æ¡ˆ" class="router-link-active router-link-exact-active toc-link level2">4. ElasticSearché«˜å¯ç”¨æ–¹æ¡ˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-1-é›†ç¾¤" class="router-link-active router-link-exact-active toc-link level3">4.1 é›†ç¾¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-2-è„‘è£‚é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">4.2 è„‘è£‚é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-3-æ•°æ®åˆ†ç‰‡" class="router-link-active router-link-exact-active toc-link level3">4.3 æ•°æ®åˆ†ç‰‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-4-æ•°æ®æŒä¹…åŒ–" class="router-link-active router-link-exact-active toc-link level3">4.4 æ•°æ®æŒä¹…åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_4-5-å°ç»“" class="router-link-active router-link-exact-active toc-link level3">4.5 å°ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_5-ä¸€ç°ç°çš„æ€»ç»“" class="router-link-active router-link-exact-active toc-link level2">5.ä¸€ç°ç°çš„æ€»ç»“</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_5-1-ç»¼è¿°" class="router-link-active router-link-exact-active toc-link level3">5.1  ç»¼è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/01.%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88.html#_5-2-ä¸»é¢˜æ— å…³" class="router-link-active router-link-exact-active toc-link level3">5.2 ä¸»é¢˜æ— å…³</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><blockquote><p>å¤§å®¶å¥½æˆ‘æ˜¯ä¸€ç°ç°ï¼Œæœ¬æ–‡å°†æ¥ç€å‰æ–‡ <a href="https://mp.weixin.qq.com/s?__biz=MzU3MTAzNTMzMQ==&amp;mid=2247487507&amp;idx=1&amp;sn=9c4ff02747e8335ee5e3c7765cc80b3c&amp;chksm=fce70bbfcb9082a9a8d972af80f19a9b66a5425c949bc400872727cc2da9f401047a5a523ac4&amp;token=309565785&amp;lang=zh_CN#rd" target="_blank" rel="noopener noreferrer">1w5å­—è¯¦ç»†ä»‹ç»åˆ†å¸ƒå¼ç³»ç»Ÿçš„é‚£äº›æŠ€æœ¯æ–¹æ¡ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ–‡ç« åŸºç¡€ä¸Šï¼Œè¿›è¡Œå®é™…çš„æ¡ˆä¾‹è§£æ</p></blockquote><p>é«˜å¯ç”¨å¯¹äºå½“ä¸‹çš„ç³»ç»Ÿè€Œè¨€ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªç¡¬æŒ‡æ ‡ï¼Œå¸¸å¹´ä¸“æ³¨äºä¸šåŠ¡å¼€å‘çš„æˆ‘ä»¬ï¼Œå¯¹äºé«˜å¯ç”¨æœ€ç›´è§‚çš„æ„Ÿè§‰å¯èƒ½å°±æ˜¯ç¥ˆç¥·åº”ç”¨ä¸è¦å‡ºé—®é¢˜ï¼Œä¸è¦æŠ¥é”™ï¼›å³ä¾¿æœ‰é—®é¢˜ï¼Œä¹Ÿæœ€å¥½ä¸æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç é€»è¾‘å¯¼è‡´çš„ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨ã€DBã€ä¸­é—´ä»¶(å¦‚æ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒç­‰)çš„å¼‚å¸¸é‚£å°±æŠ›ç»™å¯¹åº”çš„sre, dbaï¼›ç„¶è€Œå¸¸åœ¨æ²³è¾¹èµ°ï¼Œå“ªæœ‰ä¸æ¹¿é‹ï¼Œä¸ºäº†ä¿éšœæœåŠ¡çš„é«˜å¯ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä»å“ªäº›æ–¹é¢è¿›è¡ŒåŠªåŠ›å‘¢ï¼Ÿ</p><p>æœ¬æ–‡å°†ä½œä¸ºé«˜å¯ç”¨çš„å¼€ç¯‡ï¼Œé€šè¿‡ç®€è¿°ä¸€äº›å¸¸ç”¨çš„ç³»ç»Ÿçš„é«˜å¯ç”¨æ–¹æ¡ˆï¼Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬å¯ä»¥ä»å“ªäº›æ–¹é¢åŠªåŠ›è®©æˆ‘ä»¬çš„ç³»ç»Ÿè¾¾åˆ°é«˜å¯ç”¨ï¼Œä¸»è¦æ¶‰åŠåˆ°çš„ç³»ç»Ÿå¦‚ä¸‹</p><ul><li>ç¼“å­˜ï¼šRedis</li><li>æ•°æ®åº“ï¼šMySql</li><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šRabbitMQ</li><li>æœç´¢: ElasticSearch</li></ul><h2 id="_1-redisé«˜å¯ç”¨ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_1-redisé«˜å¯ç”¨ç­–ç•¥" aria-hidden="true">#</a> 1 redisé«˜å¯ç”¨ç­–ç•¥</h2><p>rediså¹¿æ³›åº”ç”¨äºç¼“å­˜çš„ä¸šåŠ¡åœºæ™¯ï¼Œå½“ç„¶ä¹Ÿæœ‰å°†å…¶å½“åšæŒä¹…åŒ–å­˜å‚¨çš„nosqlæ•°æ®åº“ä½¿ç”¨ï¼Œè¿™äº›éƒ½ä¸é‡è¦ï¼Œé‡ç‚¹æ˜¯redisåœ¨æä¾›æœåŠ¡çš„æ—¶å€™ï¼Œæ˜¯å¦‚ä½•æ”¯æŒé«˜å¯ç”¨çš„å‘¢ï¼Ÿ</p><p>rediså®˜æ–¹æ”¯æŒäº†å››ç§ç­–ç•¥ï¼š</p><ul><li>æ•°æ®æŒä¹…åŒ–</li><li>ä¸»ä»åŒæ­¥</li><li>å“¨å…µæ¨¡å¼</li><li>é›†ç¾¤</li></ul><p>é™¤ä»¥ä¸Šå§¿åŠ¿ä¹‹å¤–ï¼Œæˆ‘ä»¬è‡ªå·±åœ¨ä½¿ç”¨æ—¶è¿˜å¯ä»¥é€‰æ‹©æ ¹æ®ä¸šåŠ¡åœºæ™¯ä½¿ç”¨ä¸åŒçš„rediså®ä¾‹ï¼ˆå³ä¼ è¯´ä¸­çš„ä¸æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œï¼‰</p><p>æ¥ä¸‹æ¥å°†é’ˆå¯¹redisçš„å‡ ç§é«˜å¯ç”¨ç­–ç•¥è¿›è¡Œç®€è¿°è¯´æ˜</p><h3 id="_1-1-æ•°æ®æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-1-æ•°æ®æŒä¹…åŒ–" aria-hidden="true">#</a> 1.1 æ•°æ®æŒä¹…åŒ–</h3><blockquote><p>å®˜æ–¹æ‰‹å†Œ: <a href="https://redis.io/docs/manual/persistence/" target="_blank" rel="noopener noreferrer">Redis persistence<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>æŒä¹…åŒ–æ˜¯åœ¨é«˜å¯ç”¨ã€ä¸€è‡´æ€§çš„åœºæ™¯ä¸­ç»å¸¸ä¼šçœ‹åˆ°çš„ä¸€ç§æŠ€æœ¯æ‰‹æ®µï¼›</p><p>åœ¨é«˜å¯ç”¨çš„åœºæ™¯ä¸­ï¼Œæ•°æ®çš„æŒä¹…åŒ–ä¸»è¦æ˜¯ä¸ºäº†è§£å†³åœ¨æœåŠ¡å‡ºç°é—®é¢˜ï¼ˆå¦‚å®•æœºï¼‰ä¹‹åï¼Œå¯ä»¥å¿«é€Ÿæ¢å¤å¹¶å¯¹å¤–ç»§ç»­æä¾›æœåŠ¡èƒ½åŠ›ï¼›</p><p>rediså®˜æ–¹æä¾›äº†ä¸¤ç§æŒä¹…åŒ–ç­–ç•¥</p><ul><li>AOF: å°†æ›´æ–°çš„æ“ä½œå‘½ä»¤è®°å½•åœ¨å¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œåœ¨é‡å¯çš„æ—¶å€™é‡‡ç”¨â€œå›æ”¾â€ç­–ç•¥ï¼Œå°†æ‰€æœ‰çš„å‘½ä»¤é‡æ–°æ‰§è¡Œä¸€éæ¥å®ç°åœºæ™¯æ¢å¤</li><li>RDB: å®šæ—¶å­˜å‚¨redisä¸­çš„æ•°æ®å¿«ç…§åˆ°æ•°æ®æ–‡ä»¶ä¸­ï¼Œåœ¨é‡å¯çš„æ—¶å€™ï¼ŒåŠ è½½rdbæ–‡ä»¶ï¼Œæ¢å¤æ‰€æœ‰çš„æ•°æ®</li></ul><p>ç®€å•æ¥è®²AOFè®°å½•çš„æ˜¯æ“ä½œåŠ¨ä½œï¼Œé‡‡ç”¨å›æ”¾æ‰§è¡Œçš„æœºåˆ¶è¿›è¡Œæ¢å¤ï¼›RDBåˆ™ç›¸å½“äºæ•°æ®è½ç›˜ï¼Œé‡æ–°è¯»å–åŠ è½½çš„æœºåˆ¶è¿›è¡Œæ¢å¤</p><p><strong>æ³¨ï¼šAOF RDBå¯ä»¥ä¸€èµ·å·¥ä½œï¼Œæ²¡æœ‰æ’ä»–æ€§</strong></p><h3 id="_1-2-ä¸»ä»æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-ä¸»ä»æ–¹å¼" aria-hidden="true">#</a> 1.2 ä¸»ä»æ–¹å¼</h3><p>è™½ç„¶redisæ€§èƒ½çˆ†ç‚¸ï¼Œä½†æ˜¯å•æœºä¾ç„¶å­˜åœ¨æ€§èƒ½ç“¶é¢ˆï¼›å½“æˆ‘ä»¬é‡åˆ°å•æœºçš„æ€§èƒ½ç“¶é¢ˆçš„æ—¶å€™ï¼Œä¸€èˆ¬æ€ä¹ˆåšï¼Ÿ</p><p>æ²¡é”™ï¼ŒåŠ æœºå™¨</p><p>redisä¹Ÿæ”¯æŒå¤šæœºæœåŠ¡ï¼Œæ¯”å¦‚å¸¸è§çš„ä¸€ä¸»å¤šä»ç­–ç•¥ï¼š</p><ul><li>ä¸»æœºï¼šæä¾›è¯»å†™èƒ½åŠ›</li><li>ä»æœºï¼šåªæä¾›è¯»</li></ul><p>é’ˆå¯¹ç»å¤§å¤šæ•°è¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥èµ·å¤šä¸ªrediså®ä¾‹ï¼Œå…¶ä¸­ä¸€ä¸ªè®¾ç½®ä¸ºä¸»ï¼Œæä¾›æ‰€æœ‰çš„å†™è¯·æ±‚ï¼›å…¶ä»–çš„å®ä¾‹åˆ™è®¾ç½®ä¸ºä»ï¼Œå®¢æˆ·ç«¯é€šè¿‡è´Ÿè½½ç­–ç•¥è·¯ç”±åˆ°ä¸åŒçš„ä»redisï¼Œä»è€Œå®ç°æµé‡åˆ†æ‘Šï¼›</p><p>åŒæ—¶ä¹Ÿå› ä¸ºæœ‰å¤šä¸ªå®ä¾‹ï¼Œæ‰€ä»¥å•å°æˆ–å‡ å°å®ä¾‹ä¸‹çº¿ï¼Œå¯¹æ•´ä¸ªæœåŠ¡çš„å¯ç”¨æ€§å½±å“å¹¶ä¸ä¼šå¤ªå¤§ï¼ˆåŠæ—¶æ‘˜é™¤æ•…éšœæœºå™¨ï¼Œå…¶ä»–çš„å®ä¾‹ä¾ç„¶å¯ä»¥æ­£å¸¸æä¾›æœåŠ¡ï¼›å½“ç„¶å‰ææ˜¯æµé‡æ‰€ç¤ºå¤ªå¤§æŠŠå…¶ä»–çš„å®ä¾‹ä¹Ÿæ‰“æŒ‚ï¼Œé‚£å°±ggäº†ï¼‰</p><figure><img src="/tutorial/imgs/column/distribute/220708/redis00.jpg" alt="redisä¸»ä»æ¨¡å¼" tabindex="0" loading="lazy"><figcaption>redisä¸»ä»æ¨¡å¼</figcaption></figure><p>ä¸»ä»æ¨¡å¼è¿˜æœ‰ä¸€ä¸ªå˜ç§ï¼Œå«åšä»ä»æ¨¡å¼ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä¸»redisçš„åŒæ­¥å‹åŠ›ï¼Œæ”¹æˆä¸» -&gt; ä»ï¼Œç„¶åç”±ä¸€ä¸ªä»åŒæ­¥ç»™å…¶ä»–çš„ä»å®ä¾‹ï¼Œå…·ä½“æ¶æ„å›¾å¦‚ä¸‹</p><figure><img src="/tutorial/imgs/column/distribute/220708/redis01.jpg" alt="redisä¸»ä»ä»æ¨¡å¼" tabindex="0" loading="lazy"><figcaption>redisä¸»ä»ä»æ¨¡å¼</figcaption></figure><p>ä½¿ç”¨ä¸»ä»ã€ä¸»ä»ä»æ¨¡å¼å®ç°é«˜å¯ç”¨å¯ç®—æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç»å…¸ç­–ç•¥ï¼Œå…¶ä¸»è¦æ€æƒ³åœ¨äºï¼š</p><ul><li>å¤šå®ä¾‹æä¾›æœåŠ¡ï¼Œå®ç°è´Ÿè½½å‡è¡¡</li><li>æ¯ä¸ªå®ä¾‹<strong>å†—ä½™</strong>ä¸€ä»½å…¨é‡æ•°æ®</li></ul><h3 id="_1-3-å“¨å…µæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1-3-å“¨å…µæ¨¡å¼" aria-hidden="true">#</a> 1.3 å“¨å…µæ¨¡å¼</h3><blockquote><p>å®˜æ–¹æ‰‹å†Œ: <a href="https://redis.io/docs/manual/sentinel/" target="_blank" rel="noopener noreferrer">High availability with Redis Sentinel<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>å“¨å…µæ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä¸»ä»æ¨¡å¼ä¸­ï¼Œä¸»æœºå®•æœºçš„åœºæ™¯ï¼Œç”±äºä¸»æœºæœ¬èº«å­˜åœ¨å•ç‚¹ï¼Œæ‰€ä»¥ä¸»èŠ‚ç‚¹å¯¹æˆäº†é«˜å¯ç”¨çš„å…³é”®å› ç´ äº†ï¼›é‚£ä¹ˆå¦‚æœå®ç°ä¸»èŠ‚ç‚¹å®•æœºä¹‹åï¼Œè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œè¿™æ ·ä¸å°±å¯ä»¥æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§äº†ä¹ˆï¼› rediså®˜æ–¹æä¾›çš„æœºåˆ¶å°±æ˜¯ - å“¨å…µæ¨¡å¼</p><p>ä¸»è¦å·¥ä½œåŸç†ï¼š</p><ul><li>å“¨å…µï¼šç›‘å¬rediså®ä¾‹ï¼Œåˆ¤æ–­æ˜¯å¦å­˜æ´»ï¼ˆä¸å¤ªå¯¹å¤–æä¾›æœåŠ¡èƒ½åŠ›ï¼‰</li><li>é€šè¿‡ PING å‘½ä»¤ï¼Œæ£€æŸ¥ä¸ä¸»ä»æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥æƒ…å†µï¼Œè‹¥æ­£å¸¸ç›¸åº”ï¼Œåˆ™è®¤ä¸ºå­˜æ´»ï¼›å¦åˆ™è®¤ä¸º<code>ä¸»è§‚ä¸‹çº¿</code></li><li>å½“ <code>n/2 + 1</code>åŠæ•°ä»¥ä¸Šå“¨å…µè®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿ï¼Œåˆ™è®¤ä¸ºä¸»èŠ‚ç‚¹<code>å®¢è§‚ä¸‹çº¿</code>ï¼Œå°è¯•é€‰æ–°çš„ä¸»èŠ‚ç‚¹</li><li>ä»æ‰€æœ‰ä»èŠ‚ç‚¹ä¸­ï¼Œé€‰æ‹©ä¸ä¹‹å‰ä¸»åº“ç›¸ä¼¼åº¦æœ€é«˜çš„ä»èŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»åº“</li></ul><figure><img src="/tutorial/imgs/column/distribute/220708/redis02.jpg" alt="å“¨å…µæ¨¡å¼" tabindex="0" loading="lazy"><figcaption>å“¨å…µæ¨¡å¼</figcaption></figure><p>å“¨å…µæ¨¡å¼ï¼Œå¯ä»¥ç†è§£ä¸ºæ¢æ´» + é€‰ä¸»ï¼Œè€Œè¿™ä¹Ÿå¸¸è§äºå„å¤§åˆ†å¸ƒå¼ç³»ç»Ÿçš„æŠ€æœ¯æ–¹æ¡ˆä¸­</p><h3 id="_1-4-é›†ç¾¤æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1-4-é›†ç¾¤æ¨¡å¼" aria-hidden="true">#</a> 1.4 é›†ç¾¤æ¨¡å¼</h3><blockquote><p>å®˜æ–¹æ‰‹å†Œ: <a href="https://redis.io/docs/manual/scaling/" target="_blank" rel="noopener noreferrer">Scaling with Redis Cluster<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>ç›¸æ¯”äºä¸»ä»æ¨¡å¼çš„å…¨é‡å†—ä½™ï¼Œredisçš„é›†ç¾¤ç­–ç•¥åœ¨åœ¨äºæ•°æ®åˆ†ç‰‡ï¼Œæ¯ä¸ªå®ä¾‹ä¸Šå­˜å‚¨éƒ¨åˆ†çš„æ•°æ®ï¼›è€Œä¸æ˜¯å…¨é‡æ•°æ®ï¼Œä»è€Œè§£å†³æ•°æ®é‡å¤§çš„åœºæ™¯ä¸‹ï¼Œå¯¹äºredisæœåŠ¡æœ¬èº«ä»¥åŠæ•°æ®åŒæ­¥çš„å‹åŠ›</p><p>é›†ç¾¤æ¨¡å¼çš„ç‰¹ç‚¹åœ¨äºå¤šä¸ªå®ä¾‹ï¼Œæ„å»ºæˆä¸€ä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ä¸Šå­˜å‚¨éƒ¨åˆ†çš„æ•°æ®ï¼›rediså¹¶æ²¡æœ‰é‡‡ç”¨ä¸€è‡´æ€§hashæ¥åšæ•°æ®åˆ†å¸ƒï¼Œè€Œæ˜¯ä½¿ç”¨ç‰¹æœ‰çš„slotsæ’æ§½æœºåˆ¶ï¼Œæ¥å®ç°æ•°æ®çš„hashæ˜ å°„</p><figure><img src="/tutorial/imgs/column/distribute/220708/redis03.jpg" alt="é›†ç¾¤æ¨¡å¼" tabindex="0" loading="lazy"><figcaption>é›†ç¾¤æ¨¡å¼</figcaption></figure><p>é›†ç¾¤æ¨¡å¼ï¼Œä¸»è¦ç‰¹ç‚¹åœ¨äºæ•°æ®åˆ†ç‰‡ï¼Œæ¯ä¸ªå®ä¾‹å­˜éƒ¨åˆ†æ•°æ®ï¼Œå…¶æ€è·¯åœ¨äº<strong>æ‹†åˆ†</strong></p><p>ä»ä¸Šé¢çš„å›¾ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œé›†ç¾¤ä¸€èˆ¬ä¸ä¸»ä»æ­é…ä½¿ç”¨ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸ªåˆ†ç‰‡å¯¹åº”çš„æ˜¯ä¸»ä»æ¨¡å¼çš„redisæœåŠ¡ï¼Œä»è€ŒåŠ å¼ºé«˜å¯ç”¨</p><h3 id="_1-5-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_1-5-å°ç»“" aria-hidden="true">#</a> 1.5 å°ç»“</h3><p>è¿™ä¸€èŠ‚ä¸»è¦ä»‹ç»çš„æ˜¯redisçš„é«˜å¯ç”¨ç­–ç•¥ï¼Œä»ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°å¾ˆå¤šç»å…¸çš„æŠ€æœ¯æ–¹æ¡ˆ</p><ul><li>æŒä¹…åŒ–ï¼šRDBæ•°æ®è½ç›˜åŠ è½½æ–¹å¼ + AOFè®°å½•æ“ä½œå‘½ä»¤ç”¨äºå›æ”¾ç­–ç•¥</li><li>ä¸»ä»ï¼Œä¸»ä»ä»ï¼šå…¨é‡æ•°æ®å†—ä½™ã€è¯»å†™è¯·æ±‚åˆ†ç¦»ï¼Œè´Ÿè½½å‡è¡¡çš„æ€æƒ³ï¼›æ ¸å¿ƒé—®é¢˜åœ¨äºä¸»èŠ‚ç‚¹æŒ‚æ‰ä¹‹åéœ€è¦äººå·¥å‚ä¸æ‰‹åŠ¨æŒ‡å®šä¸»åº“</li><li>å“¨å…µæœºåˆ¶ï¼šPING/PONGçš„æ¢æ´»æœºåˆ¶ï¼Œç›‘å¬ä¸»èŠ‚ç‚¹ï¼Œå®•æœºä¹‹åè‡ªåŠ¨é€‰ä¸»ï¼Œç¡®ä¿é«˜å¯ç”¨ï¼›æ ¸å¿ƒé—®é¢˜åœ¨äºæ‰€æœ‰çš„å®ä¾‹å†—ä½™ç›¸åŒçš„ä¸€ä»½æ•°æ®ï¼Œæ•°æ®é‡å¤§æ—¶ä¸å‹å¥½</li><li>é›†ç¾¤ï¼šæ•°æ®åˆ†ç‰‡ï¼Œæ¯ä¸ªå®ä¾‹æä¾›éƒ¨åˆ†æœåŠ¡èƒ½åŠ›</li></ul><p>çœ‹åˆ°è¿™é‡Œçš„å°ä¼™ä¼´è‡ªç„¶ä¼šæƒ³åˆ°ï¼Œä¸ºä»€ä¹ˆredisä¼šæä¾›è¿™äº›ä¸åŒçš„ç­–ç•¥ï¼Ÿå®ƒä»¬å„è‡ªçš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Œä¼˜ç¼ºç‚¹æ˜¯å•¥ï¼Ÿè¿™äº›ç–‘é—®å°±æ”¾åœ¨åç»­çš„redisé«˜å¯ç”¨è¯¦è§£ä¸­ä»‹ç»</p><p>ç›¸å…³åšæ–‡ï¼š</p><ul><li><a href="https://redis.io/docs/manual/scaling/" target="_blank" rel="noopener noreferrer">Scaling with Redis Cluster | Redis<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://mp.weixin.qq.com/s/gofXUXKD_ZelbOJDinHs4g" target="_blank" rel="noopener noreferrer">Redisé«˜å¯ç”¨ç­–ç•¥ - æ¥¼ä»”<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://xie.infoq.cn/article/6c3500c66c3cdee3d72b88780" target="_blank" rel="noopener noreferrer">redisç³»åˆ—ä¹‹â€”â€”é«˜å¯ç”¨ï¼ˆä¸»ä»ã€å“¨å…µã€é›†ç¾¤ï¼‰è¯¸è‘›å°çŒ¿<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_2-mysqlé«˜å¯ç”¨ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_2-mysqlé«˜å¯ç”¨ç­–ç•¥" aria-hidden="true">#</a> 2 MySqlé«˜å¯ç”¨ç­–ç•¥</h2><p>MySqlæ•°æ®åº“çš„é«˜å¯ç”¨ç­–ç•¥å°±æ¯”è¾ƒå¤šäº†ï¼ŒåŒæ ·ä¹Ÿéå¸¸çš„ç»å…¸ï¼›ä»…ä»…ä¸»èŠ‚ç‚¹çš„ä¿æ´»ç­–ç•¥å°±éå¸¸å¤šäº†ï¼›åœ¨è¿™é‡Œå°†ä¸»è¦çš„é‡å¿ƒæ”¾åœ¨MySqlçš„é«˜å¯ç”¨æ¶æ„ä¸»å¤‡ã€ä¸»ä»ã€ä¸€ä¸»å¤šä»ï¼Œå¤šä¸»å¤šä»ä¸Šï¼Œè‡³äºä¸»èŠ‚ç‚¹æ•…éšœæ—¶è½¬ç§»ç­–ç•¥åˆ™æ”¾åœ¨åç»­è¯¦ç»†çš„æ–‡ç« ä¸­è¿›è¡Œä»‹ç»</p><h3 id="_2-1-æ•°æ®æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-1-æ•°æ®æŒä¹…åŒ–" aria-hidden="true">#</a> 2.1 æ•°æ®æŒä¹…åŒ–</h3><p>å¯¹äºæ¯ä¸ªå¼€å‘è€…è€Œè¨€ï¼Œå¤§å¤šéƒ½å¬è¯´è¿‡æ•°æ®åº“çš„ACIDç‰¹æ€§ï¼Œå…¶ä¸­çš„Då¯¹åº”çš„å°±æ˜¯è¿™é‡Œè¯´åˆ°çš„æŒä¹…åŒ–ï¼›åŒºåˆ«äºredisçš„æŒä¹…åŒ–ï¼Œä»¥MySqlçš„InnoDBå¼•æ“ä¸ºä¾‹ï¼Œå…¶æŒä¹…åŒ–æ¶‰åŠåˆ°å¤šä¸ªæ—¥å¿—æ–‡ä»¶(undo log,redo log,binlog)ï¼Œç¼“å­˜åŒº(buffer)ï¼Œç£ç›˜(idbæ–‡ä»¶)</p><p>æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å®Œæ•´çš„æ•°æ®æ›´æ–°/æ’å…¥çš„æµç¨‹</p><figure><img src="/tutorial/imgs/column/distribute/220708/mysql00.jpg" alt="mysqlæ•°æ®æŒä¹…åŒ–æµç¨‹å›¾" tabindex="0" loading="lazy"><figcaption>mysqlæ•°æ®æŒä¹…åŒ–æµç¨‹å›¾</figcaption></figure><p>æ¥ä¸‹æ¥æè¿°ä¸€ä¸‹æ ¸å¿ƒæ€æƒ³ï¼š</p><ul><li>æ•°æ®æ›´æ–°ç­–ç•¥ï¼šæ€»æ˜¯æ›´æ–°ç¼“å­˜çš„å†…å®¹ï¼ˆç¼“å­˜æœªå‘½ä¸­ï¼Œåˆ™ä»ç£ç›˜åŠ è½½åˆ°ç¼“å­˜ï¼‰</li><li>å…ˆå†™undologæ—¥å¿—æ–‡ä»¶ï¼šè®°å½•ä¹‹å‰çš„æ•°æ®ï¼Œæ”¯æŒmvccã€æ”¯æŒå›æ»šå°±é å®ƒ</li><li>redologè®°å½•çš„ä¸¤é˜¶æ®µæäº¤ï¼šï¼ˆå…ˆæ˜¯prepareï¼Œå¾…binlogå†™å®Œä¹‹åï¼Œå†æ¬¡æ›´æ–°çŠ¶æ€ä¸ºcommitï¼‰</li><li>æœ€åå¼‚æ­¥åˆ·æ–°ç¼“å­˜æ•°æ®åˆ°ç£ç›˜</li></ul><p>è™½ç„¶ä¸Šé¢çš„æè¿°æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯è¿™é‡Œçš„çŸ¥è¯†ç‚¹éå¸¸å¤šï¼Œå¦‚</p><ul><li>ä¸ºä»€ä¹ˆå…ˆæ›´æ–°ç¼“å­˜ï¼Œæœ€åå¼‚æ­¥åˆ·ç£ç›˜ï¼Ÿ <ul><li>æ ¸å¿ƒåœ¨äºæ“ä½œå†…å­˜çš„é€Ÿåº¦ &gt;&gt; æ“ä½œç£ç›˜</li></ul></li><li>undologä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆæ”¯æŒmvccï¼Œå®ç°äº‹åŠ¡å›æ»šçš„ï¼Ÿ <ul><li>ä¿éšœäº‹åŠ¡åŸå­æ€§çš„å…³é”®æ‰€åœ¨ï¼Œæ•°æ®è¡Œéä¸»é”®å˜æ›´æ—¶ï¼Œè®°å½•ä¿®æ”¹å‰çš„æ•°æ®åˆ°undologï¼Œå¹¶æŒ‡å‘å®ƒï¼Œå…¶ä»–sqlè¯»è¿™ä¸ªundologä¸­çš„å‰¯æœ¬æ•°æ®ä»è€Œæ”¯æŒmvccï¼Œå›æ»šæ—¶åˆ™æ˜¯æ ¹æ®undo logè¿›è¡Œé€»è¾‘æ¢å¤</li></ul></li><li>redologä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸¤é˜¶æ®µæ–¹æ¡ˆï¼Ÿ <ul><li>ä¸»è¦ä¿éšœäº‹åŠ¡çš„æŒä¹…æ€§ï¼Œå½“æ•°æ®åº“å¼‚å¸¸å®•æœºä¹‹åï¼Œå¯ä»¥é€šè¿‡é‡æ–°æ‰§è¡Œredo logæ¥æ¢å¤æœªåŠæ—¶è½ç›˜çš„æ•°æ®ï¼›ä¸¤é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£å†³redologä¸binlogçš„ä¸€è‡´æ€§é—®é¢˜ï¼Œé¿å…å‡ºç°redologç¬¬ä¸€é˜¶æ®µæˆåŠŸï¼Œä½†æ˜¯binlogå¤±è´¥å¯¼è‡´ä¸ä¸€è‡´é—®é¢˜</li><li>redologå±äºinnodbå¼•æ“ï¼Œå›ºå®šå¤§å°ï¼Œç¯å½¢ç»“æ„è¦†ç›–å†™ç­–ç•¥ï¼›å†…éƒ¨åŒæ ·æ˜¯å…ˆå†™ç¼“å­˜ï¼Œå†åˆ·ç£ç›˜çš„ç­–ç•¥</li></ul></li></ul><p>æ›´å¤šè¯¦æƒ…å†…å®¹ï¼Œåé¢åˆ°mysqlçš„ä¸“é¢˜æ—¶å†è¯¦ç»†ä»‹ç»</p><h3 id="_2-2-ä¸»å¤‡æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_2-2-ä¸»å¤‡æ¶æ„" aria-hidden="true">#</a> 2.2 ä¸»å¤‡æ¶æ„</h3><p>ä¿è¯é«˜å¯ç”¨çš„ä¸€ä¸ªæœ€ç®€å•ç­–ç•¥å°±æ˜¯â€œå†—ä½™â€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™é‡Œè¯´åˆ°çš„ä¸»å¤‡æ¶æ„ï¼Œå¯¹mysqlè€Œè¨€ï¼Œå°±æ˜¯æˆ‘å¯åŠ¨ä¸¤ä¸ªå®ä¾‹ï¼›ä¸€ä¸ªä¸»åº“å¯¹å¤–æä¾›è¯»å†™æœåŠ¡ï¼Œä¸€ä¸ªå¤‡åº“ï¼Œå†—ä½™ä¸»åº“çš„æ‰€æœ‰æ•°æ®å†…å®¹ï¼Œå¹¶ä¸å¯¹å¤–æä¾›æœåŠ¡ï¼›</p><p>å½“ä¸»åº“ggä¹‹åï¼Œç„¶åå¤‡åº“å‡çº§ï¼Œåˆ‡æ¢ä¸ºä¸»åº“</p><blockquote><p>è¯è¯´è¿™ä¸ªæ€æƒ³å’Œå¤ä»£çš„å‚¨å›åˆ¶éå¸¸åƒäº†ï¼Œå¹³æ—¶éƒ½æ˜¯çš‡å¸æ€»é¢†æœå ‚ï¼Œå¤ªå­å°±å½“å‰ç¥¥ç‰©ï¼›çš‡å¸é©¾å´©ä¹‹åï¼Œå¤ªå­å°±æ™‹å‡ä¸ºçš‡å¸ï¼ˆè®ºå¤‡èƒçš„é‡è¦æ€§ï¼‰</p></blockquote><figure><img src="/tutorial/imgs/column/distribute/220708/mysql01.jpg" alt="MySqlä¸»å¤‡" tabindex="0" loading="lazy"><figcaption>MySqlä¸»å¤‡</figcaption></figure><p>ä¸»å¤‡çš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯å¤šå¤‡ä¸€å°å®ä¾‹ï¼Œåœ¨å‡ºé—®é¢˜æ—¶é¡¶ä¸Šï¼Œå½“ç„¶ç¼ºç‚¹å°±å¾ˆæ˜æ˜¾äº†ï¼Œä¸¥é‡çš„èµ„æºæµªè´¹</p><h3 id="_2-3-ä¸»ä»æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_2-3-ä¸»ä»æ¶æ„" aria-hidden="true">#</a> 2.3 ä¸»ä»æ¶æ„</h3><p>ä¸»ä»å’Œå‰é¢mysqlçš„æ€è·¯å·®ä¸å¤šï¼Œä¸»ä»æ¨¡å¼ä¸€èˆ¬åˆå«åšè¯»å†™åˆ†ç¦»ï¼Œå³å†™ä¸»åº“ï¼Œè¯»ä»åº“ï¼›ç›¸æ¯”äºä¸»å¤‡è€Œè¨€ï¼Œæœ€ä¸»è¦çš„çªç ´ç‚¹åœ¨äºå¦å¤–ä¸€ä¸ªmysqlå®ä¾‹ä¸ä¼šå¹²æ”¾ç€ï¼Œè€Œæ˜¯å°¤å…¶æ¥æ‰¿æ‹…è¯»è¯·æ±‚</p><figure><img src="/tutorial/imgs/column/distribute/220708/mysql02.jpg" alt="MySqlä¸»ä»" tabindex="0" loading="lazy"><figcaption>MySqlä¸»ä»</figcaption></figure><p>ä¸»ä»çš„æ ¸å¿ƒæ€æƒ³åœ¨äºè¯»å†™åˆ†ç¦»</p><h3 id="_2-4-ä¸€ä¸»å¤šä»" tabindex="-1"><a class="header-anchor" href="#_2-4-ä¸€ä¸»å¤šä»" aria-hidden="true">#</a> 2.4 ä¸€ä¸»å¤šä»</h3><p>åœ¨å‰é¢ä¸»ä»çš„åŸºç¡€ä¸Šå¤šæŒ‚å‡ ä¸ªä»åº“ï¼Œä¸»è¦å‡ºå‘ç‚¹åœ¨äºå½“å‰çš„äº’è”ç½‘åœºæ™¯ä¸‹ï¼Œç»å¤§å¤šæ•°çš„åº”ç”¨éƒ½æ˜¯è¯»å¤šå†™å°‘ï¼Œé€šè¿‡æŒ‚å¤šä¸ªä»åº“ï¼Œå¯ä»¥æœ‰æ•ˆæä¾›æ•´ä½“æœåŠ¡çš„æ€§èƒ½æŒ‡æ ‡</p><p>åŒæ ·ä¸€ä¸»å¤šä»çš„æ¨¡å¼ï¼Œä¹Ÿä¼šåŒºåˆ†ä¸ºä¸»ä» + ä¸»ä»ä»ä¸¤ç§ï¼Œåè€…åˆ™ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘ä¸»åº“çš„åŒæ­¥å‹åŠ›ï¼Œä¸‹å›¾ä¸ºæ ¸å¿ƒ4æ¶æ„æ¨¡å‹</p><figure><img src="/tutorial/imgs/column/distribute/220708/mysql03.jpg" alt="MySqlä¸»ä»" tabindex="0" loading="lazy"><figcaption>MySqlä¸»ä»</figcaption></figure><h3 id="_2-5-å¤šä¸»å¤šä»" tabindex="-1"><a class="header-anchor" href="#_2-5-å¤šä¸»å¤šä»" aria-hidden="true">#</a> 2.5 å¤šä¸»å¤šä»</h3><p>ä¸€ä¸»å¤šä»å¯ä»¥è§£å†³è¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œä½†æ€»ä¼šå‡ºç°å†™ç“¶é¢ˆçš„åœºæ™¯ï¼›åœ¨ä¸è€ƒè™‘åˆ†åº“åˆ†è¡¨çš„ä¸šåŠ¡æ‰‹æ®µä¹‹å‰ï¼ˆè¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ•°æ®åˆ†ç‰‡ï¼Œç±»ä¼¼ä¸Šé¢è¯´åˆ°çš„redisé›†ç¾¤æ¨¡å¼ï¼‰ï¼Œä»…ä»…ä»mysqlçš„æ¶æ„æ¨¡å¼å‡ºå‘ï¼Œè‡ªç„¶ä¼šæƒ³åˆ°çš„ç­–ç•¥å°±æ˜¯å¤šä¸ªä¸»åº“æä¾›å†™èƒ½åŠ›ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¯´çš„å¤šä¸»å¤šä»çš„æ¶æ„äº†</p><figure><img src="/tutorial/imgs/column/distribute/220708/mysql04.jpg" alt="MySqlä¸»ä»" tabindex="0" loading="lazy"><figcaption>MySqlä¸»ä»</figcaption></figure><p>å¤šä¸»å¤šä»ï¼Œå…¶ä¸­æ¯ä¸ªä¸»åº“éƒ½å¯ä»¥ç‹¬ç«‹å¯¹å¤–æä¾›å†™è¯·æ±‚ï¼›ä»åº“åˆ™å¯¹å¤–æä¾›è¯»è¯·æ±‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸»åº“ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Œå³ä¸€ä¸ªå†™è¯·æ±‚è½åˆ°ä¸€ä¸ªä»»æ„ä¸€ä¸ªä¸»åº“ä¹‹åï¼Œæ‰€æœ‰çš„ä¸»åº“éƒ½ä¼šåŒæ­¥è¿™ä¸ªå†™æ“ä½œ</p><h3 id="_2-6-ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_2-6-ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥" aria-hidden="true">#</a> 2.6 ä¸»åº“åˆ‡æ¢ç­–ç•¥ã€ä¸»ä»åŒæ­¥ç­–ç•¥</h3><p>å‰é¢ä»‹ç»çš„æ˜¯å‡ ç§ä¸åŒçš„ä¸»ä»æ¶æ„ç‰¹ç‚¹ï¼Œä¸»è¦é€šè¿‡ä¸»ã€å¤‡/ä»æ¥æ–°å¢å®ä¾‹æ¥æé«˜å¯ç”¨æ€§ï¼›ä½†æ˜¯è¿˜æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„ç‚¹æ²¡æœ‰ç»†è¯´ï¼Œä¸€ä¸ªæ˜¯æ•…éšœä¹‹åï¼Œå¦‚ä½•ç¡®å®šæ–°çš„ä¸»åº“ï¼›å¦å¤–ä¸€ä¸ªåˆ™æ˜¯ä¸»ä»/ä¸»ä¸»ä¹‹é—´çš„æ•°æ®å¦‚ä½•åŒæ­¥ï¼Œå¦‚ä½•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼›</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ç®€å•çš„ä»‹ç»ä¸‹mysqlä¸­å¸¸è§çš„ä¸€äº›åšæ³•ï¼ˆæ›´è¯¦ç»†çš„å½“ç„¶ç•™åœ¨åé¢çš„ä¸“é¢˜ï¼‰</p><h4 id="ä¸»åº“åˆ‡æ¢ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ä¸»åº“åˆ‡æ¢ç­–ç•¥" aria-hidden="true">#</a> ä¸»åº“åˆ‡æ¢ç­–ç•¥</h4><p><strong>VIP + KeepAlived</strong></p><ul><li>vip: å³virtual ipè™šæ‹Ÿip</li><li>KeepAlived: ä¿æ´»è„šæœ¬</li></ul><p>å…¶ä¸»è¦æ€è·¯åœ¨äºå¤–éƒ¨é€šè¿‡VIPè®¿é—®mysqlå®ä¾‹(ä¸»ä»/ä¸»ä¸»)ï¼Œè€ŒKeepAlivedç”¨äºæ£€æµ‹ä¸»åº“æ˜¯å¦å­˜æ´»ï¼Œå½“æŒ‚æ‰ä¹‹åï¼ŒVIPåç§»åˆ°å¦å¤–ä¸€ä¸ªä¸»åº“ï¼ˆæˆ–è€…é€‰ä¸€ä¸ªä»åº“ä½œä¸ºä¸»åº“ï¼‰ä¸Šï¼Œä»è€Œå®ç°è‡ªåŠ¨çš„åˆ‡ä¸»æµç¨‹</p><p>ç¼ºç‚¹ï¼š</p><ul><li>çº§è”å¤åˆ¶(ä¸»-&gt;ä»-&gt;ä»è¿™ç§å¤åˆ¶æ¨¡å¼å«åšçº§è”å¤åˆ¶)æˆ–è€…ä¸€ä¸»å¤šä»åœ¨åˆ‡æ¢ä¹‹åï¼Œå…¶ä»–ä»å®ä¾‹éœ€è¦é‡æ–°é…ç½®è¿æ¥æ–°ä¸»</li></ul><p><strong>MHA</strong></p><p>Master High Avaliable ä¸»åº“é«˜å¯ç”¨æœºåˆ¶ï¼Œä¹Ÿæ˜¯å½“ä¸‹å¾ˆå¤šå…¬å¸é‡‡ç”¨çš„ç­–ç•¥ï¼›å…¶åŒ…å«ä¸€å¥—å®Œæ•´çš„å·¥å…·ï¼Œåœ¨æ£€æµ‹åˆ°ä¸»åº“ä¸å¯ç”¨åï¼Œä¼šè‡ªåŠ¨å°†åŒæ­¥åˆ°æœ€æ¥è¿‘ä¸»åº“çš„slaveæå‡ä¸ºmasterï¼Œç„¶åå°†å…¶ä»–çš„slaveæŒ‡å‘æ–°çš„master</p><p>å…¶ä¼˜ç‚¹éå¸¸æ˜æ˜¾ï¼Œé€šå¸¸å¯ä»¥å®ç°åç§’å†…çš„ä¸»ä»åˆ‡æ¢ï¼Œæ‰©å±•MySqlèŠ‚ç‚¹ä¹Ÿéå¸¸æ–¹ä¾¿ï¼›è€Œç¼ºç‚¹åˆ™åœ¨äºä¸»è¦ç›‘æ§ä¸»åº“</p><p><strong>MXC</strong></p><p>PXCï¼ˆPercona XtraDB Clusterï¼‰æ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„ MySQL é«˜å¯ç”¨è§£å†³æ–¹æ¡ˆã€‚å®ƒå°† Percona Serverã€Percona XtraBackup ä¸ Galera åº“é›†æˆåœ¨ä¸€èµ·ï¼Œä»¥å®ç°å¤šä¸»å¤åˆ¶çš„ MySQL é›†ç¾¤</p><p>å…¶æ ¸å¿ƒç‰¹ç‚¹åœ¨äºå†™è¯·æ±‚ä¼šè‡ªåŠ¨åŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œè¦æ±‚åœ¨æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½éªŒè¯ä¹‹åæ‰ä¼šæäº¤ï¼Œä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§</p><p>å› æ­¤ç¼ºç‚¹å°±åœ¨äºæœ¨æ¡¶æ•ˆåº”ï¼Œæ€§èƒ½å–å†³äºæœ€å·®çš„é‚£ä¸ªèŠ‚ç‚¹</p><p><strong>MGR/InnoDB Cluste</strong></p><p>MySQL 5.7 æ¨å‡ºäº† MGRï¼ˆMySQL Group Replicationï¼‰ï¼Œä¸ PXC ç±»ä¼¼ï¼Œä¹Ÿå®ç°äº†å¤šèŠ‚ç‚¹æ•°æ®å†™å…¥å’Œå¼ºä¸€è‡´æ€§çš„ç‰¹ç‚¹ã€‚MGR é‡‡ç”¨ GCSï¼ˆGroup Communication Systemï¼‰åè®®åŒæ­¥æ•°æ®ï¼ŒGCS å¯ä¿è¯æ¶ˆæ¯çš„åŸå­æ€§</p><p>å¤–éƒ¨è¿æ¥é€šè¿‡ MySql routerä¸ä¸€ç»„mysqlå®ä¾‹è¿›è¡Œäº¤äº’ï¼Œå½“ä¸»åº“åˆ‡æ¢æ—¶ï¼Œmysql routerä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°çš„ä¸»èŠ‚ç‚¹</p><p><strong>Xenon</strong></p><p>ç»™äºˆRaftåè®®çš„MySqlé«˜å¯ç”¨å’Œå¤åˆ¶æ€§ç®¡ç†å·¥å…·ï¼Œæ— ä¸­å¿ƒåŒ–é€‰ä¸»ï¼Œæ”¯æŒç§’çº§åˆ‡æ¢</p><h4 id="ä¸»ä»åŒæ­¥ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ä¸»ä»åŒæ­¥ç­–ç•¥" aria-hidden="true">#</a> ä¸»ä»åŒæ­¥ç­–ç•¥</h4><p>å½“å­˜åœ¨ä¸»ä»åº“æ—¶ï¼Œå¿…ç„¶ä¼šå­˜åœ¨åŒæ­¥é—®é¢˜ï¼Œå¦‚ä½•ä¿éšœä¸»åº“ä¸ä»åº“æ•°æ®çš„ä¸€è‡´æ€§å‘¢ï¼Ÿ</p><p><strong>ä¸»ä»åŒæ­¥æµç¨‹</strong></p><p>ä¸»ä»åŒæ­¥ä¸»è¦å€ŸåŠ©Binlogæ¥å®ç°ï¼Œè¿™ä¸ªåœ¨å‰é¢çš„å›¾ä¸­æœ‰ç®€å•çš„ä½“ç°ï¼Œä¸‹é¢åˆ™æ˜¯ç›¸å¯¹å®Œæ•´çš„åŒæ­¥æµç¨‹</p><figure><img src="/tutorial/imgs/column/distribute/220708/mysql05.jpg" alt="MySqlä¸»ä»æ•°æ®åŒæ­¥" tabindex="0" loading="lazy"><figcaption>MySqlä¸»ä»æ•°æ®åŒæ­¥</figcaption></figure><ul><li>ä¸»åº“ç”Ÿæˆbinlogæ—¥å¿—æ–‡ä»¶ <ul><li>statement:è®°å½•å…·ä½“å¼•èµ·æ”¹åŠ¨çš„æ“ä½œè¯­å¥ï¼Œæ¯”å¦‚insert xxxxxï¼Œç¼ºç‚¹æ˜¯æŸäº›å‡½æ•°ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼ˆå¦‚now()ï¼‰</li><li>row:åŸºäºæ•°æ®è¡Œçš„ï¼ŒåŸæ¥æ•°æ®è¡Œæ˜¯xxå€¼æ”¹ä¸ºäº†yy å€¼ï¼Œç¼ºç‚¹æ˜¯æ•°æ®é‡å¤§</li><li>mixed: ä¸Šé¢ä¸¤ä¸ªæ··ç”¨</li></ul></li><li>ä»åº“çš„ioçº¿ç¨‹æ‹‰ä¸»åº“çš„binlogæ—¥å¿—ï¼Œå†™å…¥è‡ªå·±çš„relaylog(ä¸­ç»§æ—¥å¿—)ï¼Œç„¶åç”±sqlçº¿ç¨‹è¯»å–relaylogæ—¥å¿—è¿›è¡Œå›æ”¾ï¼Œå®ç°æ•°æ®åŒæ­¥</li></ul><p><strong>ä¸»ä»åŒæ­¥ç­–ç•¥</strong></p><p>ä½¿ç”¨ä¸»ä»ä¹‹åï¼Œåœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæœ€æœ€å¸¸é‡åˆ°çš„é—®é¢˜å°±æ˜¯ä¸»ä»å»¶è¿Ÿï¼Œå³ä¸»åº“æ•°æ®å·²ç»å†™å…¥äº†ï¼Œä½†æ˜¯è¯»ä»åº“å´è¯»ä¸åˆ°å¯¹åº”çš„æ•°æ®ï¼Œè¿™ä¸ªå°±æ˜¯ä¸»ä»å»¶è¿Ÿäº†ï¼Œå®ƒç›´æ¥å¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ï¼›å½“ç„¶ä¸€èˆ¬è¿™ç§å½±å“è¿˜å¥½ï¼Œä½†æ˜¯å¦‚æœå› ä¸ºä¸»ä»å»¶è¿Ÿï¼Œç°åœ¨ä¸»åº“æŒ‚äº†ï¼Œæ‰€æœ‰çš„ä»åº“éƒ½æ²¡æœ‰æœ€æ–°çš„è®°å½•ï¼Œè¿™ä¸å°±å¯¼è‡´æ•°æ®ä¸¢å¤±äº†ä¹ˆï¼Œä¼šå¯¼è‡´ä¸¥é‡çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜</p><p>æ‰€ä»¥åœ¨ä¸»ä»åŒæ­¥çš„ç­–ç•¥ä¸Šï¼Œæœ‰ä¸‹é¢å‡ ç§</p><p>case1:å¼‚æ­¥å¤åˆ¶</p><p>ä¸»åº“å®Œæˆå†™è¯·æ±‚ä¹‹åï¼Œç†è§£è¿”å›ç»“æœï¼Œå¹¶ä¸å…³å¿ƒä»åº“æ˜¯å¦åŒæ­¥æ¥æ”¶å¤„ç†ï¼Œæ­¤æ—¶å°±å¯èƒ½å‡ºç°ä¸Šé¢è¯´çš„ï¼Œä¸»åº“æŒ‚äº†ä¹‹åï¼Œæ‰€æœ‰ä»åº“è¿˜å­˜åœ¨æœªåŒæ­¥çš„æ•°æ®ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±</p><p>case2:åŠåŒæ­¥å¤åˆ¶</p><p>ä¸ºäº†é¿å…å‡ºç°ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¦æ±‚æœ€å°‘æœ‰ä¸€ä¸ªä»åº“åŒæ­¥å®Œä¹‹åï¼Œæ‰å“åº”ç”¨æˆ·ç«¯è¯·æ±‚ï¼Œè¿™æ ·è¡¨æ˜ä¸»åº“å®•æœºä¹‹åè¿˜æœ‰ä¸ªå…œåº•çš„</p><p>case3:å…¨åŒæ­¥å¤åˆ¶</p><p>è¿™ä¸ªæ›´æ¿€è¿›ä¸€ç‚¹ï¼Œè¦æ±‚æ‰€æœ‰çš„ä»åº“éƒ½åŒæ­¥å®Œï¼Œæ‰ç®—çœŸæ­£çš„okï¼Œä¿è¯å¼ºä¸€è‡´æ€§ï¼Œç¼ºç‚¹åˆ™åœ¨äºæ€§èƒ½ä¼šå—åˆ°å½±å“</p><h3 id="_2-7-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_2-7-å°ç»“" aria-hidden="true">#</a> 2.7 å°ç»“</h3><p>è¿™ä¸€å°èŠ‚ä¸»è¦ä»‹ç»çš„æ˜¯MySqlçš„é«˜å¯ç”¨ç­–ç•¥ï¼Œä»æ¶æ„æ–¹é¢å‡ºå‘ï¼Œæœ‰ä¸»å¤‡ï¼Œä¸»ä»ï¼Œä¸€ä¸»å¤šä»ï¼Œå¤šä¸»å¤šä»ï¼ŒåŒæ—¶ä¹Ÿç®€å•çš„ä»‹ç»äº†ä¸‹å¦‚ä½•å®ç°ä¸»åº“çš„è‡ªåŠ¨åˆ‡æ¢(MHA,MXC,MGRç­‰)ã€ä¸»ä»æ•°æ®åŒæ­¥æµç¨‹ï¼ŒåŒæ­¥ç­–ç•¥ï¼›å¦‚æœæƒ³äº†è§£æ›´è¯¦ç»†çš„å†…å®¹ï¼Œè¯·ç§»æ­¥åˆ°mysqlçš„é«˜å¯ç”¨ä¸“é¢˜</p><p>ä¸‹é¢å°ç»“ä¸€ä¸‹ä¿æŒé«˜å¯ç”¨çš„ä¸»è¦æ€è·¯</p><ul><li>é€šè¿‡å†—ä½™æ¥å®ç°é«˜å¯ç”¨ï¼šå¦‚ä¸»å¤‡</li><li>è¯»å†™åˆ†ç¦»ï¼Œå®ç°è´Ÿè½½å‡è¡¡ï¼šä¸»ä»ã€ä¸»ä»ä»æ¨¡å¼</li><li>æ•°æ®æŒä¹…åŒ–ç­–ç•¥ï¼šæ“ä½œå†…å­˜(buffer)ï¼Œå¼‚æ­¥åˆ·ç›˜ï¼Œä¸¤é˜¶æ®µæäº¤ä¿éšœä¸€è‡´æ€§</li></ul><p>ç›¸å…³åšæ–‡:</p><ul><li><a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-innodb-cluster-introduction.html" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£ InnoDB Cluster<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.php.cn/mysql-tutorials-488418.html" target="_blank" rel="noopener noreferrer">è¯»å®Œææ‡‚MySQLæŒä¹…åŒ–å’Œå›æ»šï¼ˆå›¾æ–‡è¯¦è§£ï¼‰-mysqlæ•™ç¨‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://mp.weixin.qq.com/s/3ICMQUF_vQpuDm2nHi1qqw" target="_blank" rel="noopener noreferrer">MySQL å¸¸ç”¨é«˜å¯ç”¨æ–¹æ¡ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://blog.csdn.net/weixin_47019016/article/details/114740096" target="_blank" rel="noopener noreferrer">MySQLé«˜å¯ç”¨ä¹‹PXCè¯¦è§£_ç°å®å¦‚æ­¤å‘€çš„åšå®¢-CSDNåšå®¢_pxc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.51cto.com/article/606556.html" target="_blank" rel="noopener noreferrer">ä¸€æ–‡çœ‹æ‡‚MySQLçš„å¼‚æ­¥å¤åˆ¶ã€å…¨åŒæ­¥å¤åˆ¶ä¸åŠåŒæ­¥å¤åˆ¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_3-rabbitmqé«˜å¯ç”¨æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_3-rabbitmqé«˜å¯ç”¨æ–¹æ¡ˆ" aria-hidden="true">#</a> 3. RabbitMqé«˜å¯ç”¨æ–¹æ¡ˆ</h2><p>æ¶ˆæ¯ä¸­é—´ä»¶ä¹Ÿæ˜¯å¤§å®¶æˆ–å¤šæˆ–å°‘ä¼šæ¥è§¦çš„ä¸€ç±»ç³»ç»Ÿï¼Œæ¥ä¸‹æ¥å°†ä»¥RabbitMqæ¥çœ‹ä¸€ä¸‹å®ƒçš„é«˜å¯ç”¨æ˜¯å¦‚ä½•å®ç°çš„</p><h3 id="_3-1-æ•°æ®æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_3-1-æ•°æ®æŒä¹…åŒ–" aria-hidden="true">#</a> 3.1 æ•°æ®æŒä¹…åŒ–</h3><p>ä¸åŒäºå‰é¢MySqlå¿…ç„¶ä¼šæŒä¹…åŒ–ï¼ŒRabbitMqçš„æ•°æ®æŒä¹…åŒ–æ˜¯å¯é€‰çš„ï¼Œå½“æˆ‘ä»¬å¯¹æ•°æ®çš„å®Œæ•´æ€§è¦æ±‚é«˜æ—¶ï¼Œæœ€å¥½å¼€å¯æŒä¹…åŒ–</p><p>é¦–å…ˆç®€å•çœ‹ä¸€ä¸‹rabbitmqçš„æ¨¡å‹</p><figure><img src="/tutorial/imgs/column/distribute/220708/rabbitmq00.jpg" alt="RabbitMqæ¶æ„" tabindex="0" loading="lazy"><figcaption>RabbitMqæ¶æ„</figcaption></figure><p>æˆ‘ä»¬è¿™é‡Œè¯´çš„æŒä¹…åŒ–ä¸»è¦æŒ‡</p><ul><li>exchangeæŒä¹…åŒ–: å³exchangeæœ¬èº«ä¸ä¼šå› ä¸ºrabbitmqå®•æœºè€Œè¢«åˆ é™¤ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šdurable=true</li><li>topicæŒä¹…åŒ–ï¼šæ¶ˆè´¹è€…é€šè¿‡topicä»exchangeä¸­è¯»å–æ¶ˆæ¯ï¼Œéœ€è¦æŒ‡å®šdurable=trueï¼Œé¿å…å‡ºç°å®•æœºåé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä¸¢å¤±</li><li>msgæ¶ˆæ¯æŒä¹…åŒ–ï¼šå³ç”Ÿäº§è€…æŠ•é€’åˆ°echangeçš„æ¶ˆæ¯ï¼Œéœ€è¦æŒä¹…åŒ–åˆ°ç£ç›˜</li></ul><p>æ³¨æ„rabbitmqçš„æ¶ˆæ¯æŒä¹…åŒ–ä¹Ÿæ˜¯å…ˆå†™åˆ°bufferï¼Œç„¶åå†å®šæ—¶åˆ·æ–°åˆ°ç£ç›˜ï¼›</p><p>å½“æˆ‘ä»¬ä¸ºäº†ä¿éšœæ•°æ®çš„å®Œæ•´æ€§æ—¶ï¼Œä¸€èˆ¬ä¼šå¼€å¯æ¶ˆæ¯çš„ç¡®è®¤æœºåˆ¶/äº‹åŠ¡æœºåˆ¶ï¼Œæ¯æ¬¡æŠ•é€’ç­‰åˆ°mqå›å¤ä¸€ä¸ªç¡®è®¤ackä¹‹åï¼Œæ‰è¡¨ç¤ºçœŸæ­£çš„æŠ•é€’æˆåŠŸï¼Œè€Œmqçš„åº”ç­”åˆ™æ˜¯åœ¨æ¶ˆæ¯çš„æŒä¹…åŒ–ä¹‹åè¿›è¡Œ</p><h3 id="_3-2-ä¸»å¤‡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3-2-ä¸»å¤‡æ¨¡å¼" aria-hidden="true">#</a> 3.2 ä¸»å¤‡æ¨¡å¼</h3><p>åŒå‰é¢çš„MySqlçš„ä¸»å¤‡ï¼Œä¸»èŠ‚ç‚¹æä¾›è¯»å†™ï¼Œå¤‡èŠ‚ç‚¹åŒæ­¥ä¸»èŠ‚ç‚¹çš„æ•°æ®ï¼Œä¸å¯¹å¤–æä¾›æœåŠ¡èƒ½åŠ›ï¼›å½“ä¸»èŠ‚ç‚¹æŒ‚äº†ä¹‹åï¼Œå¯ç”¨å¤‡èŠ‚ç‚¹å¯¹å¤–æœåŠ¡ï¼ŒåŸä¸»èŠ‚ç‚¹æ¢å¤ä¹‹ååˆ™ä½œä¸ºå¤‡èŠ‚ç‚¹å­˜åœ¨</p><h3 id="_3-3-shovelè¿œç¨‹æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3-3-shovelè¿œç¨‹æ¨¡å¼" aria-hidden="true">#</a> 3.3 Shovelè¿œç¨‹æ¨¡å¼</h3><blockquote><p>å®˜æ–¹æ–‡æ¡£ï¼š * <a href="https://www.rabbitmq.com/shovel.html" target="_blank" rel="noopener noreferrer">Shovel Plugin â€” RabbitMQ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>è¿œç¨‹æ¨¡å¼å¯ä»¥å®ç°åŒæ´»çš„ä¸€ç§æ¨¡å¼ï¼Œç®€ç§° shovel æ¨¡å¼ï¼Œæ‰€è°“çš„ shovel å°±æ˜¯æŠŠæ¶ˆæ¯è¿›è¡Œä¸åŒæ•°æ®ä¸­å¿ƒçš„å¤åˆ¶å·¥ä½œï¼Œå¯ä»¥è·¨åœ°åŸŸçš„è®©ä¸¤ä¸ª MQ é›†ç¾¤äº’è”ï¼Œè¿œè·ç¦»é€šä¿¡å’Œå¤åˆ¶ã€‚</p><ul><li>Shovel å°±æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠæ¶ˆæ¯è¿›è¡Œæ•°æ®ä¸­å¿ƒçš„å¤åˆ¶å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥è·¨åœ°åŸŸçš„è®©ä¸¤ä¸ª MQ é›†ç¾¤äº’è”ã€‚</li></ul><figure><img src="/tutorial/imgs/column/distribute/220708/rabbitmq01.jpg" alt="RabbitMqè¿œç¨‹æ¨¡å¼" tabindex="0" loading="lazy"><figcaption>RabbitMqè¿œç¨‹æ¨¡å¼</figcaption></figure><p>å¦‚ä¸Šå›¾ï¼Œæœ‰ä¸¤ä¸ªå¼‚åœ°çš„ MQ é›†ç¾¤ï¼ˆå¯ä»¥æ˜¯æ›´å¤šçš„é›†ç¾¤ï¼‰ï¼Œå½“ç”¨æˆ·åœ¨åœ°åŒº 1 è¿™é‡Œä¸‹å•äº†ï¼Œç³»ç»Ÿå‘æ¶ˆæ¯åˆ° 1 åŒºçš„ MQ æœåŠ¡å™¨ï¼Œå‘ç° MQ æœåŠ¡å·²è¶…è¿‡è®¾å®šçš„é˜ˆå€¼ï¼Œè´Ÿè½½è¿‡é«˜ï¼Œè¿™æ¡æ¶ˆæ¯å°±ä¼šè¢«è½¬åˆ° åœ°åŒº 2 çš„ MQ æœåŠ¡å™¨ä¸Šï¼Œç”± 2 åŒºçš„å»æ‰§è¡Œåé¢çš„ä¸šåŠ¡é€»è¾‘ï¼Œç›¸å½“äºåˆ†æ‘Šæˆ‘ä»¬çš„æœåŠ¡å‹åŠ›ã€‚</p><h3 id="_3-4-é•œåƒæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3-4-é•œåƒæ¨¡å¼" aria-hidden="true">#</a> 3.4 é•œåƒæ¨¡å¼</h3><p>å¦‚ä¸‹å›¾ï¼Œç”¨ KeepAlived åšäº† HA-Proxy çš„é«˜å¯ç”¨ï¼Œç„¶åæœ‰ 3 ä¸ªèŠ‚ç‚¹çš„ MQ æœåŠ¡ï¼Œæ¶ˆæ¯å‘é€åˆ°ä¸»èŠ‚ç‚¹ä¸Šï¼Œä¸»èŠ‚ç‚¹é€šè¿‡ mirror é˜Ÿåˆ—æŠŠæ•°æ®åŒæ­¥åˆ°å…¶ä»–çš„ MQ èŠ‚ç‚¹ï¼Œè¿™æ ·æ¥å®ç°å…¶é«˜å¯é </p><figure><img src="/tutorial/imgs/column/distribute/220708/rabbitmq02.jpg" alt="RabbitMqé•œåƒæ¨¡å¼" tabindex="0" loading="lazy"><figcaption>RabbitMqé•œåƒæ¨¡å¼</figcaption></figure><p>é•œåƒæ¨¡å¼çš„ä¸»è¦ç‰¹ç‚¹åœ¨äºæ¯ä¸ªmqå®ä¾‹éƒ½åŒ…å«ä¸€ä»½å®Œæ•´çš„æ•°æ®é•œåƒï¼Œå†…éƒ¨æœ‰ä¸€ä¸ªmasteré€‰ä¸¾ç®—æ³•ï¼Œé€šè¿‡VIPå¯¹å¤–æä¾›è¿æ¥</p><ul><li>consumerï¼Œä»»æ„è¿æ¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè‹¥è¿ä¸Šçš„ä¸æ˜¯masterï¼Œè¯·æ±‚ä¼šè½¬å‘ç»™masterï¼Œä¸ºäº†ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ï¼Œconsumerå›å¤ackç»™masteråï¼Œmasteråˆ é™¤æ¶ˆæ¯å¹¶å¹¿æ’­æ‰€æœ‰çš„slaverå»åˆ é™¤ã€‚</li><li>publisher ï¼Œä»»æ„è¿æ¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè‹¥è¿ä¸Šçš„ä¸æ˜¯masterï¼Œåˆ™è½¬å‘ç»™masterï¼Œç”±masterå­˜å‚¨å¹¶è½¬å‘ç»™å…¶ä»–çš„slaverå­˜å‚¨ã€‚ å¦‚æœmasteræŒ‚æ‰ï¼Œåˆ™ä»slaverä¸­é€‰æ‹©æ¶ˆæ¯é˜Ÿåˆ—æœ€é•¿çš„ä¸ºmasterï¼Œ</li></ul><h3 id="_3-5-æ™®é€šé›†ç¾¤æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3-5-æ™®é€šé›†ç¾¤æ¨¡å¼" aria-hidden="true">#</a> 3.5 æ™®é€šé›†ç¾¤æ¨¡å¼</h3><p>exchangeï¼Œbuindlingå†æ‰€æœ‰çš„èŠ‚ç‚¹ä¸Šéƒ½ä¼šä¿å­˜ä¸€ä»½ï¼Œä½†æ˜¯queueåªä¼šå­˜å‚¨åœ¨å…¶ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä½†æ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¼šå­˜å‚¨ä¸€ä»½queueçš„metaä¿¡æ¯</p><p>å¦‚æœç”Ÿäº§è€…è¿æ¥çš„æ˜¯å¦å¤–ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†ä¼šæŠŠæ¶ˆæ¯è½¬å‘åˆ°å­˜å‚¨è¯¥é˜Ÿåˆ—çš„èŠ‚ç‚¹ä¸Šã€‚å¦‚æœæ¶ˆè´¹è€…è¿æ¥äº†éå­˜å‚¨é˜Ÿåˆ—çš„èŠ‚ç‚¹å–æ•°æ®ï¼Œåˆ™ä»å­˜å‚¨æ¶ˆæ¯çš„èŠ‚ç‚¹æ‹‰å–æ•°æ®ã€‚</p><p>å…¶æ ¸å¿ƒç‰¹ç‚¹åœ¨äºï¼š</p><ul><li>æ•°æ®æ‹†åˆ†å­˜å‚¨ï¼Œè‹¥çº¯æ¶ˆæ¯çš„èŠ‚ç‚¹æŒ‚äº†ï¼Œåˆ™åªèƒ½ç­‰å¾…å®ƒæ¢å¤ä¹‹åæ‰èƒ½æ­£å¸¸å·¥ä½œ</li></ul><h3 id="_3-6-å¤šæ´»æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_3-6-å¤šæ´»æ¨¡å¼" aria-hidden="true">#</a> 3.6 å¤šæ´»æ¨¡å¼</h3><blockquote><p>è¿™ä¸ªæ¨¡å¼æˆ‘çš„ç†è§£ä¹Ÿä¸å¤Ÿæ·±åˆ»ï¼Œä»¥ä¸‹å†…å®¹æ¥è‡ªäºç½‘ä¸Šæ‘˜å½•ï¼Œå¾…åé¢åˆ°rabbitmqä¸“é¢˜ä¹‹åè°ƒç ”åè¿›ä¸€æ­¥é˜è¿°</p></blockquote><p>rabbitMQ éƒ¨ç½²æ¶æ„é‡‡ç”¨åŒä¸­å¿ƒæ¨¡å¼(å¤šä¸­å¿ƒ)ï¼Œé‚£ä¹ˆåœ¨ä¸¤å¥—(æˆ–å¤šå¥—)æ•°æ®ä¸­å¿ƒå„éƒ¨ç½²ä¸€å¥— rabbitMQ é›†ç¾¤ï¼Œå„ä¸­å¿ƒçš„rabbitMQ æœåŠ¡é™¤äº†éœ€è¦ä¸ºä¸šåŠ¡æä¾›æ­£å¸¸çš„æ¶ˆæ¯æœåŠ¡å¤–ï¼Œä¸­å¿ƒä¹‹é—´è¿˜éœ€è¦å®ç°éƒ¨åˆ†é˜Ÿåˆ—æ¶ˆæ¯å…±äº«</p><figure><img src="/tutorial/imgs/column/distribute/220708/rabbitmq03.jpg" alt="RabbitMqé•œåƒæ¨¡å¼" tabindex="0" loading="lazy"><figcaption>RabbitMqé•œåƒæ¨¡å¼</figcaption></figure><p>federation æ’ä»¶æ˜¯ä¸€ä¸ªä¸éœ€è¦æ„å»º cluster ï¼Œè€Œåœ¨ brokers ä¹‹é—´ä¼ è¾“æ¶ˆæ¯çš„é«˜æ€§èƒ½æ’ä»¶ï¼Œfederation æ’ä»¶å¯ä»¥åœ¨ brokers æˆ–è€… cluster ä¹‹é—´ä¼ è¾“æ¶ˆæ¯ï¼Œè¿æ¥çš„åŒæ–¹å¯ä»¥ä½¿ç”¨ä¸åŒçš„ users å’Œ virtual hostsï¼ŒåŒæ–¹ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ rabbitMQ å’Œ erlangã€‚</p><p>federation æ’ä»¶ä½¿ç”¨ AMQP åè®®é€šä¿¡ï¼Œå¯ä»¥æ¥å—ä¸è¿ç»­çš„ä¼ è¾“ã€‚federation ä¸æ˜¯å»ºç«‹åœ¨é›†ç¾¤ä¸Šçš„ï¼Œè€Œæ˜¯å»ºç«‹åœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šçš„ï¼Œå¦‚å›¾ä¸Šé»„è‰²çš„ rabbit node 3 å¯ä»¥ä¸ç»¿è‰²çš„ node1ã€node2ã€node3 ä¸­çš„ä»»æ„ä¸€ä¸ªåˆ©ç”¨ federation æ’ä»¶è¿›è¡Œæ•°æ®åŒæ­¥ã€‚</p><h3 id="_3-7-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_3-7-å°ç»“" aria-hidden="true">#</a> 3.7 å°ç»“</h3><p>rabbitmqçš„é«˜å¯ç”¨æœºåˆ¶çš„æ–¹æ¡ˆä¹Ÿæ¯”è¾ƒå¥½ç†è§£</p><ul><li>ä¸»å¤‡æ¨¡å¼</li><li>é•œåƒæ¨¡å¼ï¼šå…¨é‡å†—ä½™ä¸€ä»½æ•°æ®ï¼Œä¸»å¯¹å¤–æä¾›æœåŠ¡ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨åˆ‡ä¸»</li><li>æ™®é€šé›†ç¾¤æ¨¡å¼ï¼šæ•°æ®æ‹†åˆ†åˆ°é›†ç¾¤çš„å®ä¾‹ä¸­ï¼Œconsumer/publisherè¿æ¥åˆ°å®ä¾‹ä¹‹åï¼Œä¼šä»å…·ä½“æŒæœ‰exchange/topicçš„å®ä¾‹ä¸Šæ‹‰æ•°æ®</li><li>è¿œç¨‹æ¨¡å¼ï¼šé€‚ç”¨äºå¤šä¸­å¿ƒçš„åœºæ™¯ï¼Œå°†æ¶ˆæ¯è½¬å‘ç»™å…¶ä»–ä¸­å¿ƒçš„å®ä¾‹</li></ul><p>è¿™é‡Œé‡‡ç”¨çš„é«˜å¯ç”¨æ€è·¯ä¹Ÿæ— å¤–ä¹å¸¸è§çš„å‡ ç§ï¼šæŒä¹…åŒ– + æ•°æ®å†—ä½™ + æ‹†åˆ†</p><p>ç›¸å…³åšæ–‡ï¼š</p><ul><li><a href="https://spring.hhui.top/spring-blog/2020/02/12/200212-SpringBoot%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B%E4%B9%8BRabbitMq%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9%E5%B0%8F%E7%BB%93/" target="_blank" rel="noopener noreferrer">ã€MQç³»åˆ—ã€‘RabbitMqæ ¸å¿ƒçŸ¥è¯†ç‚¹å°ç»“ | ä¸€ç°ç°Blog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.jianshu.com/p/b7cc32b94d2a" target="_blank" rel="noopener noreferrer">RabbitMQ çš„4ç§é›†ç¾¤æ¶æ„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://www.liaoqiqi.com/post/215" target="_blank" rel="noopener noreferrer">rabbitmqæ¶ˆæ¯ä¸€è‡´æ€§é—®é¢˜ - Knight&#39;s Blog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_4-elasticsearché«˜å¯ç”¨æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_4-elasticsearché«˜å¯ç”¨æ–¹æ¡ˆ" aria-hidden="true">#</a> 4. ElasticSearché«˜å¯ç”¨æ–¹æ¡ˆ</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹ä¸€ä¸‹ç°åœ¨éå¸¸æµè¡Œçš„åˆ†å¸ƒå¼æœç´¢å¼•æ“ElasticSearchæ˜¯å¦‚ä½•ä¿è¯é«˜å¯ç”¨çš„</p><h3 id="_4-1-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-1-é›†ç¾¤" aria-hidden="true">#</a> 4.1 é›†ç¾¤</h3><blockquote><p>Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€RESTful é£æ ¼çš„æœç´¢å’Œæ•°æ®åˆ†æå¼•æ“</p><p>by å®˜ç½‘æè¿°</p></blockquote><p>å¯¹äºesè€Œè¨€ï¼Œé€šå¸¸éƒ½æ˜¯é›†ç¾¤æ–¹å¼å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªå®ä¾‹å«åšä¸€ä¸ªèŠ‚ç‚¹(Node)ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¼šå®šä¹‰ä¸€ä¸ªèŠ‚ç‚¹å(Node Name)ï¼Œé›†ç¾¤å(Cluster Name)ï¼Œç›¸åŒé›†ç¾¤åçš„èŠ‚ç‚¹ä¼šæ„å»ºä¸ºä¸€ä¸ªé›†ç¾¤ï¼›</p><figure><img src="/tutorial/imgs/column/distribute/220708/es00.jpg" alt="ESé›†ç¾¤" tabindex="0" loading="lazy"><figcaption>ESé›†ç¾¤</figcaption></figure><p>ä¸Šå›¾åŒ…å«äº†esé›†ç¾¤çš„æ ¸å¿ƒè¦ç´ ï¼š</p><ul><li>æ¯ä¸ªèŠ‚ç‚¹åŒ…å«é›†ç¾¤å + èŠ‚ç‚¹åä¸¤ä¸ªå±æ€§ï¼Œç›¸åŒé›†ç¾¤åçš„èŠ‚ç‚¹æŒ‚åœ¨ä¸€ä¸ªé›†ç¾¤å†…</li><li>èŠ‚ç‚¹å¯åŠ¨ä¹‹åï¼Œå¼€å§‹PINGå…¶ä»–èŠ‚ç‚¹ï¼ˆè¿æ¥ä¸Šåä¼šå¾—åˆ°å¯¹åº”èŠ‚ç‚¹æ‰€åœ¨é›†ç¾¤çš„æ‰€æœ‰ä¿¡æ¯ï¼‰</li><li>èŠ‚ç‚¹å‘ç°ä¸»è¦é Zen Discoveræ¥å®ç°ï¼Œé€‰ä¸¾ä¹Ÿæ˜¯é å®ƒæ¥å®ç°</li></ul><p>é€‰ä¸¾ä¸»è¦æµç¨‹å¦‚ä¸‹</p><figure><img src="/tutorial/imgs/column/distribute/220708/es01.jpg" alt="ESé€‰ä¸¾" tabindex="0" loading="lazy"><figcaption>ESé€‰ä¸¾</figcaption></figure><ul><li>é€‰ä¸¾åŒæ ·ä¹Ÿæ˜¯ä¾èµ–Zen Discoveræ¥å®ç°</li><li>æ¯ä¸ªèŠ‚ç‚¹ä¸ŠæŠ¥è‡ªå·±ä»»åŠ¡çš„ä¸»èŠ‚ç‚¹ï¼Œç„¶åç¥¨æ•°æœ€å¤šçš„å°±æ˜¯ä¸»èŠ‚ç‚¹ï¼›ç¥¨æ•°ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ ¹æ®IDæ’åºï¼Œé€‰ç¬¬ä¸€ä¸ª</li></ul><p>ä¸Šé¢å°±æ˜¯esé›†ç¾¤çš„æ„å»ºä¸ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾è¿‡ç¨‹ï¼›esæ”¯æŒä»»æ„èŠ‚ç‚¹æ•°ç›®çš„é›†ç¾¤ï¼ˆ1- Nï¼‰ï¼Œæ— æ³•å®Œå…¨ä¾èµ–æŠ•ç¥¨çš„æœºåˆ¶æ¥é€‰ä¸»ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªè§„åˆ™ã€‚</p><p>åªè¦æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½éµå¾ªåŒæ ·çš„è§„åˆ™ï¼Œå¾—åˆ°çš„ä¿¡æ¯éƒ½æ˜¯å¯¹ç­‰çš„ï¼Œé€‰å‡ºæ¥çš„ä¸»èŠ‚ç‚¹è‚¯å®šæ˜¯ä¸€è‡´çš„ã€‚</p><p>ä½†åˆ†å¸ƒå¼ç³»ç»Ÿçš„é—®é¢˜å°±å‡ºåœ¨ä¿¡æ¯ä¸å¯¹ç­‰çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¾ˆå®¹æ˜“å‡ºç°è„‘è£‚ï¼ˆSplit-Brainï¼‰çš„é—®é¢˜ã€‚</p><p>å¤§å¤šæ•°è§£å†³æ–¹æ¡ˆå°±æ˜¯è®¾ç½®ä¸€ä¸ª Quorum å€¼ï¼Œè¦æ±‚å¯ç”¨èŠ‚ç‚¹å¿…é¡»å¤§äº Quorumï¼ˆä¸€èˆ¬æ˜¯è¶…è¿‡åŠæ•°èŠ‚ç‚¹ï¼‰ï¼Œæ‰èƒ½å¯¹å¤–æä¾›æœåŠ¡ã€‚è€Œ Elasticsearch ä¸­ï¼Œè¿™ä¸ª Quorum çš„é…ç½®å°±æ˜¯ <code>discovery.zen.minimum_master_nodes</code>ï¼Œå½“<strong>å€™é€‰ä¸»èŠ‚ç‚¹</strong>çš„ä¸ªæ•°è¶…è¿‡è¿™ä¸ªå‚æ•°å€¼æ—¶ï¼Œå¼€å§‹é€‰ä¸¾ï¼Œé€‰ä¸»å®Œæˆä¹‹åå¯¹å¤–æä¾›æœåŠ¡</p><p>ESä½œä¸ºåˆ†å¸ƒå¼ã€è¿‘å®æ—¶æœç´¢ç³»ç»Ÿï¼Œå¤©ç„¶æ”¯æŒé›†ç¾¤çš„æœåŠ¡èƒ½åŠ›ï¼Œé€šè¿‡Zen Discoveræ¥å®ç°èŠ‚ç‚¹é€šä¿¡ã€é›†ç¾¤ç®¡ç†ã€é€‰ä¸»</p><h3 id="_4-2-è„‘è£‚é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-2-è„‘è£‚é—®é¢˜" aria-hidden="true">#</a> 4.2 è„‘è£‚é—®é¢˜</h3><p>ä¸Šé¢æåˆ°äº†è„‘è£‚ï¼Œæ¥ä¸‹æ¥ç®€å•çœ‹ä¸€ä¸‹ESæ˜¯å¦‚ä½•è§£å†³è„‘è£‚é—®é¢˜çš„</p><blockquote><p>è„‘è£‚ï¼šç”±äºç½‘ç»œæˆ–è€…é›†ç¾¤å¥åº·ç›‘æµ‹é—®é¢˜ï¼Œå¯¼è‡´æ•´ä¸ªé›†ç¾¤å‡ºç°å¤šä¸ªmasterèŠ‚ç‚¹ï¼Œè¿™ç§ç°è±¡å°±æ˜¯è„‘è£‚</p></blockquote><p>eså¯¹èŠ‚ç‚¹è¿›è¡Œäº†è§’è‰²åˆ’åˆ†</p><ul><li>æ•°æ®èŠ‚ç‚¹ï¼šè´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œç›¸å…³çš„æ“ä½œ(CURDï¼Œèšåˆ)ç­‰ï¼Œå› æ­¤å¯¹æœºå™¨æ€§èƒ½è¦æ±‚è¾ƒé«˜</li><li>å€™é€‰ä¸»èŠ‚ç‚¹ï¼šæ‹¥æœ‰é€‰ä¸¾æƒå’Œè¢«é€‰ä¸¾æƒï¼Œä¸»èŠ‚ç‚¹åœ¨å€™é€‰ä¸»èŠ‚ç‚¹ä¸­è¯„é€‰å‡ºæ¥ï¼Œè´Ÿè´£åˆ›å»ºç´¢å¼•ã€åˆ é™¤ç´¢å¼•ã€è·Ÿè¸ªå“ªäº›èŠ‚ç‚¹æ˜¯ç¾¤é›†çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶å†³å®šå“ªäº›åˆ†ç‰‡åˆ†é…ç»™å“ªäº›çš„èŠ‚ç‚¹ã€è¿½è¸ªé›†ç¾¤ä¸­èŠ‚ç‚¹çš„çŠ¶æ€ç­‰</li></ul><blockquote><p>ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥å³æ˜¯æ•°æ®èŠ‚ç‚¹ï¼Œåˆæ˜¯å€™é€‰ä¸»èŠ‚ç‚¹ï¼Œä½†æ˜¯æ³¨æ„å®ƒä»¬ä¸¤è€…çš„å®šä½ï¼Œä¸»èŠ‚ç‚¹å¯¹æœºå™¨æ€§èƒ½è¦æ±‚æ²¡æœ‰æ•°æ®èŠ‚ç‚¹é«˜ï¼Œå½“ä¸€å°æœºå™¨æ—¢æ˜¯æ•°æ®èŠ‚ç‚¹åˆæ˜¯ä¸»èŠ‚ç‚¹æ—¶ï¼Œå¯èƒ½å‡ºç°é•¿è€—æ—¶ã€è€—èµ„æºçš„è¯·æ±‚å¯¼è‡´ä¸»èŠ‚ç‚¹æœåŠ¡å¼‚å¸¸ï¼›</p><p>é€šå¸¸æ›´æ¨èçš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨æ€§èƒ½ä½ä¸€ç‚¹çš„ä½œä¸ºå€™é€‰ä¸»èŠ‚ç‚¹ï¼Œæ€§èƒ½é«˜çš„ä½œä¸ºæ•°æ®èŠ‚ç‚¹</p></blockquote><figure><img src="/tutorial/imgs/column/distribute/220708/es02.jpg" alt="ESè§’è‰²åˆ’åˆ†" tabindex="0" loading="lazy"><figcaption>ESè§’è‰²åˆ’åˆ†</figcaption></figure><p>æ¥ä¸‹æ¥çœ‹ä¸‹è„‘è£‚å‡ºç°çš„æƒ…å†µ</p><ul><li>ç½‘ç»œé—®é¢˜ï¼Œå¯¼è‡´åˆ†åŒºï¼šå³éƒ¨åˆ†èŠ‚ç‚¹è¿æ¥ä¸åˆ°ä¸»èŠ‚ç‚¹ï¼Œè®¤ä¸ºå®ƒæŒ‚äº†ï¼Œç„¶åé€‰ä¸¾å‡ºç°çš„ä¸»èŠ‚ç‚¹</li><li>ä¸»èŠ‚ç‚¹è´Ÿè½½ã€å“åº”å»¶è¿Ÿï¼šä¸»èŠ‚ç‚¹ç”±äºè´Ÿè½½è¿‡é«˜ã€æˆ–è€…å“åº”è¶…æ—¶ï¼Œå¯¼è‡´é‡æ–°é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹</li></ul><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>é€‚å½“è°ƒå¤§ping timeoutå“åº”æ—¶é—´ï¼Œé¿å…å› ä¸ºç½‘ç»œã€ä¸»èŠ‚ç‚¹æ€§èƒ½é—®é¢˜å¯¼è‡´çš„é€‰ä¸¾</li><li>è®¾ç½®æœ€å°‘é€‰ä¸¾èŠ‚ç‚¹æ•°å¤§äºå€™é€‰ä¸»èŠ‚ç‚¹çš„åŠæ•°ï¼Œè¿™æ ·åªè¦æœ‰åŠæ•°ä»¥ä¸Šçš„å€™é€‰èŠ‚ç‚¹å­˜æ´»ï¼Œåˆ™å¯ä»¥é€‰ä¸¾å‡ºä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼›è€Œå½“å¯ç”¨èŠ‚ç‚¹æ•°å°äºåŠæ•°æ—¶ï¼Œä¸å‚ä¸é€‰ä¸¾ï¼Œé›†ç¾¤æ— æ³•ä½¿ç”¨ï¼Œä¹Ÿä¸ä¼šå‡ºç°çŠ¶æ€å¼‚å¸¸çš„æƒ…å†µ</li><li>è§’è‰²åˆ†ç¦»ï¼šæ•°æ®èŠ‚ç‚¹ + å€™é€‰ä¸»èŠ‚ç‚¹ä¸æ”¾åœ¨ä¸€å°æœºå™¨ä¸Šï¼›</li></ul><p>åœ¨æœ‰ä¸»èŠ‚ç‚¹çš„ç³»ç»Ÿä¸­ï¼Œä¸€èˆ¬éƒ½éœ€è¦è€ƒè™‘è„‘è£‚é—®é¢˜ï¼Œå¸¸è§çš„ç­–ç•¥æ— éæ˜¯ï¼š</p><ul><li>åŠæ•°èŠ‚ç‚¹ä»¥ä¸Šçš„æŠ•ç¥¨æ‰ç®—æœ‰æ•ˆ</li><li>esé¢å¤–æä¾›äº†èŠ‚ç‚¹çš„è§’è‰²å®šä½ï¼Œæ•°æ®èŠ‚ç‚¹å’Œå€™é€‰ä¸»èŠ‚ç‚¹ï¼Œå…¶ä¸­åªæœ‰å€™é€‰ä¸»èŠ‚ç‚¹æ‰æœ‰é€‰ä¸¾æƒå’Œè¢«é€‰ä¸¾æƒï¼Œæä¾›ä¸€ç§è§’è‰²åˆ†ç¦»çš„å¯é€‰æ–¹æ¡ˆï¼Œæ¥é¿å…ä¸»èŠ‚ç‚¹è¢«å…¶ä»–æ•°æ®æœåŠ¡å½±å“</li></ul><h3 id="_4-3-æ•°æ®åˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#_4-3-æ•°æ®åˆ†ç‰‡" aria-hidden="true">#</a> 4.3 æ•°æ®åˆ†ç‰‡</h3><p>å½“æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œesæ”¯æŒè‡ªåŠ¨æ‹†åˆ†ï¼Œå°†ä¸€ä¸ªç´¢å¼•çš„ä¸Šæ•°æ®æ°´å¹³æ‹†åˆ†åˆ°ä¸åŒçš„æ•°æ®å—--åˆ†ç‰‡(Shards)ï¼Œä¸ºäº†æä¾›å¯ç”¨æ€§ï¼Œæ¯ä¸ªç´¢å¼•åœ¨å®šä¹‰æ—¶é™¤äº†åˆ†ç‰‡ä¹‹å¤–ï¼Œè¿˜ä¼šå®šä¹‰å‰¯æœ¬æ•°é‡ï¼Œè¿™é‡Œçš„å‰¯æœ¬å¯ä»¥ç†è§£ä¸ºæ•°æ®å†—ä½™ï¼Œå…¶ä¸­å‰¯æœ¬å’Œåˆ†ç‰‡å¿…ç„¶ä¸åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œåœ¨ä¸»èŠ‚ç‚¹å¼‚å¸¸æ—¶ï¼Œå‰¯æœ¬å¯ä»¥æä¾›æ•°æ®æŸ¥è¯¢èƒ½åŠ›</p><blockquote><p>esé»˜è®¤åœ¨åˆ›å»ºç´¢å¼•æ—¶ï¼Œåˆ†ç‰‡æ•°ä¸º5ï¼Œæ¯ä¸ªåˆ†ç‰‡å¯¹åº”ä¸€ä¸ªå‰¯æœ¬</p></blockquote><figure><img src="/tutorial/imgs/column/distribute/220708/es03.jpg" alt="ESåˆ†ç‰‡" tabindex="0" loading="lazy"><figcaption>ESåˆ†ç‰‡</figcaption></figure><p>ESé€šè¿‡åˆ†ç‰‡ï¼Œå°†ç´¢å¼•æ•°æ®æ°´å¹³æ‹†åˆ†ï¼Œåˆ†ç‰‡æ•°è¶Šå¤šï¼Œæ¯ä¸ªåˆ†ç‰‡ä¸Šçš„æ•°æ®é‡å°±è¶Šå°‘ï¼›è€Œå‰¯æœ¬åˆ™æ˜¯å¯¹åº”çš„æ¯ä¸ªåˆ†ç‰‡çš„å†—ä½™ï¼Œå¯ä»¥ç†è§£ä¸ºä¸»å¤‡ï¼Œå‰¯æœ¬è¶Šå¤šï¼Œæ¶ˆè€—åˆ™è¶Šå¤§</p><p>ä¸¤ç‚¹å°è¯´æ˜</p><ul><li>å¯¹åº”å‰¯æœ¬çš„æ¦‚å¿µï¼Œä¸Šé¢çš„åˆ†ç‰‡ä¹Ÿå«åšä¸»åˆ†ç‰‡</li><li>å½“ä¸€ä¸ªæ•°æ®å†™å…¥/æ›´æ–°åˆ°åˆ†ç‰‡æ—¶ï¼Œåªæœ‰æ‰€æœ‰çš„å‰¯æœ¬éƒ½æ›´æ–°å®Œæ¯•ä¹‹åï¼Œæ‰ç®—å®Œæˆï¼ˆå¯ä»¥MySqlçš„å…¨åŒæ­¥ï¼‰</li></ul><h3 id="_4-4-æ•°æ®æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_4-4-æ•°æ®æŒä¹…åŒ–" aria-hidden="true">#</a> 4.4 æ•°æ®æŒä¹…åŒ–</h3><p>æœ€åå†è¯´ä¸€ä¸‹esçš„æŒä¹…åŒ–æœºåˆ¶ï¼Œä¸å‰é¢å…ˆè¯´æŒä¹…åŒ–ä¸åŒï¼Œesè¿™é‡Œåˆ™éœ€è¦å…ˆäº†è§£ä¸Šé¢çš„åŸºæœ¬æµç¨‹ï¼Œç´¢å¼•æ•°æ®éœ€è¦ä¿å­˜åˆ°ä¸»åˆ†ç‰‡ä¸Šï¼Œæœ€ç»ˆè½ç›˜ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å®Œæ•´çš„æµç¨‹</p><p><strong>ä¸»åˆ†ç‰‡æ•°æ®æ›´æ–°æµç¨‹</strong></p><figure><img src="/tutorial/imgs/column/distribute/220708/es04.jpg" alt="ESæ•°æ®æ›´æ–°æµç¨‹" tabindex="0" loading="lazy"><figcaption>ESæ•°æ®æ›´æ–°æµç¨‹</figcaption></figure><p>ç®€è¿°ä¸€ä¸‹ä¸Šé¢çš„æµç¨‹</p><ul><li>é¦–å…ˆè¯·æ±‚éšæœºè¿ä¸€ä¸ªesèŠ‚ç‚¹ï¼ˆè¿™ä¸ªèŠ‚ç‚¹å«åšåè°ƒèŠ‚ç‚¹ï¼‰ï¼Œç„¶åé€šè¿‡è·¯ç”±ç®—æ³•ï¼Œç¡®å®šæ•°æ®å¯¹åº”çš„ä¸»åˆ†ç‰‡</li><li>å†™æ•°æ®åˆ°ä¸»åˆ†ç‰‡ï¼Œç„¶ååŒæ­¥åˆ°å‰¯æœ¬ï¼ˆå¤šä¸ªå‰¯æœ¬æ—¶é‡‡ç”¨å¹¶å‘åŒæ­¥ï¼Œä¹è§‚é”æ§åˆ¶ï¼‰</li><li>æ‰€æœ‰å‰¯æœ¬åŒæ­¥å®Œæˆä¹‹åï¼Œä¸»åˆ†ç‰‡èŠ‚ç‚¹å‘Šè¯‰åè°ƒèŠ‚ç‚¹æœ€ç»ˆç»“æœï¼Œç„¶ååè°ƒèŠ‚ç‚¹å‘Šè¯‰è°ƒç”¨è€…å“åº”</li></ul><p>å½“æ•°æ®å†™å…¥åˆ°ä¸»åˆ†ç‰‡ä¸Šä¹‹åï¼Œæ¥ä¸‹æ¥å†çœ‹ä¸€ä¸‹è¿™ä¸ªæ•°æ®æ—¶å¦‚ä½•åˆ·æ–°åˆ°ç£ç›˜ä¸Šçš„</p><p><strong>åˆ†æ®µå­˜å‚¨</strong></p><p>ç´¢å¼•æ–‡æ¡£ä»¥æ®µçš„å½¢å¼å­˜å‚¨ç£ç›˜ï¼Œå³ä¸€ä¸ªç´¢å¼•æ–‡ä»¶ä¼šåˆ’åˆ†ä¸ºå¾ˆå¤šä¸ªå­æ–‡ä»¶ï¼Œè¿™é‡Œçš„å­æ–‡ä»¶å°±æ˜¯æ®µ</p><blockquote><p>æ¯ä¸€ä¸ªæ®µæœ¬èº«éƒ½æ˜¯ä¸€ä¸ªå€’æ’ç´¢å¼•ï¼Œå¹¶ä¸”æ®µå…·æœ‰ä¸å˜æ€§ï¼Œä¸€æ—¦ç´¢å¼•çš„æ•°æ®è¢«å†™å…¥ç¡¬ç›˜ï¼Œå°±ä¸å¯å†ä¿®æ”¹ï¼›æ®µè¢«å†™å…¥åˆ°ç£ç›˜åä¼šç”Ÿæˆä¸€ä¸ªæäº¤ç‚¹ï¼Œæäº¤ç‚¹æ˜¯ä¸€ä¸ªç”¨æ¥è®°å½•æ‰€æœ‰æäº¤åæ®µä¿¡æ¯çš„æ–‡ä»¶</p></blockquote><p>æ®µçš„ç‰¹æ€§ï¼Œæœ‰ä¸‹é¢å‡ ä¸ªæœ‰ç‚¹</p><ul><li>åˆ†æ®µå­˜å‚¨ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…è¯»å†™æ—¶åŠ é”çš„é—®é¢˜</li><li>ä¸å˜æ€§ï¼Œæ•°æ®åªè¯»å¯ä»¥é«˜æ•ˆç¼“å­˜ï¼Œæ— éœ€è€ƒè™‘æ›´æ–°</li><li>ä¸€ä¸ªæ®µä¸€æ—¦æ‹¥æœ‰äº†æäº¤ç‚¹ï¼Œå°±è¯´æ˜è¿™ä¸ªæ®µåªæœ‰è¯»çš„æƒé™ï¼Œå¤±å»äº†å†™çš„æƒé™ã€‚ç›¸åï¼Œå½“æ®µåœ¨å†…å­˜ä¸­æ—¶ï¼Œå°±åªæœ‰å†™çš„æƒé™ï¼Œè€Œä¸å…·å¤‡è¯»æ•°æ®çš„æƒé™ï¼Œæ„å‘³ç€ä¸èƒ½è¢«æ£€ç´¢</li></ul><p>ç”±äºæ®µä¸å¯å˜ï¼Œæ‰€ä»¥åœ¨æ›´æ–°æ—¶éœ€è¦é¢å¤–å¤„ç†</p><ul><li>æ–°å¢ï¼šå½“å‰æ–‡æ¡£æ–°å¢ä¸€ä¸ªæ®µ</li><li>åˆ é™¤ï¼šæ–°å¢ä¸€ä¸ª.delæ–‡ä»¶ï¼Œè®°å½•è¢«åˆ é™¤çš„æ–‡æ¡£ä¿¡æ¯ï¼›è¢«æ ‡è®°åˆ é™¤çš„æ–‡æ¡£ä»ç„¶å¯ä»¥è¢«æ£€ç´¢åˆ°ï¼Œåªæ˜¯æœ€ç»ˆè¿”å›æ—¶è¢«ç§»é™¤</li><li>æ›´æ–°ï¼šåˆ é™¤æ–‡ä»¶ä¸­æ ‡è®°æ—§çš„æ–‡æ¡£åˆ é™¤ï¼Œæ’å…¥æ–°çš„æ®µ</li></ul><p><strong>å»¶è¿Ÿå†™</strong></p><p>ESå¹¶ä¸ä¼šå®æ—¶å°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥æ®µï¼Œè€Œæ˜¯é‡‡ç”¨å»¶è¿Ÿå†™çš„ç­–ç•¥ï¼ˆç±»ä¼¼å‰é¢çš„å†™bufferï¼Œç„¶åå¼‚æ­¥å®šæ—¶åˆ·ç›˜ï¼‰</p><p>eså…ˆå°†å†…å­˜æ•°æ®ï¼Œå†™å…¥æ–‡ä»¶ç¼“å­˜ç³»ç»Ÿ(æ“ä½œç³»ç»Ÿå†…å­˜)ï¼Œ</p><figure><img src="/tutorial/imgs/column/distribute/220708/es05.jpg" alt="ESæ–‡æ¡£å†™å…¥æµç¨‹" tabindex="0" loading="lazy"><figcaption>ESæ–‡æ¡£å†™å…¥æµç¨‹</figcaption></figure><blockquote><p>ä¸Šå›¾æ¥è‡ª * <a href="https://mp.weixin.qq.com/s/gvSNazpxAE78v0J7DP9K1g" target="_blank" rel="noopener noreferrer">ä¸¤ä¸‡å­—æ•™ç¨‹ï¼Œå¸¦ä½ é¨æ¸¸ElasticSearch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>æ³¨æ„å‡ ä¸ªäº‹é¡¹</p><ul><li>å†™å…¥æ–‡ä»¶ç¼“å­˜ç³»ç»Ÿï¼Œä¹‹åå¼‚æ­¥è½ç›˜ï¼Œå¯èƒ½å¯¼è‡´ä¸¢æ•°æ®ï¼Œesé‡‡ç”¨äº‹åŠ¡æ—¥å¿—çš„æ–¹å¼æ¥å¤„ç†æ¢å¤ç­–ç•¥(å³mysqlçš„å…ˆå†™æ—¥å¿—ï¼Œå´©æºƒä¹‹ååšå›æ”¾æ¢å¤)</li><li>eså¯¹å¤–æœåŠ¡æ—¶ï¼Œæ£€ç´¢æ–‡ä»¶ç¼“å­˜ç³»ç»Ÿ + æ®µä¸­çš„æ–‡æ¡£ï¼Œè€Œå†…å­˜ä¸­çš„æ•°æ®ä¸ä¼šè¢«æ£€ç´¢åˆ°ï¼ˆæ‰€ä»¥æ‰€esæ˜¯è¿‘å®æ—¶æœç´¢å¼•æ“ï¼Œå› ä¸ºæœ€æ–°å†™å…¥çš„æ•°æ®è¿˜åœ¨å†…å­˜ä¸­ï¼Œæ²¡æœ‰æäº¤ï¼Œç«‹é©¬æŸ¥å°±æŸ¥ä¸åˆ°ï¼‰</li><li>ä¸ºäº†é¿å…æ®µè¿‡å¤šï¼Œesä¼šå®šæ—¶åšåˆå¹¶ï¼Œå°†å¾ˆå¤šå°çš„æ®µåˆå¹¶æˆå¤§çš„æ®µï¼ˆåˆå¹¶è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨ç§»é™¤è¢«æ ‡è®°åˆ é™¤çš„æ–‡æ¡£ï¼‰</li></ul><p>æœ€åå°ç»“ä¸€ä¸‹esçš„æŒä¹…åŒ–</p><ul><li>ç´¢å¼•åˆ†æ®µå­˜å‚¨ï¼Œæ®µç”Ÿæˆcheckpointä¹‹åï¼Œåˆ™åªè¯»ï¼Œå› æ­¤å¯ä»¥å…¨é‡ç¼“å­˜ï¼Œä¸ç”¨è€ƒè™‘æ›´æ–°ä¿®æ”¹</li><li>å»¶è¿Ÿå†™ç­–ç•¥ï¼šå…ˆæ›´æ–°å†…å­˜æ•°æ®ï¼Œå¼‚æ­¥æäº¤æ–‡ä»¶ç¼“å­˜ç³»ç»Ÿï¼Œæœ€åå†ç”±æ“ä½œç³»ç»Ÿåˆ·ç›˜</li><li>å†…å­˜ä¸­çš„æ•°æ®ä¸èƒ½è¢«æ£€ç´¢ï¼›æ–‡ä»¶ç¼“å­˜ + æ®µä¸­çš„æ•°æ®æä¾›æŸ¥è¯¢èšåˆï¼Œæœ€ç»ˆçš„ç»“æœä¼šè¿‡æ»¤å·²æ ‡è®°åˆ é™¤çš„æ–‡æ¡£</li></ul><p><strong>å‚è€ƒåšæ–‡</strong></p><ul><li><a href="https://mp.weixin.qq.com/s/gvSNazpxAE78v0J7DP9K1g" target="_blank" rel="noopener noreferrer">ä¸¤ä¸‡å­—æ•™ç¨‹ï¼Œå¸¦ä½ é¨æ¸¸ElasticSearch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://xie.infoq.cn/article/55095e9626718380c4072f5fb" target="_blank" rel="noopener noreferrer">ElasticSearchåŸç†è§£æ_elasticsearch_Chank<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="_4-5-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_4-5-å°ç»“" aria-hidden="true">#</a> 4.5 å°ç»“</h3><p>è¿™ä¸€å°èŠ‚ä¸»è¦ä»‹ç»çš„æ˜¯ESçš„é«˜å¯ç”¨æœºåˆ¶ï¼ŒåŒ…æ‹¬ESçš„é›†ç¾¤å·¥ä½œåŸç†ï¼Œé€‰ä¸¾ç­–ç•¥ï¼›é‡‡ç”¨æ•°æ®åˆ†ç‰‡æ”¯æŒå¤§æ•°æ®åœºæ™¯çš„æ”¯æŒï¼Œå€ŸåŠ©å‰¯æœ¬æ¥æé«˜å¯ç”¨æ€§ï¼›</p><p>ESåŸç”Ÿæ”¯æŒé›†ç¾¤</p><ul><li>è§’è‰²åˆ’åˆ†ï¼šå€™é€‰ä¸»èŠ‚ç‚¹ + æ•°æ®èŠ‚ç‚¹</li><li>æ•°æ®èŠ‚ç‚¹ï¼šè´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œç›¸å…³çš„æ“ä½œ(CURDï¼Œèšåˆ)ç­‰ï¼Œå› æ­¤å¯¹æœºå™¨æ€§èƒ½è¦æ±‚è¾ƒé«˜</li><li>å€™é€‰ä¸»èŠ‚ç‚¹ï¼šæ‹¥æœ‰é€‰ä¸¾æƒå’Œè¢«é€‰ä¸¾æƒï¼Œä¸»èŠ‚ç‚¹åœ¨å€™é€‰ä¸»èŠ‚ç‚¹ä¸­è¯„é€‰å‡ºæ¥ï¼Œè´Ÿè´£åˆ›å»ºç´¢å¼•ã€åˆ é™¤ç´¢å¼•ã€è·Ÿè¸ªå“ªäº›èŠ‚ç‚¹æ˜¯ç¾¤é›†çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶å†³å®šå“ªäº›åˆ†ç‰‡åˆ†é…ç»™å“ªäº›çš„èŠ‚ç‚¹ã€è¿½è¸ªé›†ç¾¤ä¸­èŠ‚ç‚¹çš„çŠ¶æ€ç­‰</li></ul><p>ESæ•°æ®æŒä¹…åŒ–ç­–ç•¥</p><ul><li>ç´¢å¼•åˆ†æ®µå­˜å‚¨ï¼Œæ®µç”Ÿæˆcheckpointä¹‹åï¼Œåˆ™åªè¯»ï¼Œå› æ­¤å¯ä»¥å…¨é‡ç¼“å­˜ï¼Œä¸ç”¨è€ƒè™‘æ›´æ–°ä¿®æ”¹ï¼›å½“å‡ºç°ä¿®æ”¹æ—¶ï¼Œæ ‡è®°åŸæ¥æ®µä¸­æ–‡æ¡£åˆ é™¤ï¼Œåœ¨æ–°çš„æ®µå†™å…¥æ•°æ®</li><li>å»¶è¿Ÿå†™ç­–ç•¥ï¼šå…ˆæ›´æ–°å†…å­˜æ•°æ®ï¼Œå¼‚æ­¥æäº¤æ–‡ä»¶ç¼“å­˜ç³»ç»Ÿï¼Œæœ€åå†ç”±æ“ä½œç³»ç»Ÿåˆ·ç›˜</li><li>å†…å­˜ä¸­çš„æ•°æ®ä¸èƒ½è¢«æ£€ç´¢ï¼›æ–‡ä»¶ç¼“å­˜ + æ®µä¸­çš„æ•°æ®æä¾›æŸ¥è¯¢èšåˆï¼Œæœ€ç»ˆçš„ç»“æœä¼šè¿‡æ»¤å·²æ ‡è®°åˆ é™¤çš„æ–‡æ¡£</li></ul><h2 id="_5-ä¸€ç°ç°çš„æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_5-ä¸€ç°ç°çš„æ€»ç»“" aria-hidden="true">#</a> 5.ä¸€ç°ç°çš„æ€»ç»“</h2><h3 id="_5-1-ç»¼è¿°" tabindex="-1"><a class="header-anchor" href="#_5-1-ç»¼è¿°" aria-hidden="true">#</a> 5.1 ç»¼è¿°</h3><p>æœ¬ç‰‡æ–‡ç« ä¸»è¦æ˜¯åˆ†æå½“ä¸‹ä¸åŒåº”ç”¨åœºæ™¯ä¸‹çš„å‡ ä¸ªä¸»æµç³»ç»Ÿçš„é«˜å¯ç”¨ç­–ç•¥ï¼Œæ¥çœ‹ä¸€ä¸‹å¦‚ä½•æ¥ä¿éšœçš„ç³»ç»Ÿçš„é«˜å¯ç”¨</p><p><strong>å¸¸è§çš„é«˜å¯ç”¨æ€è·¯</strong></p><ul><li>å†—ä½™ ï¼ˆå¦‚æ•°æ®å‰¯æœ¬ã€ä¸»å¤‡æœåŠ¡ç­‰ï¼‰</li><li>æ‹†åˆ† ï¼ˆæ•°æ®æ‹†åˆ†ã€æœåŠ¡èƒ½åŠ›æ‹†åˆ†ç­‰ï¼‰</li><li>æŒä¹…åŒ–</li></ul><p><strong>redis</strong></p><ul><li>æŒä¹…åŒ–ï¼šRDBæ•°æ®è½ç›˜åŠ è½½æ–¹å¼ + AOFè®°å½•æ“ä½œå‘½ä»¤ç”¨äºå›æ”¾ç­–ç•¥</li><li>ä¸»ä»ï¼Œä¸»ä»ä»ï¼šå…¨é‡æ•°æ®å†—ä½™ã€è¯»å†™è¯·æ±‚åˆ†ç¦»ï¼Œè´Ÿè½½å‡è¡¡çš„æ€æƒ³ï¼›æ ¸å¿ƒé—®é¢˜åœ¨äºä¸»èŠ‚ç‚¹æŒ‚æ‰ä¹‹åéœ€è¦äººå·¥å‚ä¸æ‰‹åŠ¨æŒ‡å®šä¸»åº“</li><li>å“¨å…µæœºåˆ¶ï¼šPING/PONGçš„æ¢æ´»æœºåˆ¶ï¼Œç›‘å¬ä¸»èŠ‚ç‚¹ï¼Œå®•æœºä¹‹åè‡ªåŠ¨é€‰ä¸»ï¼Œç¡®ä¿é«˜å¯ç”¨ï¼›æ ¸å¿ƒé—®é¢˜åœ¨äºæ‰€æœ‰çš„å®ä¾‹å†—ä½™ç›¸åŒçš„ä¸€ä»½æ•°æ®ï¼Œæ•°æ®é‡å¤§æ—¶ä¸å‹å¥½</li><li>é›†ç¾¤ï¼šæ•°æ®åˆ†ç‰‡ï¼Œæ¯ä¸ªå®ä¾‹æä¾›éƒ¨åˆ†æœåŠ¡èƒ½åŠ›</li></ul><p><strong>mysql</strong></p><ul><li>é€šè¿‡å†—ä½™æ¥å®ç°é«˜å¯ç”¨ï¼šå¦‚ä¸»å¤‡</li><li>è¯»å†™åˆ†ç¦»ï¼Œå®ç°è´Ÿè½½å‡è¡¡ï¼šä¸»ä»ã€ä¸»ä»ä»æ¨¡å¼</li><li>æ•°æ®æŒä¹…åŒ–ç­–ç•¥ï¼šæ“ä½œå†…å­˜(buffer)ï¼Œå¼‚æ­¥åˆ·ç›˜ï¼Œä¸¤é˜¶æ®µæäº¤ä¿éšœä¸€è‡´æ€§</li></ul><p><strong>rabbitmq</strong></p><ul><li>ä¸»å¤‡æ¨¡å¼</li><li>é•œåƒæ¨¡å¼ï¼šå…¨é‡å†—ä½™ä¸€ä»½æ•°æ®ï¼Œä¸»å¯¹å¤–æä¾›æœåŠ¡ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨åˆ‡ä¸»</li><li>æ™®é€šé›†ç¾¤æ¨¡å¼ï¼šæ•°æ®æ‹†åˆ†åˆ°é›†ç¾¤çš„å®ä¾‹ä¸­ï¼Œconsumer/publisherè¿æ¥åˆ°å®ä¾‹ä¹‹åï¼Œä¼šä»å…·ä½“æŒæœ‰exchange/topicçš„å®ä¾‹ä¸Šæ‹‰æ•°æ®</li><li>è¿œç¨‹æ¨¡å¼ï¼šé€‚ç”¨äºå¤šä¸­å¿ƒçš„åœºæ™¯ï¼Œå°†æ¶ˆæ¯è½¬å‘ç»™å…¶ä»–ä¸­å¿ƒçš„å®ä¾‹</li></ul><p><strong>ElasticSearch</strong></p><ul><li>ESé›†ç¾¤ï¼šæ•°æ®èŠ‚ç‚¹ + å€™é€‰ä¸»èŠ‚ç‚¹</li><li>ESæŒä¹…åŒ–ï¼š <ul><li>å»¶è¿Ÿå†™ç­–ç•¥ï¼Œå…ˆæ›´æ–°å†…å­˜ï¼Œç„¶åæäº¤æ“ä½œç³»ç»Ÿç¼“å­˜ï¼Œæœ€åå¼‚æ­¥åˆ·æ–°åˆ°ç£ç›˜ï¼›</li><li>ç´¢å¼•åˆ†æ®µå­˜å‚¨ï¼šæ®µç”Ÿæˆcheckpointä¹‹åï¼Œåˆ™åªè¯»ï¼Œå› æ­¤å¯ä»¥å…¨é‡ç¼“å­˜ï¼Œä¸ç”¨è€ƒè™‘æ›´æ–°ä¿®æ”¹ï¼›å½“å‡ºç°ä¿®æ”¹æ—¶ï¼Œæ ‡è®°åŸæ¥æ®µä¸­æ–‡æ¡£åˆ é™¤ï¼Œåœ¨æ–°çš„æ®µå†™å…¥æ•°æ®</li></ul></li></ul><h3 id="_5-2-ä¸»é¢˜æ— å…³" tabindex="-1"><a class="header-anchor" href="#_5-2-ä¸»é¢˜æ— å…³" aria-hidden="true">#</a> 5.2 ä¸»é¢˜æ— å…³</h3><p>åœ¨å‡†å¤‡å†™æœ¬æ–‡æ—¶ï¼ŒåŸè®¡åˆ’é’ˆå¯¹ä¸åŒä¸šåŠ¡åœºæ™¯å„æŒ‘ä¸€ä¸ªç»å…¸çš„ç³»ç»Ÿæ¥åˆ†æä¸‹å„è‡ªçš„é«˜å¯ç”¨æ–¹æ¡ˆï¼Œå®é™…å†™ä¸‹æ¥å‘ç°å·¥ä½œé‡æœ‰ç‚¹å¤§ï¼›å°±æŠŠæœ€åçš„ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿhdfsç»™æš‚ç¼“äº†ï¼ˆå¯¹äºå¤§å¤šæ•°ä¸šåŠ¡å¼€å‘è€Œè¨€ï¼Œæ¥è§¦çš„æœºä¼šä¹Ÿä¸ä¼šå¤ªå¤šï¼‰ï¼Œè¿™ä¸ªä¼šæ”¾åœ¨ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿ-æ¡ˆä¾‹å‰–æã€‹ä¸­è¿›è¡Œä»‹ç»</p><p>æœ€è¿‘ä¼šèŠ±å¤§é‡çš„æ—¶é—´ç²¾åŠ›ï¼Œå‡†å¤‡åšä¸€ä¸ªé«˜è´¨é‡çš„ã€Šåˆ†å¸ƒå¼ä¸“æ ã€‹ï¼Œæ¬¢è¿æœ‰å…´è¶£æ”¶è—å…³æ³¨ ä¸€ç°ç°çš„ä¸»ç«™</p><ul><li>ä¸“æ åœ°å€ï¼š* <a href="https://hhui.top/%E5%88%86%E5%B8%83%E5%BC%8F/" target="_blank" rel="noopener noreferrer">åˆ†å¸ƒå¼ä¸“æ  | ä¸€ç°ç°Learning<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>ç²¾é€‰ï¼š * <a href="https://hhui.top/%E5%88%86%E5%B8%83%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01.%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%BB%BC%E8%BF%B0/" target="_blank" rel="noopener noreferrer">åˆ†å¸ƒå¼è®¾è®¡æ¨¡å¼ç»¼è¿° | ä¸€ç°ç°Learning<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/liuyueyi/tutorial/edit/main/src/column/arch/distribute/é«˜å¯ç”¨/01.å¸¸è§çš„é«˜å¯ç”¨æŠ€æœ¯æ–¹æ¡ˆ.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: bangzewu@126.com">yihui</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><!----><a href="/tutorial/column/arch/distribute/%E9%AB%98%E5%8F%AF%E7%94%A8/02.Redis%E3%80%81ES%E3%80%81Hbase%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8%E6%96%B9%E6%A1%88.html" class="nav-link next" aria-label="02.Redisã€ESã€Hbaseçš„é«˜å¯ç”¨æ–¹æ¡ˆ"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">02.Redisã€ESã€Hbaseçš„é«˜å¯ç”¨æ–¹æ¡ˆ<!----></div></a></nav><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é„‚ICPå¤‡18017282å·</div><div class="copyright">Copyright Â© 2025 ä¸€ç°ç°blog</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/tutorial/assets/app-16455835.js" defer></script>
  </body>
</html>
